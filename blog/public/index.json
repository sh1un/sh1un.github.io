[{"content":"å¦‚ä½•ä½¿ç”¨ ALB æš´éœ²ä½ çš„ EKS Tags: AWS ALB, AWS EKS, AWS ELB, Kubernetes Category: AWS, Kubernetes Created time: March 17, 2025 4:17 PM Last edited time: March 18, 2025 10:22 AM\naws-load-balancer-controller 1.11.0 Â· helm/aws\nRoute application and HTTP traffic with Application Load Balancers - Amazon EKS\nWhen you create a KubernetesÂ ingress, an AWS Application Load Balancer (ALB) is provisioned that load balances application traffic.\nQ\u0026amp;A AWS Load Balancer Controller æœƒä»¥ä»€éº¼æ¨£çš„å½¢å¼å­˜åœ¨åœ¨ K8s Cluster?\nClaude 3.7 Sonnet\nAWS Load Balancer Controller åœ¨ Kubernetes (K8s) å¢é›†ä¸­æ˜¯ä»¥ Deployment çš„å½¢å¼å­˜åœ¨ï¼Œå…·é«”ä¾†èªªå®ƒæœ‰ä»¥ä¸‹ç‰¹é»ï¼š\nå®ƒä½œç‚ºä¸€å€‹ Deployment è³‡æºéƒ¨ç½²åœ¨ K8s å¢é›†ä¸­ é€šå¸¸éƒ¨ç½²åœ¨ kube-system æˆ–å°ˆé–€çš„å‘½åç©ºé–“ï¼ˆå¦‚ aws-load-balancer-controllerï¼‰ ä»¥ Pod çš„å½¢å¼é‹è¡Œï¼ŒPod å…§åŒ…å« AWS Load Balancer Controller çš„å®¹å™¨ ä½¿ç”¨ ServiceAccount èˆ‡ç›¸æ‡‰çš„ RBAC æ¬Šé™ä¾†ç®¡ç† K8s è³‡æº ç›£è½ç‰¹å®šçš„ K8s è³‡æºï¼ˆå¦‚ Ingress, Serviceï¼‰ä¸¦è‡ªå‹•åœ¨ AWS ä¸­å‰µå»ºå’Œé…ç½®ç›¸æ‡‰çš„è² è¼‰å‡è¡¡å™¨ AWS Load Balancer Controller çš„ä¸»è¦åŠŸèƒ½æ˜¯ç›£è½ Kubernetes ä¸­çš„è®ŠåŒ–ï¼Œç‰¹åˆ¥æ˜¯ Ingress å’Œ Service é¡å‹ç‚º LoadBalancer çš„è³‡æºï¼Œç„¶å¾Œåœ¨ AWS ä¸­è‡ªå‹•å‰µå»ºå’Œé…ç½®ç›¸æ‡‰çš„ Application Load Balancer (ALB) æˆ– Network Load Balancer (NLB)ï¼Œç¢ºä¿å¤–éƒ¨æµé‡èƒ½å¤ æ­£ç¢ºè·¯ç”±åˆ° K8s å¢é›†ä¸­çš„æ‡‰ç”¨ã€‚\nalb.ingress.kubernetes.io/healthcheck-path: è€å¯¦èªªæˆ‘ä¸çŸ¥é“ Nginx çš„å¥åº·æª¢æŸ¥è·¯å¾‘\nClaude 3.7 Sonnet\nå°æ–¼ Nginxï¼Œé è¨­çš„å¥åº·æª¢æŸ¥è·¯å¾‘å¯ä»¥ç®€å•è®¾ä¸º /ï¼Œä½†è¿™å¯èƒ½æœƒå°è‡´æ¯æ¬¡å¥åº·æª¢æŸ¥éƒ½è¼‰å…¥å®Œæ•´é é¢ï¼Œé€™ä¸¦ä¸æ˜¯æœ€ç†æƒ³çš„æ–¹æ³•ã€‚\næ›´å¥½çš„åšæ³•æ˜¯åœ¨ä½ çš„ Nginx é…ç½®ä¸­å‰µå»ºä¸€å€‹å°ˆé–€ç”¨æ–¼å¥åº·æª¢æŸ¥çš„è¼•é‡ç´šç«¯é»ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨ Nginx é…ç½®ä¸­æ·»åŠ ï¼š\nlocation /health { access_log off; return 200 \u0026#34;healthy\\n\u0026#34;; } ç„¶å¾Œåœ¨ Ingress ä¸­è¨­ç½®:\nalb.ingress.kubernetes.io/healthcheck-path: /health é€™æ¨£ AWS ALB å°±æœƒæª¢æŸ¥é€™å€‹è¼•é‡ç´šè·¯å¾‘ï¼Œè€Œä¸æœƒåŠ é‡ä½ çš„æ‡‰ç”¨è² æ“”ã€‚\nå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ¨™æº–çš„ Nginx æ˜ åƒè€Œæ²’æœ‰è‡ªå®šç¾©é…ç½®ï¼Œé‚£éº¼ä½¿ç”¨ / è·¯å¾‘æ‡‰è©²å¯ä»¥å·¥ä½œï¼Œä½†æ•ˆç‡ä¸æ˜¯æœ€ä½³ã€‚ALB å¥åº·æª¢æŸ¥æœƒå‘é€™å€‹è·¯å¾‘ç™¼é€è«‹æ±‚ï¼Œå¦‚æœæ”¶åˆ° 2xx æˆ– 3xx éŸ¿æ‡‰ç¢¼ï¼Œå°±æœƒèªç‚ºæœå‹™æ˜¯å¥åº·çš„ã€‚\næ³¨æ„ï¼šå¦‚æœä½ çš„ Nginx è¨­ç½®äº†è¤‡é›œçš„è·¯ç”±æˆ–èªè­‰ï¼Œç¢ºä¿å¥åº·æª¢æŸ¥è·¯å¾‘æ˜¯å¯ä»¥ç„¡èªè­‰è¨ªå•çš„ï¼Œå¦å‰‡å¥åº·æª¢æŸ¥æœƒå¤±æ•—ã€‚\næˆ‘å¾ˆå¥½å¥‡ï¼Œæˆ‘åœ¨ ingress é‚£é‚Šå‘€æ ¹æœ¬æ²’æŒ‡å®šä»€éº¼ regionï¼Œé‚£ kubectl apply -f ingress.yaml å¾Œï¼Œk8s æ€é‚£éº¼è°æ˜çŸ¥é“è¦å»ºç«‹ ALB åœ¨å“ªå€‹ AWS Region?\nClaude 3.7 Sonnt é€™æ˜¯å€‹å¾ˆå¥½çš„å•é¡Œï¼Kubernetes æœ¬èº«ä¸¦ä¸çŸ¥é“è¦åœ¨å“ªå€‹ AWS å€åŸŸå»ºç«‹ ALBï¼Œé€™å€‹é‚è¼¯æ˜¯ç”± AWS Load Balancer Controller è™•ç†çš„ã€‚é€™è£¡æ˜¯å®ƒå¦‚ä½•å·¥ä½œçš„ï¼š\nç•¶ä½ éƒ¨ç½² AWS Load Balancer Controller åˆ°ä½ çš„ Kubernetes å¢é›†æ™‚ï¼Œä½ éœ€è¦ç‚ºå®ƒæä¾› AWS æ†‘è­‰å’Œé…ç½®ã€‚Controller æœƒåœ¨å•Ÿå‹•æ™‚ç¢ºå®šå®ƒéœ€è¦æ“ä½œçš„ AWS å€åŸŸï¼Œé€šå¸¸æ˜¯é€šéä»¥ä¸‹å¹¾ç¨®æ–¹å¼ä¹‹ä¸€ï¼š\nå¾ EC2 å¯¦ä¾‹å…ƒæ•¸æ“šç²å–ï¼šå¦‚æœä½ çš„ Kubernetes å¢é›†é‹è¡Œåœ¨ EKS æˆ–è‡ªç®¡ç†çš„ EC2 å¯¦ä¾‹ä¸Šï¼ŒController æœƒä½¿ç”¨ EC2 å¯¦ä¾‹å…ƒæ•¸æ“šæœå‹™ä¾†ç¢ºå®šç•¶å‰çš„ AWS å€åŸŸã€‚ å¾ç’°å¢ƒè®Šæ•¸ç²å–ï¼šéƒ¨ç½² Controller æ™‚å¯èƒ½è¨­ç½®äº† AWS_REGION æˆ– AWS_DEFAULT_REGION ç’°å¢ƒè®Šæ•¸ã€‚ å¾ AWS SDK é…ç½®ç²å–ï¼šController ä½¿ç”¨ AWS SDKï¼Œå¯èƒ½æœƒå¾ ~/.aws/config æˆ–å…¶ä»– AWS é…ç½®ä¾†æºç²å–å€åŸŸä¿¡æ¯ã€‚ å¾ Controller çš„éƒ¨ç½²é…ç½®ç²å–ï¼šåœ¨ Helm chart æˆ– YAML éƒ¨ç½²æ–‡ä»¶ä¸­ï¼Œå¯èƒ½æœƒæ˜ç¢ºè¨­ç½® AWS å€åŸŸã€‚ åŸºæœ¬åŸå‰‡æ˜¯ï¼šAWS Load Balancer Controller æœƒåœ¨éƒ¨ç½²å’Œé…ç½®æ™‚å·²ç¶“çŸ¥é“å®ƒæ‡‰è©²æ“ä½œå“ªå€‹ AWS å€åŸŸï¼Œé€™æ¨£ç•¶ä½ æ‡‰ç”¨ Ingress è³‡æºæ™‚ï¼Œå®ƒå°±å·²ç¶“çŸ¥é“æ‡‰è©²åœ¨å“ªå€‹å€åŸŸå‰µå»º ALBã€‚\né€™æ­£æ˜¯ Kubernetes é‹ç‡Ÿå•†æ¨¡å¼ï¼ˆOperator Patternï¼‰çš„é­…åŠ›æ‰€åœ¨ - ä½ åªéœ€è¦è²æ˜ä½ æƒ³è¦ä»€éº¼ï¼ˆåœ¨é€™å€‹ä¾‹å­ä¸­æ˜¯ä¸€å€‹ Ingress è³‡æºï¼‰ï¼Œè€Œå°ˆé–€çš„ Controller æœƒè™•ç†å¦‚ä½•åœ¨ç‰¹å®šçš„é›²ç’°å¢ƒä¸­å¯¦ç¾å®ƒçš„æ‰€æœ‰ç´°ç¯€ã€‚\nChatGPT 4o åœ¨ Kubernetes (k8s) çš„ Ingress è¨­å®šä¸­ï¼Œä½ çš„ ingress.yaml ä¸¦ä¸æœƒç›´æ¥æŒ‡å®š AWS Regionï¼Œä½† Kubernetes ä¹‹æ‰€ä»¥çŸ¥é“è©²åœ¨å“ªå€‹ AWS Region å»ºç«‹ ALB (Application Load Balancer)ï¼Œæ˜¯å› ç‚º ä½ çš„ EKS Cluster (æˆ– Kubernetes cluster) æ˜¯å»ºç«‹åœ¨æŸå€‹ AWS Region ä¸Šçš„ã€‚\nç‚ºä»€éº¼ Kubernetes çŸ¥é“è¦åœ¨å“ªå€‹ AWS Region å»ºç«‹ ALBï¼Ÿ EKS Cluster å·²ç¶“ç¶å®š AWS Region ç•¶ä½ å»ºç«‹ EKS (Amazon Elastic Kubernetes Service) Cluster æ™‚ï¼Œä½ å·²ç¶“æŒ‡å®šäº† AWS Regionã€‚ä¾‹å¦‚ï¼š\naws eks create-cluster --region us-west-2 --name my-cluster ... é€™å€‹ EKS Cluster å…§çš„æ‰€æœ‰ AWS ç›¸é—œè³‡æº (åƒæ˜¯ Load Balancer, EBS, IAM Policies) éƒ½æœƒåœ¨é€™å€‹ Region å…§å»ºç«‹ã€‚\nKubernetes é€é AWS Load Balancer Controller è‡ªå‹•æŸ¥è©¢ Region ç•¶ä½ åœ¨ kubectl apply -f ingress.yaml æ™‚ï¼ŒEKS å…§éƒ¨çš„ AWS Load Balancer Controller æœƒè‡ªå‹•è§£æè©² Ingress è³‡è¨Šï¼Œç„¶å¾Œï¼š æŸ¥è©¢è©² EKS Cluster æ‰€åœ¨çš„ AWS Region åœ¨è©² Region è‡ªå‹•å»ºç«‹å°æ‡‰çš„ ALB ä½ å¯ä»¥é€é kubectl get deployment -n kube-system aws-load-balancer-controller ç¢ºèª AWS Load Balancer Controller æ˜¯å¦æœ‰é‹è¡Œã€‚ é€é EKS Cluster çš„ IAM Role ä¾†å­˜å– AWS è³‡æº EKS Cluster æœƒä½¿ç”¨æŒ‡å®šçš„ IAM Roleï¼Œé€™å€‹ Role çš„æ¬Šé™é€šå¸¸å…è¨±å®ƒç®¡ç† ELB/ALBã€‚ ç•¶ Ingress Controller åµæ¸¬åˆ°æ–°çš„ Ingress è³‡æºæ™‚ï¼Œå®ƒæœƒä½¿ç”¨é€™å€‹ IAM Role ä¾†å‘¼å« AWS APIï¼Œåœ¨ EKS Cluster æ‰€åœ¨çš„ Region å»ºç«‹ ALBã€‚ ä½ å¯ä»¥åœ¨å“ªè£¡çœ‹åˆ° Region è¨­å®šï¼Ÿ å¦‚æœä½ æƒ³ç¢ºèªä½ çš„ Kubernetes Cluster æ˜¯åœ¨å“ªå€‹ AWS Regionï¼Œå¯ä»¥ï¼š\naws eks describe-cluster --name my-cluster --query \u0026#34;cluster.resourcesVpcConfig.clusterSecurityGroupId\u0026#34; --region us-west-2 æˆ–ç›´æ¥æŸ¥è©¢ Cluster çš„ Regionï¼š\nkubectl get nodes -o wide ä½ æœƒçœ‹åˆ° Node (EC2) æ˜¯åœ¨å“ªå€‹ AWS å¯ç”¨å€ (AZ)ï¼Œä¹Ÿå¯ä»¥æ¨æ–·å‡º Regionã€‚\nçµè«– ç•¶ä½  kubectl apply -f ingress.yamlï¼ŒKubernetes ä¹‹æ‰€ä»¥çŸ¥é“ ALB è¦å»ºåœ¨å“ªå€‹ Regionï¼Œæ˜¯å› ç‚ºï¼š\nEKS Cluster æœ¬èº«å·²ç¶“æ˜¯ Region-Specificï¼Œæ‰€æœ‰ AWS è³‡æºéƒ½æœƒåœ¨é€™å€‹ Region å…§å»ºç«‹ã€‚ AWS Load Balancer Controller æœƒè‡ªå‹•åµæ¸¬ EKS Cluster çš„ Regionï¼Œä¸¦åœ¨ç›¸æ‡‰çš„ Region å…§å»ºç«‹ ALBã€‚ EKS Cluster çš„ IAM Role å·²ç¶“æœ‰æ¬Šé™å­˜å–è©² Region å…§çš„ AWS è³‡æºï¼Œè®“ Controller å¯ä»¥é€é AWS API å»ºç«‹ ALBã€‚ ä½ ä¸éœ€è¦æ‰‹å‹•æŒ‡å®š Regionï¼Œå› ç‚º EKS Cluster æœ¬èº«å·²ç¶“æ±ºå®šäº†ä¸€åˆ‡ ğŸš€\nå‰æƒ…æè¦ å‰›ç¶“æ­·äº†ä¸€æ³¢è‹¦æµ· è¸©å‘ç´€éŒ„ - æ›´æ–°äº† resources requestï¼Œç„¡æ³•èª¿åº¦ pod Karpenter å’Œ Pod è¦æ€éº¼è¨­ç½®ï¼Œæ‰å¯ä»¥è®“ WorkerNode é–‹åœ¨ä¸åŒ AZï¼ŒPod é…åœ¨ä¸åŒ Node\næ¥ä¸‹ä¾†æˆ‘è¦ç”¨ ALB æš´éœ²æˆ‘çš„æ‡‰ç”¨å•¦\nå…¶å¯¦ä¹‹å‰åœ¨åš [Workshop] AmazonÂ EKSÂ Workshop - Fundamental æœ‰åšåˆ°ä¸€é»é»ï¼Œå¤§æ¦‚æœ‰å€‹åŸºæœ¬æ¦‚å¿µäº†ï¼Œä½†æ˜¯æˆ‘å¸Œæœ›æˆ‘è‡ªå·±èƒ½å¤ å»ç†è§£é€å¾¹é€™é‚Šçš„åŸç†æ·±å…¥ä¸€é»\nå®‰è£ AWS Load Banlancer Controller åˆ°é›†ç¾¤ å–è‡ª Helm TL;DR:\nhelm repo add eks https://aws.github.io/eks-charts # If using IAM Roles for service account install as follows - NOTE: you need to specify both of the chart values `serviceAccount.create=false` and `serviceAccount.name=aws-load-balancer-controller` helm install aws-load-balancer-controller eks/aws-load-balancer-controller --set clusterName=my-cluster -n kube-system --set serviceAccount.create=false --set serviceAccount.name=aws-load-balancer-controller # If not using IAM Roles for service account helm install aws-load-balancer-controller eks/aws-load-balancer-controller --set clusterName=my-cluster -n kube-system æˆ‘æ˜¯æ²’å®‰è£å•¦ï¼Œå› ç‚ºæˆ‘ç›®å‰æ‰€åœ¨ Cluster å·²ç¶“æœ‰å‰äººå®‰è£éäº†ï¼š\n$ kubectl get deploy -n kube-system | grep aws-load aws-load-balancer-controller 2/2 2 2 2y152d å»ºç«‹ Ingress é€™é‚Šæˆ‘æœƒéœ€è¦å…ˆæ‹¿åˆ° Nginx çš„ Service name\n$ kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE shiun-nginx ClusterIP 172.20.235.205 \u0026lt;none\u0026gt; 80/TCP,443/TCP 3d2h ç„¶å¾Œä¾†æ’°å¯« ingress.yaml\napiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: shiun-onboarding-alb namespace: shiun-onboarding annotations: alb.ingress.kubernetes.io/scheme: internet-facing alb.ingress.kubernetes.io/target-type: ip alb.ingress.kubernetes.io/healthcheck-path: / spec: ingressClassName: alb rules: - http: paths: - path: / pathType: Prefix backend: service: name: shiun-nginx port: number: 80 kubectl apply -f ingress.yaml æ¥è‘—ä¸Šå»çœ‹ ALB Consoleï¼Œå°±æœƒçœ‹åˆ°ä»–æ­£åœ¨å‰µå»ºäº†ï¼š\nç„¶å¾Œæ‹¿åˆ° ALB çš„ DNS Nameï¼Œçœ‹åˆ°ç•«é¢ï¼ï¼\n","permalink":"https://shiun.me/blog/how-to-expose-your-alb-by-eks/","summary":"\u003ch1 id=\"å¦‚ä½•ä½¿ç”¨-alb-æš´éœ²ä½ çš„-eks\"\u003eå¦‚ä½•ä½¿ç”¨ ALB æš´éœ²ä½ çš„ EKS\u003c/h1\u003e\n\u003cp\u003eTags: AWS ALB, AWS EKS, AWS ELB, Kubernetes\nCategory: AWS, Kubernetes\nCreated time: March 17, 2025 4:17 PM\nLast edited time: March 18, 2025 10:22 AM\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://artifacthub.io/packages/helm/aws/aws-load-balancer-controller\"\u003eaws-load-balancer-controller 1.11.0 Â· helm/aws\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html\"\u003eRoute application and HTTP traffic with Application Load Balancers - Amazon EKS\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhen you create a KubernetesÂ \u003ccode\u003eingress\u003c/code\u003e, an AWS Application Load Balancer (ALB) is provisioned that load balances application traffic.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"qa\"\u003eQ\u0026amp;A\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAWS Load Balancer Controller æœƒä»¥ä»€éº¼æ¨£çš„å½¢å¼å­˜åœ¨åœ¨ K8s Cluster?\u003c/p\u003e","title":"How to Expose Your ALB by EKS"},{"content":" åœ¨ æˆ‘çš„ Notion Kubernetes å­¸ç¿’ç­†è¨˜ - Jan 13, 2025 ä¸­ï¼Œæˆ‘é€é CKA çš„èª²ç¨‹å­¸ç¿’åˆ° kubectl apply èƒŒå¾Œçš„åŸç†ï¼Œè€Œæˆ‘çŸ¥é“ kubectl apply èƒŒå¾Œæœ‰ä¸‰å€‹æ±è¥¿ä¾†æ±ºå®šå®ƒå¦‚ä½•è®Šæ›´è³‡æºï¼š\nConfiguration fileï¼šé…ç½®æ–‡ä»¶ï¼Œä»£è¡¨ä½¿ç”¨è€…çš„æœ€æ–°æ„åœ–ã€‚ Last applied configurationï¼šä¸Šæ¬¡ä½¿ç”¨ kubectl apply æ™‚è¨˜éŒ„çš„é…ç½®ï¼Œç”¨æ–¼è¿½è¹¤è®Šæ›´ã€‚ Live configurationï¼šç›®å‰ Kubernetes å¢é›†ä¸­çš„å¯¦éš›é…ç½®ç‹€æ…‹ã€‚ ä»¥ä¸‹å¼•ç”¨ Kubernetes å®˜æ–¹æ–‡ä»¶çš„èªªæ˜ï¼š\nWhenÂ kubectl applyÂ updates the live configuration for an object, it does so by sending a patch request to the API server. The patch defines updates scoped to specific fields of the live object configuration. TheÂ kubectl applyÂ command calculates this patch request using the configuration file, the live configuration, and theÂ last-applied-configurationÂ annotation stored in the live configuration.\næˆ‘åœ¨å­¸ç¿’æ™‚å°±å¾ˆç´æ‚¶ä¹Ÿå¾ˆç–‘æƒ‘ï¼šç‚ºä»€éº¼ä¸ç›´æ¥æ¯”è¼ƒ Configuration file å’Œ Live configuration å°±å¥½ï¼Ÿåæ­£ Configuration file å¯«ä»€éº¼å°±æ˜¯çµ•å°çœŸç†ï¼ŒLive configuration ç…§è‘—è²æ˜çš„æœŸæœ›é…ç½®å»å¯¦ç¾å°±å¥½ï¼Œç‚ºä½•é€™ä¸­é–“é‚„éœ€è¦å¤šä¸€å€‹ Last applied configurationï¼Ÿ\nTL;DR Last Applied Configuration æ˜¯ kubectl apply åˆ¤æ–·è®Šæ›´æ„åœ–çš„é—œéµï¼š\nå¦‚æœå€¼ä¹‹å‰æ˜¯ä½ è¨­ç½®çš„ï¼ˆåœ¨ Last Applied Configuration ä¸­ï¼‰ä½†ç¾åœ¨åˆªé™¤ï¼Œæœƒåˆªé™¤ Live Configuration ä¸­çš„å€¼ã€‚ å¦‚æœå€¼ä¸æ˜¯ä½ è¨­ç½®çš„ï¼ˆä¸åœ¨ Last Applied Configuration ä¸­ï¼Œå¯èƒ½æ˜¯å…¶ä»–ç”¨æˆ¶è¨­ç½®çš„ï¼‰ï¼Œå‰‡ä¿ç•™ Live Configuration ä¸­çš„å€¼ã€‚ é€™æ¨£è¨­è¨ˆçš„ç›®çš„æ˜¯ï¼š\nå°Šé‡ç”¨æˆ¶çš„è®Šæ›´æ„åœ–ï¼šä¿è­‰æ–°é…ç½®èˆ‡ Live Configuration çš„åŒæ­¥ã€‚ é¿å…èª¤åˆªå…¶ä»–ç³»çµ±æˆ–ç”¨æˆ¶é…ç½®çš„å€¼ï¼šç¢ºä¿ Live Configuration çš„ç©©å®šæ€§å’Œå®Œæ•´æ€§ã€‚ å»ºè­°å¯ä»¥æœå°‹é—œéµå­—ï¼šThree-way mergeï¼Œå°±èƒ½ç†è§£èƒŒå¾Œçš„æ„æ¶µ\nç‚ºä»€éº¼éœ€è¦ä¸‰å€‹è³‡æ–™ä¾†æºï¼Ÿ é—œéµå­—ï¼šThree-way merge\nç‚ºäº†è§£é–‹æˆ‘å°é€™è£¡çš„è¿·æƒ‘ï¼Œç•¶åˆæˆ‘å•äº†å¾ˆå¤šæ¬¡ ChatGPT 4o ï¼Œä½†ä»–çµ¦çš„è§£é‡‹æˆ‘éƒ½ä¸æ˜¯å¾ˆæ»¿æ„ã€‚\nå›åˆ°æ­£é¡Œï¼å…¶å¯¦ï¼Œé€™èˆ‡ æ¬„ä½åˆªé™¤æ„åœ–çš„åˆ¤æ–· (Determining the deletion intent of a field) æœ‰é—œã€‚\nå‡è¨­æˆ‘å€‘åªæ¯”è¼ƒ Configuration file èˆ‡ Live configurationï¼Œç•¶æŸå€‹æ¬„ä½åœ¨æœ¬åœ°é…ç½®ä¸­ä¸å­˜åœ¨æ™‚ï¼ŒKubernetes ç„¡æ³•ç¢ºå®šï¼š\nè©²æ¬„ä½æ˜¯ä½¿ç”¨è€…å¾é…ç½®æ–‡ä»¶ä¸­æœ‰æ„åˆªé™¤ï¼Œæ‡‰å¾ Live configuration ä¸­æ¸…é™¤ã€‚ è©²æ¬„ä½æ˜¯é€éå…¶ä»–æ–¹å¼ï¼ˆå¦‚æ‰‹å‹•ä¿®æ”¹æˆ–å…¶ä»–å·¥å…·ï¼‰æ–°å¢è‡³ Live configurationï¼Œæ‡‰äºˆä»¥ä¿ç•™ã€‚ é€™å°±æ˜¯ç‚ºä»€éº¼ Last applied configuration éå¸¸é‡è¦ï¼Œå®ƒæ˜¯åˆ¤æ–·æ¬„ä½åˆªé™¤æ„åœ–çš„æ ¸å¿ƒä¾æ“šã€‚\nå¾Œä¾†çœ‹åˆ° Udemy èª²ç¨‹åº•ä¸‹çš„å•èˆ‡ç­”æœ‰ä¸€ä½ç¶²å‹ Alegandro è§£é‡‹å¾—å¾ˆä¸éŒ¯ï¼Œä»¥ä¸‹æˆ‘æ•´ç†æˆä¸­æ–‡ï¼Œå¾Œé¢æœƒé™„ä¸ŠåŸå§‹å¼•æ–‡ã€‚ Alegandro åœ¨ Udemy å•èˆ‡ç­”ä¸­çš„è§£é‡‹ kubectl apply å¦‚ä½•è™•ç†è®Šæ›´ï¼š\né…ç½®æ–‡ä»¶çš„å€¼æ°¸é å„ªå…ˆæ–¼ Live Configurationã€‚ å¦‚æœå€¼å­˜åœ¨æ–¼é…ç½®æ–‡ä»¶ï¼šè¦†è“‹ Live Configuration ä¸­çš„å€¼ã€‚ å¦‚æœå€¼æ˜¯æ–°å¢åŠ çš„ï¼šåœ¨ Live Configuration ä¸­æ–°å¢è©²å€¼ã€‚ å¦‚æœå€¼ä¸å­˜åœ¨æ–¼é…ç½®æ–‡ä»¶ï¼Œä½†å­˜åœ¨æ–¼ Live Configurationï¼š å¦‚æœå€¼åœ¨ Last applied configuration ä¸­ï¼Œè¡¨ç¤ºç”¨æˆ¶æœ‰æ„åˆªé™¤è©²å€¼ï¼Œæ‡‰å¾ Live Configuration ä¸­æ¸…é™¤ã€‚ å¦‚æœå€¼ä¸åœ¨ Last applied configuration ä¸­ï¼Œè¡¨ç¤ºè©²å€¼æ˜¯å…¶ä»–æ–¹å¼æ–°å¢çš„ï¼Œæ‡‰äºˆä»¥ä¿ç•™ã€‚ ä»¥ä¸‹ç‚ºåŸå§‹å¼•æ–‡ï¼š\nAlegandro:\nThe values of the configuration file are always going to \u0026ldquo;win\u0026rdquo; over the live configuration.\nIf the value exists, it gets replaced. If the value is new, it gets created If the value doesn\u0026rsquo;t exists on the configuration file but exists on the live configuration, there can be 2 reasons:\nThe value was removed from the configuration file. In this case, you want to remove the value from the live configuration. The value was added to the live configuration not using the configuration file. In this case, you don\u0026rsquo;t want to remove the value of the live configuration. To know which of the 2 options was the reason of the change, you need the \u0026ldquo;last configuration applied\u0026rdquo;. This way:\nIf the value was on the last configuration applied, it means that the value was removed from the configuration file, so remove it from the live configuration. If the value was not on the last configuration applied, it means that the live configuration was created by other means, so don\u0026rsquo;t remove the value. I think that the intention of this is to respect the intention of the changes, if it\u0026rsquo;s in the configuration file, respect the value, if it\u0026rsquo;s not, it can be because it was deleted from the configuration or because it was created in another way. In the last case, don\u0026rsquo;t remove what was created by other means.\nç¸½çµ ç‚ºä»€éº¼éœ€è¦ Last Applied Configurationï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯å°Šé‡è®Šæ›´æ„åœ–ï¼Œæ­£ç¢ºè™•ç†æ¬„ä½çš„æ›´æ–°å’Œåˆªé™¤ï¼š\nå®ƒæ˜¯åˆ¤æ–·æ¬„ä½åˆªé™¤æ„åœ–çš„ä¾æ“šã€‚ æ²’æœ‰å®ƒï¼ŒKubernetes ç„¡æ³•å€åˆ†ã€Œæ¬„ä½è¢«åˆªé™¤ã€å’Œã€Œæ¬„ä½æ˜¯ç”±å…¶ä»–ç³»çµ±å‹•æ…‹ç”Ÿæˆã€é€™å…©ç¨®æƒ…æ³ã€‚ ç›¸é—œé€£çµ [CKA] Kubernetes å­¸ç¿’ç­†è¨˜ - Core Concepts - Shiun Notion Site Declarative Management of Kubernetes Objects Using Configuration Files Why is a 3-way merge advantageous over a 2-way merge? ","permalink":"https://shiun.me/blog/what-is-the-purpose-of-last-applied-configuration-in-kubectl-apply/","summary":"\u003cp\u003e\u003cimg loading=\"lazy\" src=\"Blog%20Cover%20-%20kubectl%20apply%20last%20applied%20configuration.png\" alt=\"Cover Image - kubectl apply, What is the purpose of last applied configuration\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eåœ¨ \u003ca href=\"https://shiun.notion.site/CKA-Kubernetes-Core-Concepts-16fea7e0d9d0806d968dff51830ccbbe?pvs=97#179ea7e0d9d080a39194c6c2e8b895e4\"\u003eæˆ‘çš„ Notion Kubernetes å­¸ç¿’ç­†è¨˜ - Jan 13, 2025\u003c/a\u003e  ä¸­ï¼Œæˆ‘é€é CKA çš„èª²ç¨‹å­¸ç¿’åˆ° \u003ccode\u003ekubectl apply\u003c/code\u003e èƒŒå¾Œçš„åŸç†ï¼Œè€Œæˆ‘çŸ¥é“ \u003ccode\u003ekubectl apply\u003c/code\u003e èƒŒå¾Œæœ‰ä¸‰å€‹æ±è¥¿ä¾†æ±ºå®šå®ƒå¦‚ä½•è®Šæ›´è³‡æºï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eConfiguration file\u003c/strong\u003eï¼šé…ç½®æ–‡ä»¶ï¼Œä»£è¡¨ä½¿ç”¨è€…çš„æœ€æ–°æ„åœ–ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLast applied configuration\u003c/strong\u003eï¼šä¸Šæ¬¡ä½¿ç”¨ \u003ccode\u003ekubectl apply\u003c/code\u003e æ™‚è¨˜éŒ„çš„é…ç½®ï¼Œç”¨æ–¼è¿½è¹¤è®Šæ›´ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLive configuration\u003c/strong\u003eï¼šç›®å‰ Kubernetes å¢é›†ä¸­çš„å¯¦éš›é…ç½®ç‹€æ…‹ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä»¥ä¸‹å¼•ç”¨ Kubernetes å®˜æ–¹æ–‡ä»¶çš„èªªæ˜ï¼š\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhenÂ \u003ccode\u003ekubectl apply\u003c/code\u003eÂ updates the live configuration for an object, it does so by sending a patch request to the API server. The patch defines updates scoped to specific fields of the live object configuration. TheÂ \u003ccode\u003ekubectl apply\u003c/code\u003eÂ command calculates this patch request using the configuration file, the live configuration, and theÂ \u003ccode\u003elast-applied-configuration\u003c/code\u003eÂ annotation stored in the live configuration.\u003c/p\u003e","title":"Kubernetes å¸¸è¦‹å•é¡Œï¼škubectl apply çš„ Last applied configuration ç”¨é€”æ˜¯ä»€éº¼ï¼Ÿ"},{"content":"åœ¨å‰ä¸€ç¯‡æ•™å­¸ä¸­ å¦‚ä½•å°‡ç¾æœ‰ NLB IPv4-only æ¶æ§‹å‡ç´šç‚º Dual-stackï¼Œæˆ‘å€‘å·²ç¶“é…ç½®å¥½ä¸€å€‹æ”¯æ´ Dual-stack çš„ NLB äº†ã€‚\nç¾åœ¨å‡è¨­æœ‰ä¸€å€‹éœ€æ±‚ï¼šã€Œå®¢æˆ¶éœ€è¦èª¿ç”¨æˆ‘å€‘çš„ APIï¼Œä¸”ä»–å€‘ä¹Ÿä½¿ç”¨ AWSã€‚ã€æœ‰æ²’æœ‰è¾¦æ³•ä¸ç¶“é Internetï¼Œè€Œæ˜¯ç›´æ¥é€é AWS çš„éª¨å¹¹ç¶²è·¯ (Backbone)ï¼Œå°‡æµé‡é€åˆ°æˆ‘å€‘çš„ NLBï¼ŸåŒæ™‚é¿å…ä½¿ç”¨ VPC Peering æˆ– Transit Gatewayï¼Œç¢ºä¿ç¶²è·¯ä¸å®Œå…¨æ‰“é€šï¼Œä»¥é™ä½æ½›åœ¨é¢¨éšªï¼Œä¾‹å¦‚è³‡æ–™æ´©æ¼æˆ–ä¸å¿…è¦çš„å®‰å…¨éš±æ‚£ã€‚\nç­”æ¡ˆå°±æ˜¯ PrivateLink\nä»€éº¼æ˜¯ PrivateLinkï¼Ÿ AWS PrivateLink æ˜¯ä¸€ç¨®å®‰å…¨çš„ç¶²è·¯æŠ€è¡“ï¼Œå…è¨±æœå‹™æä¾›è€… (Service Provider) å°‡ä»–å€‘çš„æœå‹™é€é VPC Endpoint æš´éœ²çµ¦ä½¿ç”¨è€… (Service Consumer)ï¼Œè€Œä¸éœ€è¦å°‡æµé‡ç¶“éå…¬ç¶² (Internet)ã€‚å®ƒèƒ½ç¢ºä¿æ‰€æœ‰æµé‡éƒ½åœ¨ AWS çš„éª¨å¹¹ç¶²è·¯å…§éƒ¨å‚³è¼¸ï¼Œæä¾›é«˜å®‰å…¨æ€§ã€ä½å»¶é²çš„è§£æ±ºæ–¹æ¡ˆã€‚\nPrivateLink çš„æ ¸å¿ƒç‰¹é»:\né¿å…æš´éœ²æœå‹™åˆ°å…¬ç¶²ï¼š Service Provider çš„æœå‹™ä¸éœ€è¦æœ‰ Public IPï¼ŒConsumer å¯ä»¥é€é Private IP è¨ªå•é€™äº›æœå‹™ã€‚ ç°¡åŒ–ç¶²è·¯æ¶æ§‹ï¼š ç„¡éœ€è¨­å®š VPC Peeringã€Transit Gatewayï¼Œæ‰€ä»¥ä¸ç”¨æ“”å¿ƒæ•´å€‹ç¶²è·¯æ‰“é€šçš„å®‰å…¨é¢¨éšªã€‚ è·¨å¸³è™Ÿæ”¯æŒï¼š Service Provider å’Œ Consumer å¯ä»¥ä½æ–¼ä¸åŒ AWS å¸³è™Ÿï¼Œç”šè‡³ä¸åŒ AWS çµ„ç¹”ã€‚ å¤š Region æ”¯æŒï¼š PrivateLink ç¾åœ¨ä¹Ÿæ”¯æ´è·¨å€åŸŸçš„æµé‡å‚³è¼¸ (éœ€é¡å¤–é…ç½®)ã€‚(Reference) å¯ä»¥è‡ªå®šç¾©çš„ Private DNS nameï¼š Consumer å¯ä»¥ç›´æ¥ä½¿ç”¨ Service Provider æä¾›çš„ Private DNS Name èª¿ç”¨æœå‹™ã€‚ Terminology Service Consumer: ä½¿ç”¨æœå‹™çš„ä¸€æ–¹ã€‚Consumer æœƒåœ¨è‡ªå·±çš„ VPC ä¸­å»ºç«‹ VPC Interface Endpoint ä¾†é€£æ¥åˆ° Provider çš„ Endpoint serviceã€‚Consumer å¿…é ˆç­‰å¾… Provider æ¥å—é€£æ¥è«‹æ±‚å¾Œï¼Œæ‰èƒ½é–‹å§‹ä½¿ç”¨æœå‹™ã€‚é€éé€™ç¨®æ–¹å¼ï¼ŒConsumer å¯ä»¥å®‰å…¨åœ°å­˜å– Provider çš„æœå‹™ï¼Œè€Œç„¡éœ€ç¶“éå…¬æœ‰ç¶²è·¯ã€‚ Endpoint: VPC Interface Endpoint (VPCE) æ˜¯ä¸€å€‹å½ˆæ€§ç¶²è·¯ä»‹é¢ï¼Œå…·æœ‰ç§æœ‰ IP ä½å€ã€‚å®ƒä½œç‚ºé€²å…¥ AWS æœå‹™çš„é€²å…¥é»ï¼Œè®“ VPC ä¸­çš„è³‡æºå¯ä»¥ç§å¯†åœ°å­˜å–é€™äº›æœå‹™ã€‚åœ¨ PrivateLink æ¶æ§‹ä¸­ï¼Œé€™æ˜¯ Consumer ç«¯å»ºç«‹çš„å…ƒä»¶ã€‚ Service Provider: æä¾›æœå‹™çš„ä¸€æ–¹ã€‚Provider éœ€è¦å»ºç«‹ Endpoint service ä¸¦å°‡å…¶èˆ‡ NLB æˆ–æ˜¯ GWLB é—œè¯ï¼Œç„¶å¾Œå¯ä»¥é¸æ“‡æ€§åœ°å…è¨±å“ªäº› AWS å¸³æˆ¶å¯ä»¥é€£æ¥åˆ°æ­¤æœå‹™ã€‚Provider è² è²¬æ¥å—æˆ–æ‹’çµ•ä¾†è‡ª Consumer çš„é€£æ¥è«‹æ±‚ã€‚ Endpoint service: Endpoint service æ˜¯ç”± Service Provider å»ºç«‹çš„æœå‹™ï¼Œå¯ä»¥èˆ‡ Network Load Balancer (NLB) æˆ–æ˜¯ Gateway Load Balancer (GWLB) é—œè¯ã€‚é€™å€‹æœå‹™å…è¨±å…¶ä»– AWS å¸³æˆ¶ (Consumer) é€šé VPC Interface Endpoint é€£æ¥åˆ° Provider çš„æœå‹™ã€‚ Section 1: é…ç½® PrivateLink Step 1: [Provider] å‰µå»º Endpoint service åœ¨ Section 1 - Step 1ï¼Œæˆ‘å€‘è¦æ‰®æ¼” Service Providerï¼Œæˆ‘å€‘æ˜¯æä¾› Service çš„äººã€‚\né€²å…¥ VPC é é¢ \u0026gt; å·¦å´æ¬„ Endpoint services:\né»æ“Š Create endpoint service é€²å…¥ Create endpoint service é é¢å¾Œï¼Œè«‹ä¾ç…§ä»¥ä¸‹å…§å®¹é€²è¡Œé…ç½®ï¼š\nLoad balancer type: Network Available load balancers: é¸æ“‡ä½ çš„ NLB å…¶ä»–éƒ¨åˆ†å¯ä»¥ä¿æŒé è¨­\nå‰µå»ºå¥½å¾Œï¼Œè¤‡è£½ Service name\nStep 2: [Consumer] å‰µå»º VPC Interface Endpoint (VPCE) ç¾åœ¨æˆ‘å€‘çš„èº«ä»½åˆ‡æ›è‡³ Consumer\nèº«ç‚º Consumerï¼Œæˆ‘å€‘éœ€è¦å»ºç«‹ä¸€å€‹ VPC Interface Endpoint (VPCE)ï¼Œé€é VPCE å­˜å–åˆ° Service Provider çš„æœå‹™ã€‚\né€²å…¥ VPC é é¢ \u0026gt; å·¦å´æ¬„ Endpoints:\né»æ“Š Create endpoint å‰µå»º VPC Interface Endpointï¼Œè«‹ä¾ç…§ä»¥ä¸‹å…§å®¹é€²è¡Œé…ç½®ï¼š\nType: Endpoint services that use NLBs and GWLBs Service name: è²¼ä¸Šå‰›æ‰åœ¨ Service Provider é‚£é‚Šæ‰€è¤‡è£½çš„ Service name å‰µå»ºå¥½ VPC Interface Endpoint ä¹‹å¾Œï¼Œèº«ç‚º Consumerï¼Œå…¶å¯¦é‚„ä¸èƒ½é¦¬ä¸Šå­˜å– Serviceï¼Œå¿…é ˆç­‰å¾… Provider æ¥å—ä½ çš„é€£ç·šè«‹æ±‚æ‰å¯ä»¥ä½¿ç”¨ã€‚\nStep 3: [Provider] æ¥å— Connection Request èº«ä»½åˆ‡å› Service Provider\nå›åˆ° VPC é é¢ \u0026gt; å·¦å´æ¬„ Endpoint services:\nå‹¾é¸ Endpoint service é€²å…¥ Endpoint connections é ç±¤ å‹¾é¸ Endpoint connection å±•é–‹ Actions menu é»æ“Š Accept endpoint connection request Step 4: [Consumer] æ¸¬è©¦æ˜¯å¦å¯ä»¥é€é VPC Interface Endpoint èª¿ç”¨åˆ° NLB èº«ä»½åˆ‡å› Consumer\nå‰›æ‰ Provider å·²ç¶“æ¥å—é€£ç·šäº†ï¼Œå›åˆ° VPC \u0026gt; å·¦å´æ¬„ Endpoint é é¢ï¼Œæª¢æŸ¥ä¸€ä¸‹ç›®å‰ Endpoint çš„ Statusï¼š\nä»–æœƒåœåœ¨ Pending ç‹€æ…‹ä¸€ä¸‹ä¸‹ï¼Œå¤§æ¦‚ 1~2 åˆ†é˜ï¼Œç­‰åˆ°è®Šæˆ Available å°± OK å›‰ï¼å¦‚ä¸‹åœ–ç´…æ¡†è™•æ‰€ç¤ºï¼š\nç¾åœ¨ Endpoint Status å·²ç¶“æ˜¯ Available ç‹€æ…‹ï¼Œè¦æ¸¬è©¦æ˜¯å¦èƒ½é€é VPC Interface Endpoint èª¿ç”¨åˆ° Service Provider çš„ NLBï¼Œé¦–å…ˆè¦å…ˆè¤‡è£½ VPC Interface Endpoint çš„ DNS name\nä½ æœƒæ³¨æ„åˆ° DNS names æä¾›äº†å…©å€‹ Domain nameï¼Œä¸‹é¢æ²’æœ‰è¢«ç´…æ¡†æ¡†èµ·ä¾†çš„æ˜¯ Zonal DNS nameï¼Œä½¿ç”¨ Zonal DNS name å¯ä»¥ä¿è­‰ä½ çš„æµé‡ä¸€å®šæ‰“åˆ°ä½ è¦çš„ AZ é—œæ–¼ AZ é€™æ–¹é¢æœ‰ä¸€å€‹æ³¨æ„äº‹é …ï¼Œå¯ä»¥åƒè€ƒæˆ‘çš„ Notion ç­†è¨˜: ä½ çŸ¥é“å—ï¼Ÿæ­¤ AZ éå½¼ AZ\næˆ‘ç¾åœ¨åœ¨ Consumer AWS å¸³è™Ÿï¼Œé€éä¸€å°è·³æ¿æ©Ÿ SSH é€£ç·šåˆ° Private subnet è£¡é¢çš„ä¸€å° Instance\næˆåŠŸé€£ç·šå¾Œï¼Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ä¾†å­˜å– VPCEï¼Œè«‹å‹™å¿…æ³¨æ„ï¼š curl å¾Œé¢å¯¦éš›å€¼æ›æˆä½ å‰›æ‰è¤‡è£½çš„ VPC Interface Endpoint DNS nameï¼š\n$ curl vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; æ³¨æ„ï¼š å¦‚æœç™¼ç¾æ²’æœ‰å¾—åˆ°ä»»ä½• Responseï¼Œè«‹è¨˜å¾—æª¢æŸ¥ Security Group è¨­å®šï¼Œç¢ºä¿ VPC Interface Endpoint çš„ SG Inbound rule å…è¨± EC2 æµé‡é€²å…¥ï¼Œè©³ç´°è«‹è¦‹ï¼šTroubleshooting - é…ç½® VPC Interface Endpoint çš„ SGã€‚\né€éä¸Šé¢çš„è¼¸å‡ºï¼Œé€™æ¨£å°±é”æˆã€Œå®Œå…¨ä¸é€é Internet å°±æ‰“æµé‡åˆ° NLBã€çš„æ¶æ§‹å›‰ï¼æµé‡éƒ½æ˜¯åœ¨ AWS Backbone ç¶²è·¯ä¸­å…§å‚³è¼¸ã€‚\næ³¨æ„ï¼š VPC Interface Endpoint å’Œ æˆ‘é€£ç·šé€²å»çš„ EC2 Instance éƒ½æ”¾åœ¨ Private subnetï¼Œæˆ‘ä¹Ÿæ²’é…ç½® NAT æˆ–æ˜¯ EIGWï¼Œæ‰€ä»¥ä»–å€‘æ˜¯ä¸å¯èƒ½æœ‰è¾¦æ³•é€£åˆ°ç¶²è·¯çš„\nä»¥ä¸‹ç°¡å–®è­‰æ˜æ²’æœ‰é€£ç¶²èƒ½åŠ›ï¼Œæˆ‘å…ˆ ping google.com å† curl VPC Interface Endpoint\næ­å–œï¼æˆ‘å€‘å·²ç¶“æˆåŠŸé…ç½®å¥½ PrivateLink å›‰ï¼\nSection 2: Dual-stack åœ¨ Section 2ï¼Œå°‡å¸¶å¤§å®¶å¯¦ç¾ Dual-stack PrivateLinkï¼Œè®“ Consumer ä»¥åŠ Providerï¼ŒåŒæ™‚éƒ½å¯ä»¥æ”¯æŒ IPv4 å’Œ IPv6\nStep 1: [Provider] ç‚º Endpoint Service é–‹å•Ÿ IPv6 Support ç›®å‰èº«ä»½æ˜¯ Service Provider\nå› ç‚ºç•¶åˆå‰µå»º Endpoint Service æ™‚ï¼Œæ²’å‹¾é¸ IPv6 supportï¼Œå¯ä»¥è§€å¯Ÿä¸‹åœ–çš„ Supported IP address type ä¸­åƒ…é¡¯ç¤º IPv4 ï¼Œæ‰€ä»¥ç”¨ IPv6 æµé‡æ‰“éå»æœƒç„¡æ³•è§£æï¼š\nä»¥ä¸‹ç¯„ä¾‹æ˜¯ä»¥ Consumer èº«ä»½é€£ç·šé€²å» Private Instanceï¼Œåˆ©ç”¨ curl -6 èª¿ç”¨ VPC Interface Endpoint æ‰€å¾—åˆ°çš„è¼¸å‡ºï¼š\n$curl -6 vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com curl: (6) Could not resolve host: vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com OKï¼Œä¸Šé¢åªæ˜¯åšå€‹ç¯„ä¾‹ï¼Œè®“å¤§å®¶çŸ¥é“ç¾åœ¨çœŸçš„ç„¡æ³•ç”¨ IPv6 Client å»å­˜å– Endpointï¼Œè®“æˆ‘å€‘å†æ¬¡å›åˆ° Provider AWS å¸³è™Ÿï¼Œé€²å…¥ VPC é é¢ \u0026gt; å·¦å´æ¬„ Endpoint services:\né¸å– Endpoint service å±•é–‹ Actions menu é»æ“Š Modify supported IP address types åœ¨ Supported IP address types ä¸‹æ–¹é¸é …æŠŠ IPv6 ä¹Ÿå‹¾é¸èµ·ä¾†ï¼š\nStep 2: [Consumer] ä½¿ VPC Interface Endpoint æ”¯æŒ Dual-stack ç›®å‰èº«ä»½æ˜¯ Consumer\næ¥ä¸‹ä¾†æˆ‘å€‘ä¹Ÿè¦ç¢ºä¿ Consumer é€™è£¡çš„ VPC Interface Endpoint ä¹Ÿæ”¯æŒ Dual-stackï¼Œå› æ­¤è¦è¨˜ä½ï¼ä¸¦ä¸æ˜¯ Provider å°‡ Supported IP address types ä¸‹çš„ IPv4, IPv6 éƒ½å•Ÿç”¨å¾Œ Consumer é€™è£¡å°±å¯ä»¥ä»€éº¼äº‹éƒ½ä¸ç”¨åšå°±å¯ä»¥ç”¨ IPv6 Client å»èª¿ç”¨å–”ï¼Œç•¢ç«Ÿåœ¨ Consumer é€™è£¡ï¼Œé¢å°çš„æ˜¯è‡ªå·±çš„ â€œVPC Interface Endpointâ€\né€²å…¥ VPC \u0026gt; å·¦å´æ¬„ Endpoints\né¸å– Endpoint å±•é–‹ Actions menu é»æ“Š Modify endpoint settings é€²å…¥ Modify endpoint settings é é¢ï¼š\nIP address type: Dualstack DNS options: Dualstack Save ä¹‹å¾Œ Endpoint æœƒé€²å…¥ Pending ç‹€æ…‹ï¼Œè¦ç­‰ 1~2 åˆ†é˜ç›´åˆ°å®ƒè®Šæˆ Available ç‹€æ…‹\nç•¶ Endpoint ç‹€æ…‹è®Šæˆ Available å¾Œï¼ŒSSH é€£ç·š EC2 Instance å†ä¾†æ¸¬è©¦ä¸€æ¬¡å§ï¼š\n$ curl -6 vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; è£œå……è³‡è¨Šï¼šæˆ‘é€™é‚Šå‰›å¥½æ²’ Clear CLIï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°è¨­å®šæˆ Dualstack çš„å‰å¾Œè®ŠåŒ–ï¼Œä¸€é–‹å§‹é‚„ç„¡æ³•è§£ææˆåŠŸï¼Œç¶“éä¸Šé¢çš„é‡æ–°è¨­å®šï¼Œå°±æˆåŠŸä½¿ç”¨ IPv6 Client å»æ‰“æµé‡åˆ° VPC Interface Endpoint ç¢°åˆ° NLB å”· æ­å–œï¼Œæˆ‘å€‘é€™æ¨£å°±å®Œæˆ Dual-stack PrivateLink!\nSection 3: Private DNS name Private DNS name æ˜¯ä¸€å€‹å¾ˆæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œå¦‚æœä½ æ˜¯ Service Providerï¼Œæƒ³è¦é…ç½® Private DNS Name ä½ å¿…é ˆæ“æœ‰åŸŸåï¼Œä¾‹å¦‚: Private DNS name è¨­å®šç‚º example.com çš„è©±ï¼Œç¶“é DNS é©—è­‰ä¹‹å¾Œï¼ŒConsumer ç«¯ä¹‹å¾Œå°±å¯ä»¥ç›´æ¥ç”¨ example.com ä¾†å­˜å–é€™å€‹ Endpoint Service\nå®˜æ–¹æ–‡ä»¶ï¼š Manage DNS names for VPC endpoint services - Amazon Virtual Private Cloud\nå› ç‚ºæˆ‘è‡ªå·±æœ‰åŸŸåï¼Œé€™è£¡æˆ‘å°±ç”¨æˆ‘è‡ªå·±çš„åŸŸå (shiun.me) ä¾†ç¤ºç¯„\nStep 1: [Provider] Endpoint Service è¨­å®š Private DNS name é€²å…¥ VPC \u0026gt; å·¦å´æ¬„ Endpoint services:\né¸å– Endpoint service å±•é–‹ Actions menu é»æ“Š Modify private DNS name é…ç½® Private DNS name:\nå‹¾é¸ Associate a private DNS name with the service è¼¸å…¥ Private DNS name: æˆ‘è¼¸å…¥ demoprivatelink.shiun.me (è«‹ä¾ç…§ä½ è‡ªå·±æ“æœ‰çš„åŸŸåè‡ªç”±ä¿®æ”¹é€™é‚Šçš„å€¼) Step 2: [Provider] åŸŸåé©—è­‰ å‰µå»ºå¥½ä¹‹å¾Œï¼ŒDomain verification status æœƒé¡¯ç¤º Pending verificationï¼Œ é€™æ™‚å€™æˆ‘å°±è¦æ ¹æ“šæŒ‡ç¤ºå‰µå»ºä¸€å€‹ TXT Record è­‰æ˜é€™å€‹ shiun.me åŸŸåæ­¸ä½ æ‰€ç®¡ï¼Œæˆ‘å€‘å¯ä»¥å¾ Endpoint service detail æ‰¾åˆ° å‰µå»º Record æ™‚æ‰€éœ€è¦è¨­å®šçš„å€¼ï¼Œå¦‚ä¸‹åœ–ç´…æ¡†æ‰€ç¤º\næ‰€ä»¥æˆ‘æ‰“é–‹æˆ‘çš„ DNS æœå‹™é…ç½® TXT Record\næ³¨æ„ï¼š ä¸‹é¢æˆªåœ–çš„ç•«é¢ï¼Œä½ ä¸è¦‹å¾—æœƒè·Ÿæˆ‘ä¸€æ¨£ ä¹Ÿè¨±ä½ æ˜¯ç”¨ Route53 ä¹Ÿè¨±ä½ æ˜¯ç”¨å…¶ä»–åŸŸåè¨»å†Šå•†æœ¬èº«è‡ªå·±æä¾›çš„ DNS æœå‹™\nå‰µå»ºå®Œ TXT Record ä¹‹å¾Œï¼Œå¯èƒ½è¦ç¨å¾…å¹¾åˆ†é˜ (ä¾‹å¦‚ 5 mins)ï¼Œç­‰å¾… DNS Propagationã€‚\næˆ‘ç­‰äº†å¤§æ¦‚ 5 minsï¼Œå›åˆ° VPC é é¢ \u0026gt; å·¦å´æ¬„ Endpoint services:\né¸å– Endpoint Service å±•é–‹ Actions menu é»æ“Š Verify domain ownership for private DNS name é€™æ™‚å€™å†ç­‰ä¸€ä¸‹ä¸‹ï¼Œç´„ä¸€åˆ†é˜ï¼Œé‡æ–°æ•´ç†ä¸€ä¸‹é é¢ï¼Œå°±æœƒçœ‹åˆ° Domain verification status è®Šæˆ Verifiedï¼Œå¦‚æœç™¼ç¾é‚„æ²’ Verifiedçš„è©±ï¼Œè«‹ä½ ï¼š\nå†æ¬¡æª¢æŸ¥ DNS Record æ˜¯å¦æœ‰é…ç½®éŒ¯èª¤ (Type, valueâ€¦ ç­‰) å†æ¬¡ç¨ç­‰ä¸€ä¸‹ä¸‹ï¼Œå¯ä»¥ç”¨ dig TXT \u0026lt;domain\u0026gt; ä¾†æª¢æŸ¥çœ‹çœ‹ Answer æ˜¯å¦é…ç½®æ­£ç¢º é‡æ–° Verify domain ownership for private DNS name Step 3: [Consumer] VPC Interface Endpoint å•Ÿç”¨ Private DNS name ç›®å‰èº«ä»½æ˜¯ Consumer\nåŒç†ï¼Œèº«ç‚º Consumer é€™æ–¹ï¼ŒVPC Interface Endpoint é€™è£¡ä¹Ÿéœ€è¦å•Ÿç”¨ Private DNS name çš„æ”¯æŒï¼Œå¯ä»¥çœ‹åˆ°ä¸‹åœ–ç´…æ¡†è™•ï¼ŒPrivate DNS name enabled é¡¯ç¤º Noï¼Œè¡¨ç¤ºç›®å‰é‚„å°šæœªå•Ÿç”¨æ­¤åŠŸèƒ½\né€²å…¥ VPC \u0026gt; å·¦å´æ¬„ Endpoints:\né¸å– Endpoint å±•é–‹ Actions menu é»æ“Š Modify private DNS name åœ¨ Modify private DNS name settings section ä¸­ï¼Œå‹¾é¸ Enable for this endpoint\nSave ä¹‹å¾Œï¼Œæœƒè®Šæˆ Pending ç‹€æ…‹\nç›´åˆ°å®ƒè®Šæˆ Available å¾Œï¼Œæˆ‘å€‘å†æ¬¡ SSH é€£ç·šåˆ° Private Subnet çš„ EC2 Instance\ncurl -4 ç¯„ä¾‹è¼¸å‡ºï¼š\n$ curl -4 demoprivatelink.shiun.me \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; curl -6 ç¯„ä¾‹è¼¸å‡ºï¼š\n$ curl -6 demoprivatelink.shiun.me \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; ä¸‹åœ–ç‚º Private Instance ä½¿ç”¨ curl æŒ‡ä»¤åˆ†åˆ¥ç”¨ IPv4 å’Œ IPv6 Client èª¿ç”¨ Private DNS name çš„åŸ·è¡Œçµæœæˆªåœ–ï¼š\nå¾ä¸Šé¢çš„çµæœå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘æˆåŠŸä½¿ç”¨ Private DNS name ä¾†å­˜å– Service Provider çš„ NLB å›‰\né€™è£¡é‚„å¯ä»¥åšä¸€å€‹å°å¯¦é©—ï¼Œæˆ‘ç”¨è‡ªå·±çš„ç­†é›»æ‰“é–‹ Terminal (ä¸æ˜¯ AWS ä¸Š Consumer VPC è£¡é¢çš„ EC2 instance å”·)ï¼Œèª¿ç”¨ curl çœ‹çœ‹:\n$ curl -4 demoprivatelink.shiun.me curl: (6) Could not resolve host: demoprivatelink.shiun.me $ curl -6 demoprivatelink.shiun.me curl: (6) Could not resolve host: demoprivatelink.shiun.me ä¸‹åœ–ç‚ºæˆ‘åœ¨è‡ªå·±ç­†é›»ä¸ŠåŸ·è¡Œçš„çµæœæˆªåœ–ï¼š æˆ‘ç”¨è‡ªå·±ç­†é›»åŸ·è¡Œçš„çµæœæ˜¯æƒ³å‘Šè¨´è®€è€…ï¼ŒPrivateLink å¾ˆå®‰å…¨åˆå¥½ç”¨ï¼æˆ‘å€‘åœ¨ AWS ç’°å¢ƒå¤–é¢æ˜¯çœŸçš„æ²’è¾¦æ³•èª¿ç”¨åˆ° Endpoint service å”·\nè£œå…… - é€é PrivateLink è¨ªå• NLBï¼Œé‚£ Service Provider çœ‹å¾—åˆ° Client åŸå§‹ IP åœ°å€å—ï¼Ÿ é¦–å…ˆï¼Œèº«ç‚º Consumer æ˜¯é€é VPC Interface Endpoint å»è¨ªå•åˆ° NLB çš„ï¼Œæˆ‘å·²ç¶“æ‰¾åˆ° VPC Interface Endpoint çš„ IP åœ°å€å¦‚ä¸‹:\nIPv4: 10.0.133.54 IPv6: 2600:1f14:3231:3002:d93:b5b3:d78c:2e0a ä¸‹åœ–ç´…æ¡†è™•ç‚º Consumer é‚£é‚Šçš„ VPC Interface Endpoint IPv4 å’Œ IPv6 åœ°å€ï¼š ç¾åœ¨æˆ‘å€‘å°±ä¾†æ‰“æµé‡çœ‹çœ‹å§\nåœ¨ Consumer é€™æ–¹ï¼Œæˆ‘ç¸½å…±è¼¸å…¥äº†ä»¥ä¸‹æŒ‡ä»¤ï¼Œä¹Ÿå¾—åˆ°ç›¸æ‡‰çš„ Response:\n[ec2-user@ip-10-0-137-213 ~]$ curl -4 vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; [ec2-user@ip-10-0-137-213 ~]$ curl -6 vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; [ec2-user@ip-10-0-137-213 ~]$ curl -4 demoprivatelink.shiun.me \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; [ec2-user@ip-10-0-137-213 ~]$ curl -6 demoprivatelink.shiun.me \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; å›åˆ° Service Provider é‚£é‚Šï¼Œæˆ‘å·²ç¶“æœ‰å»æ‰¾åˆ° NLB ENIï¼Œå…¶ IPv6 åœ°å€ç‚º: 2600:1f14:2549:300:17c1:6c5d:ba29:ce1\næˆ‘åœ¨ Provider é€™é‚Šï¼Œé€éè·³æ¿æ©Ÿ SSH é€£ç·šåˆ° NLB èƒŒå¾Œçš„ Target Instance ä¾†è§€å¯Ÿ Httpd access logs:\n2600:1f14:2549:300:17c1:6c5d:ba29:ce1 - - [08/Jan/2025:04:31:12 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; 2600:1f14:2549:300:17c1:6c5d:ba29:ce1 - - [08/Jan/2025:04:31:12 +0000] \u0026#34;GET / HTTP/1.0\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/7.88.1\u0026#34; 2600:1f14:2549:300:17c1:6c5d:ba29:ce1 - - [08/Jan/2025:04:31:13 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; 2600:1f14:2549:300:7935:fbac:a7b4:84d5 - - [08/Jan/2025:04:31:16 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;ELB-HealthChecker/2.0\u0026#34; 2600:1f14:2549:300:17c1:6c5d:ba29:ce1 - - [08/Jan/2025:04:31:18 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; 2600:1f14:2549:300:17c1:6c5d:ba29:ce1 - - [08/Jan/2025:04:31:24 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; å¯ä»¥æ³¨æ„åˆ°ä¾†æºåœ°å€éƒ½æ˜¯ NLB çš„ IPv6 addressï¼\nä¹Ÿå°±æ˜¯èªªï¼ŒProvider çœ‹ä¸åˆ°çœŸå¯¦ä¾†æº IP åœ°å€ï¼\né‚£æ€éº¼è¾¦ï¼Ÿæˆ‘å°±æ˜¯æœ‰ä¸€äº›éœ€æ±‚éœ€è¦çœ‹åˆ°çœŸå¯¦ä¾†æº IP åœ°å€â€¦ é‚£è«‹ç¹¼çºŒå¾€ä¸‹çœ‹ï¼Œæˆ‘å€‘æœƒéœ€è¦ Proxy Protocol çš„å¹«åŠ©ï¼ï¼ï¼\né‚£å¦‚æœæˆ‘ç¾åœ¨é…ç½®äº† Proxy protocol å‘¢ï¼Ÿ é—œæ–¼é…ç½® Httpd Proxy Protocol æ”¯æŒï¼Œé€™è£¡å…ˆçœç•¥ï¼Œä¸æ˜¯æœ¬æ–‡é‡é»ï¼Œç¸½ä¹‹æˆ‘å·²ç¶“é–‹å•Ÿ Proxy Protocol æ”¯æŒäº†\næ–¼æ˜¯æˆ‘å†æ¬¡å›åˆ° Consumer çš„ EC2 Instance å° VPC Interface Endpoint ç™¼å‡ºè«‹æ±‚\n[ec2-user@ip-10-0-137-213 ~]$ curl -4 vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; [ec2-user@ip-10-0-137-213 ~]$ curl -6 vpce-0d3d9cfb73e4becfd-iiv45fgg.vpce-svc-0ceb593b3ba202634.us-west-2.vpce.amazonaws.com \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; [ec2-user@ip-10-0-137-213 ~]$ curl -4 demoprivatelink.shiun.me \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; [ec2-user@ip-10-0-137-213 ~]$ curl -6 demoprivatelink.shiun.me \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; å›åˆ° Service Provider é‚£é‚Šï¼Œè§€å¯Ÿ NLB Target instance ä¸­çš„ Httpd access logs:\n10.0.137.213 - - [08/Jan/2025:04:37:43 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; 2600:1f14:3231:3002:5b88:e457:66c1:43ad - - [08/Jan/2025:04:37:46 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; 10.0.137.213 - - [08/Jan/2025:04:37:50 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; 2600:1f14:3231:3002:5b88:e457:66c1:43ad - - [08/Jan/2025:04:37:52 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.5.0\u0026#34; ä¸‹åœ–ç‚º Provider é‚£é‚Šçš„ NLB Target instance æˆªåœ–ç•«é¢ï¼š\næ ¹æ“šä¸Šè¿°çš„å„å€‹è¼¸å‡ºçµæœï¼Œå¯ä»¥è§€å¯Ÿåˆ°ï¼š\n10.0.137.213 ç¢ºå¯¦æ˜¯ Consumer Private Instance çš„ Private IPv4 address\n2600:1f14:3231:3002:5b88:e457:66c1:43ad ä¹Ÿç¢ºå¯¦æ˜¯ Consumer Private Instance çš„ IPv6 address\nè«‹è¦‹ä¸‹åœ–ï¼Œé€™æ˜¯ Consumer é‚£é‚Šçš„ Private instanceï¼Œç´…æ¡†è™•å°±æ˜¯è©² Instance çš„ IP åœ°å€\næ‰€ä»¥å¦‚æœæœ‰å•Ÿç”¨ Proxy Protocol çš„è©±ï¼Œæ˜¯å¯ä»¥çœ‹åˆ°åŸå§‹ä¾†æº IP çš„å–”ï¼ï¼\nTroubleshooting - [Consumer] é…ç½® VPC Interface Endpoint çš„ SG å¦‚æœä½ æ²’æ”¶åˆ°å›æ‡‰ï¼Œä½ å¯ä»¥æª¢æŸ¥ä¸€ä¸‹ VPC Interface Endpoint çš„ SG æ˜¯å¦é…ç½®æ­£ç¢ºï¼Œæˆ‘åªæœ‰é…ç½®ä¸€å€‹ Inbound rule å…è¨± EC2 SG çš„æµé‡æ‰“é€²ä¾†ï¼Œè‡³æ–¼ Outbound rule å°±ä¸éœ€è¦é…ç½®ï¼Œå› ç‚º SG æ˜¯ Stateful\nResources å¦‚ä½•å°‡ç¾æœ‰ NLB IPv4-only æ¶æ§‹å‡ç´šç‚º Dual-stack - Shiun AWS PrivateLink ç¾åœ¨æ”¯æ´è·¨å€åŸŸé€£ç·šåŠŸèƒ½ - AWS ä½ çŸ¥é“å—ï¼Ÿæ­¤ AZ éå½¼ AZ - Shiun Notion Site Manage DNS names for VPC endpoint services - Amazon Virtual Private Cloud AWS PrivateLink Pricing â€“ AWS ","permalink":"https://shiun.me/blog/aws-privatelink-in-depth-tutorial-nlb-dual-stack-and-private-dns-name-integration/","summary":"\u003cp\u003eåœ¨å‰ä¸€ç¯‡æ•™å­¸ä¸­ \u003ca href=\"https://shiun.me/blog/upgrading-existing-nlb-ipv4-only-to-dual-stack/\"\u003e\u003cstrong\u003eå¦‚ä½•å°‡ç¾æœ‰ NLB IPv4-only æ¶æ§‹å‡ç´šç‚º Dual-stack\u003c/strong\u003e\u003c/a\u003eï¼Œæˆ‘å€‘å·²ç¶“é…ç½®å¥½ä¸€å€‹æ”¯æ´ Dual-stack çš„ NLB äº†ã€‚\u003c/p\u003e\n\u003cp\u003eç¾åœ¨å‡è¨­æœ‰ä¸€å€‹éœ€æ±‚ï¼šã€Œå®¢æˆ¶éœ€è¦èª¿ç”¨æˆ‘å€‘çš„ APIï¼Œä¸”ä»–å€‘ä¹Ÿä½¿ç”¨ AWSã€‚ã€æœ‰æ²’æœ‰è¾¦æ³•ä¸ç¶“é Internetï¼Œè€Œæ˜¯ç›´æ¥é€é AWS çš„éª¨å¹¹ç¶²è·¯ (Backbone)ï¼Œå°‡æµé‡é€åˆ°æˆ‘å€‘çš„ NLBï¼ŸåŒæ™‚é¿å…ä½¿ç”¨ VPC Peering æˆ– Transit Gatewayï¼Œç¢ºä¿ç¶²è·¯ä¸å®Œå…¨æ‰“é€šï¼Œä»¥é™ä½æ½›åœ¨é¢¨éšªï¼Œä¾‹å¦‚è³‡æ–™æ´©æ¼æˆ–ä¸å¿…è¦çš„å®‰å…¨éš±æ‚£ã€‚\u003c/p\u003e\n\u003cp\u003eç­”æ¡ˆå°±æ˜¯ \u003cstrong\u003ePrivateLink\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image.png\" alt=\"Private Link Architecture Diagram: https://docs.aws.amazon.com/whitepapers/latest/aws-vpc-connectivity-options/aws-privatelink.html\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"ä»€éº¼æ˜¯-privatelink\"\u003eä»€éº¼æ˜¯ PrivateLinkï¼Ÿ\u003c/h2\u003e\n\u003cp\u003eAWS PrivateLink æ˜¯ä¸€ç¨®å®‰å…¨çš„ç¶²è·¯æŠ€è¡“ï¼Œå…è¨±æœå‹™æä¾›è€… (Service Provider) å°‡ä»–å€‘çš„æœå‹™é€é VPC Endpoint æš´éœ²çµ¦ä½¿ç”¨è€… (Service Consumer)ï¼Œè€Œä¸éœ€è¦å°‡æµé‡ç¶“éå…¬ç¶² (Internet)ã€‚å®ƒèƒ½ç¢ºä¿æ‰€æœ‰æµé‡éƒ½åœ¨ AWS çš„éª¨å¹¹ç¶²è·¯å…§éƒ¨å‚³è¼¸ï¼Œæä¾›é«˜å®‰å…¨æ€§ã€ä½å»¶é²çš„è§£æ±ºæ–¹æ¡ˆã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ePrivateLink çš„æ ¸å¿ƒç‰¹é»\u003c/strong\u003e:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eé¿å…æš´éœ²æœå‹™åˆ°å…¬ç¶²ï¼š\u003c/strong\u003e\nService Provider çš„æœå‹™ä¸éœ€è¦æœ‰ Public IPï¼ŒConsumer å¯ä»¥é€é Private IP è¨ªå•é€™äº›æœå‹™ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eç°¡åŒ–ç¶²è·¯æ¶æ§‹ï¼š\u003c/strong\u003e\nç„¡éœ€è¨­å®š VPC Peeringã€Transit Gatewayï¼Œæ‰€ä»¥ä¸ç”¨æ“”å¿ƒæ•´å€‹ç¶²è·¯æ‰“é€šçš„å®‰å…¨é¢¨éšªã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eè·¨å¸³è™Ÿæ”¯æŒï¼š\u003c/strong\u003e\nService Provider å’Œ Consumer å¯ä»¥ä½æ–¼ä¸åŒ AWS å¸³è™Ÿï¼Œç”šè‡³ä¸åŒ AWS çµ„ç¹”ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eå¤š Region æ”¯æŒï¼š\u003c/strong\u003e\nPrivateLink ç¾åœ¨ä¹Ÿæ”¯æ´è·¨å€åŸŸçš„æµé‡å‚³è¼¸ (éœ€é¡å¤–é…ç½®)ã€‚(\u003ca href=\"https://aws.amazon.com/tw/about-aws/whats-new/2024/11/aws-privatelink-across-region-connectivity/\"\u003eReference\u003c/a\u003e)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eå¯ä»¥è‡ªå®šç¾©çš„ Private DNS name\u003c/strong\u003eï¼š\nConsumer å¯ä»¥ç›´æ¥ä½¿ç”¨ Service Provider æä¾›çš„ Private DNS Name èª¿ç”¨æœå‹™ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"terminology\"\u003eTerminology\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eService Consumer\u003c/strong\u003e:\nä½¿ç”¨æœå‹™çš„ä¸€æ–¹ã€‚Consumer æœƒåœ¨è‡ªå·±çš„ VPC ä¸­å»ºç«‹ VPC Interface Endpoint ä¾†é€£æ¥åˆ° Provider çš„ Endpoint serviceã€‚Consumer å¿…é ˆç­‰å¾… Provider æ¥å—é€£æ¥è«‹æ±‚å¾Œï¼Œæ‰èƒ½é–‹å§‹ä½¿ç”¨æœå‹™ã€‚é€éé€™ç¨®æ–¹å¼ï¼Œ\u003cstrong\u003eConsumer å¯ä»¥å®‰å…¨åœ°å­˜å– Provider çš„æœå‹™ï¼Œè€Œç„¡éœ€ç¶“éå…¬æœ‰ç¶²è·¯ã€‚\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eEndpoint\u003c/strong\u003e:\nVPC Interface Endpoint (VPCE) æ˜¯ä¸€å€‹å½ˆæ€§ç¶²è·¯ä»‹é¢ï¼Œå…·æœ‰ç§æœ‰ IP ä½å€ã€‚å®ƒä½œç‚ºé€²å…¥ AWS æœå‹™çš„é€²å…¥é»ï¼Œè®“ VPC ä¸­çš„è³‡æºå¯ä»¥ç§å¯†åœ°å­˜å–é€™äº›æœå‹™ã€‚åœ¨ PrivateLink æ¶æ§‹ä¸­ï¼Œ\u003cstrong\u003eé€™æ˜¯ Consumer ç«¯å»ºç«‹çš„å…ƒä»¶ã€‚\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eService Provider\u003c/strong\u003e:\næä¾›æœå‹™çš„ä¸€æ–¹ã€‚Provider éœ€è¦å»ºç«‹ Endpoint service ä¸¦å°‡å…¶èˆ‡ NLB æˆ–æ˜¯ GWLB é—œè¯ï¼Œç„¶å¾Œå¯ä»¥é¸æ“‡æ€§åœ°å…è¨±å“ªäº› AWS å¸³æˆ¶å¯ä»¥é€£æ¥åˆ°æ­¤æœå‹™ã€‚Provider è² è²¬æ¥å—æˆ–æ‹’çµ•ä¾†è‡ª Consumer çš„é€£æ¥è«‹æ±‚ã€‚\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eEndpoint service\u003c/strong\u003e:\nEndpoint service \u003cstrong\u003eæ˜¯ç”± Service Provider å»ºç«‹çš„æœå‹™\u003c/strong\u003eï¼Œå¯ä»¥èˆ‡ Network Load Balancer (NLB) æˆ–æ˜¯ Gateway Load Balancer (GWLB) é—œè¯ã€‚é€™å€‹æœå‹™å…è¨±å…¶ä»– AWS å¸³æˆ¶ (Consumer) é€šé VPC Interface Endpoint é€£æ¥åˆ° Provider çš„æœå‹™ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"section-1-é…ç½®-privatelink\"\u003eSection 1: é…ç½® PrivateLink\u003c/h2\u003e\n\u003ch3 id=\"step-1-provider-å‰µå»º-endpoint-service\"\u003eStep 1: [Provider] å‰µå»º Endpoint service\u003c/h3\u003e\n\u003cp\u003eåœ¨ Section 1 - Step 1ï¼Œæˆ‘å€‘è¦æ‰®æ¼” \u003cstrong\u003eService Provider\u003c/strong\u003eï¼Œ\u003cstrong\u003eæˆ‘å€‘æ˜¯æä¾› Service çš„äºº\u003c/strong\u003eã€‚\u003c/p\u003e","title":"AWS PrivateLink æ·±å…¥æ•™å­¸ï¼šNLBã€Dual-stack èˆ‡ Private DNS name æ•´åˆå¯¦ä½œ"},{"content":"ç›®æ¨™ å°‡ç¾æœ‰çš„ IPv4-only NLB å‡ç´šç‚ºæ”¯æ´ Dual-stack è®“ Target Group å¾ç´” IPv4 è½‰æ›ç‚ºæ”¯æ´ IPv6 ç¢ºä¿æ•´å€‹æ¶æ§‹èƒ½åŒæ™‚è™•ç† IPv4 å’Œ IPv6 çš„æµé‡ æˆ‘å€‘å°‡é€æ­¥å®Œæˆé€™å€‹è½‰æ›éç¨‹ï¼ŒåŒ…æ‹¬é…ç½® VPCã€æ›´æ–° NLB è¨­ç½®ã€ä¿®æ”¹ Security Groupsï¼Œä»¥åŠè¨­å®š Target Groupsã€‚æ¯å€‹æ­¥é©Ÿéƒ½æœƒæä¾›è©³ç´°çš„æ“ä½œèªªæ˜å’ŒæŠ€è¡“ç´°ç¯€ï¼Œå¹«åŠ©æ‚¨é †åˆ©å®Œæˆé€™å€‹å‡ç´šéç¨‹ã€‚\nç¾æœ‰æ¶æ§‹ ç¾åœ¨çš„æ¶æ§‹æ˜¯ä¸€å€‹å¾ˆåŸºæœ¬çš„ IPv4 NLB(Internet-facing) â†’ Target Group (IPv4 Instance type ) çš„æ¶æ§‹\né»æ“Šå±•é–‹ä»¥æŸ¥çœ‹è©³ç´°å…§å®¹ VPC NLB\nDetails Security Group Target Group\nInstance Security Group Section 1: NLB IPv4 â†’ Dual-stack Step 1: VPC æ–°å¢ IPv6 CIDR é€²å…¥ VPC é é¢ï¼š\né¸å– VPC å±•é–‹ Actions menu é»æ“Š Edit CIDRs æ–°å¢ IPv6 CIDRï¼š\né»æ“Š Add new IPv6 CIDR é¸æ“‡ Amazon-provided IPv6 CIDR block Step 2: ç‚º NLB ENI æ‰€è™•çš„ Subnet åˆ†é… IPv6 CIDR åœ¨ AWS Console å¸¸å¸¸éƒ½æœƒè¿·è·¯ï¼Œè¦é…ç½®çš„æ±è¥¿å¾ˆå¤šï¼Œåˆæ•£äº‚åœ¨ä¸åŒåœ°æ–¹ï¼Œæ‰€ä»¥æˆ‘ç¿’æ…£åˆ° NLB çš„é é¢ç›´æ¥æ‰¾åˆ°ä»–æ‰€è™•çš„ Subnetï¼Œå¦‚ä¸‹åœ–ï¼Œå¯ä»¥çœ‹åˆ° NLB Details é é¢ä¸­æœ‰ä¸€å€‹ Availability Zones çš„åœ°æ–¹ä¸‹é¢çš„é€£çµå°±æ˜¯ Subnet é€£çµ\næˆåŠŸé€²å…¥ Subnet Details é é¢å¾Œï¼š\nå±•é–‹ Actions menu é»æ“Š Edit IPv6 CIDRs å¾ VPC CIDR ä¸­ï¼Œåˆ‡ä¸€å€‹ /64 çš„ IPv6 CIDR çµ¦é€™ Subnet\nStep 3: æ›´æ–° NLB IP address type ç•¶ NLB æ‰€åœ¨çš„ Subnet å·²ç¶“åˆ†é…äº† IPv6 CIDR ç¯„åœæ™‚ï¼Œå¯ä»¥ç‚º NLB çš„ ENI åˆ†é… IPv6 addressã€‚ä¸éï¼ŒNLB çš„ ENI æ˜¯ç”± AWS è‡ªå‹•ç®¡ç†ï¼Œæˆ‘å€‘ç„¡æ³•ç›´æ¥æ“ä½œæˆ–ç®¡ç†é€™äº› ENIã€‚è¦ç‚º NLB çš„ ENI åˆ†é… IPv6 addressï¼Œéœ€è¦ä¿®æ”¹ NLB çš„ IP address typeï¼Œä¾‹å¦‚å°‡å…¶è¨­å®šç‚º dualstackï¼ŒAWS æœƒè‡ªå‹•ç‚º ENI åˆ†é…å°æ‡‰çš„ IPv6 ä½å€ã€‚\næ›´æ”¹ NLB address type å‰ï¼Œå¯ä»¥å»è§€å¯Ÿä¸€ä¸‹ NLB çš„ ENIï¼Œç¢ºå¯¦é‚„æ²’æœ‰ IPv6 address (ä¸‹åœ–ç´…æ¡†æ‰€ç¤º)\nå›åˆ° NLB Details é é¢ï¼š\nå±•é–‹ Actions menu é»æ“Š Edit IP address type æŠŠ Load balancer IP address type æ”¹æˆ Dualstack\nå†æ¬¡å›åˆ° ENI é é¢ï¼Œå†æ¬¡è§€å¯Ÿ NLB çš„ ENI ï¼Œå¯ä»¥æ³¨æ„åˆ°ï¼Œå·²ç¶“å¾ Subnet CIDR ä¸­ Assign ä¸€å€‹ IPv6 address çµ¦ NLB ENI äº† (ä¸‹åœ–ç´…æ¡†è™•)\nStep 4: ä¿®æ”¹ NLB çš„ Security Group å…è¨± IPv6 æµé‡ æˆ‘å€‘çš„ NLB æ˜¯ Internet-facing çš„ï¼ŒåŸæœ¬çš„ Security Group åªå…è¨±ä»»ä½•ä¾†æºçš„ IPv4 æµé‡ï¼Œä½†æˆ‘å€‘è¦æ¥æ”¶ IPv6 Client çš„æµé‡ï¼Œå‹¢å¿…å°±éœ€è¦ä¿®æ”¹ Security Group ä»¥å…è¨± IPv6 çš„æµé‡é€²å…¥ NLBã€‚\nè¦æ‰¾åˆ°ä»–çš„ Security Groupï¼š\nå¯ä»¥é€²å…¥ NLB Detail çš„é é¢ä¸­ \u0026gt; Security é ç±¤ å°±å¯ä»¥æ‰¾åˆ°é€™å€‹ NLB çš„ SG (Security Group) é€²å…¥ Security Group é é¢ï¼š\né»æ“Š Edit inbound rules é…ç½® Inbound rule å…è¨± IPv6 æµé‡ï¼š\né»æ“Š Add rule Type: HTTP Source: Anywhere-IPv6 Description: Allow all HTTP traffic (IPv6) ç¾åœ¨å¯ä»¥æ¸¬è©¦çœ‹çœ‹èƒ½ä¸èƒ½æŠŠè«‹æ±‚æˆåŠŸæ‰“é€²å» NLB è€Œä¸”é‚„å¾—åˆ°å›æ‡‰ï¼Œ curl -6 æ˜¯ curl å·¥å…·çš„ä¸€å€‹é¸é …ï¼Œå°ˆé–€ç”¨æ–¼æŒ‡å®šä½¿ç”¨ IPv6 é€²è¡Œè«‹æ±‚ï¼Œå¦‚æœè¦ç”¨ IPv4 é€²è¡Œè«‹æ±‚å°±æ˜¯ç”¨ -4\nè«‹æŠŠ curl -6 å¾Œé¢é‚£ä¸²æ›æˆä½ è‡ªå·±çš„ NLB domain name\nè«‹æŠŠ curl -6 å¾Œé¢é‚£ä¸²æ›æˆä½ è‡ªå·±çš„ NLB domain name\nè«‹æŠŠ curl -6 å¾Œé¢é‚£ä¸²æ›æˆä½ è‡ªå·±çš„ NLB domain name\ncurl -6 http://nlb-from-ipv4-to-dual-stack-a7d193e605191856.elb.us-west-2.amazonaws.com ä½ æœƒç™¼ç¾æ‰“ä¸é€šï¼Œæ²’æœ‰å›æ‡‰ï¼ï¼\nä½ æœƒç™¼ç¾æ‰“ä¸é€šï¼Œæ²’æœ‰å›æ‡‰ï¼ï¼\nä½ æœƒç™¼ç¾æ‰“ä¸é€šï¼Œæ²’æœ‰å›æ‡‰ï¼ï¼\nStep 5: ä¿®æ”¹ Route table ä»¥å…è¨± IPv6 æµé‡å‡ºå» ç‚ºä»€éº¼å‰›æ‰ç™¼å‡º HTTP è«‹æ±‚å¾Œå¾—ä¸åˆ°å›æ‡‰å‘¢ï¼ŸåŸå› æ˜¯ï¼š\nä¸Šæ–¹æŒ‡ä»¤ï¼Œæˆ‘å¼·åˆ¶ä½¿ç”¨ IPv6ï¼Œæ‰€ä»¥æˆ‘å€‘æ˜¯ IPv6 Client å› ç‚º NLB æƒ³è¦æŠŠæµé‡æ‰“åˆ°å¤–é¢å»ï¼Œä½†æ˜¯è·¯ç”±è¡¨å…§ä¸¦æ²’æœ‰åŒ¹é…çš„ Route å…è¨±ä»–èªªã€Œç•¶ç›®çš„åœ°æ˜¯ XXX IPv6 åœ°å€æ™‚ï¼Œä¸‹ä¸€è·³è¦çµ¦èª°ã€ æ‰€ä»¥æˆ‘å€‘è¦ä¿®æ”¹ Route Tableï¼ŒNLB æ‰æœ‰è¾¦æ³•æŠŠæµé‡é€å›ä¾†æˆ‘å€‘é€™è£¡ æ‰€ä»¥ï¼ï¼ç¾åœ¨è¦ä¾†ä¿®æ”¹ NLB ENI æ‰€è™•çš„ Subnet å…¶é—œè¯çš„ Route tableï¼Œç¢ºä¿å…¶æœ‰ ::/0 ç›¸é—œçš„è¦å‰‡ï¼Œè®“ IPv6 æµé‡å¯ä»¥å‡ºå» VPC\né€²å…¥ NLB Detail é é¢ä¸­ï¼Œé»æ“Š Availability Zones ä¸‹æ–¹çš„é€£çµï¼Œæ‰¾åˆ° NLB æ‰€åœ¨çš„ Subnet\né€²å…¥ VPC Subnets Details é é¢é»æ“Š Route Table\né€²å…¥ Route table é é¢ï¼š\nå‹¾é¸ Route Table å±•é–‹ Actions menu é»æ“Š Edit routes æ–°å¢ route:\nDestination: ::/0 Target: Internet Gateway æ”¹å¥½å¾Œï¼Œå†æ¬¡ç™¼å‡º HTTP è«‹æ±‚\n$ curl -6 http://nlb-from-ipv4-to-dual-stack-a7d193e605191856.elb.us-west-2.amazonaws.com \u0026lt;h1\u0026gt;Hello World from ip-10-0-138-176.us-west-2.compute.internal\u0026lt;/h1\u0026gt; å¤ªæ£’äº†ï¼ï¼çµ‚æ–¼æ”¶åˆ° Response äº†ï¼Œåˆ°é€™é‚Šï¼Œå…¶å¯¦å¯ä»¥ç®—æ˜¯é·ç§»åˆ° Dual-stack çš„ç›®æ¨™å®Œæˆä¸€åŠäº†ï¼\nä½†æ˜¯æˆ‘è¦è¿½æ±‚çš„æ˜¯ Fully dual-stack! ä¹Ÿå°±æ˜¯ Target Group é‚£é‚Šä¹Ÿæ˜¯è¦ Dual-stack\n(Optional) SSH é€£ç·šåˆ° Target Group çš„ Instance è§€å¯Ÿ Logs æˆ‘é€™é‚Šæœ‰ç”¨è·³æ¿æ©Ÿï¼Œé€£ç·šé€²å» Target Group çš„ Instance æ•æ‰ä¸€ä¸‹ Private IPv4 Instance çš„ Apache httpd Logsï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å°±å¯ä»¥æŸ¥çœ‹ Logsï¼š\nsudo tail -f /var/log/httpd/access_log ä¸€æ¨£æˆ‘å…ˆå›åˆ°è‡ªå·±é›»è…¦ï¼Œç”¨ curl å‘½ä»¤å° NLB ç™¼å‡ºè«‹æ±‚ï¼š\ncurl -6 http://nlb-from-ipv4-to-dual-stack-a7d193e605191856.elb.us-west-2.amazonaws.com ç„¶å¾Œå›åˆ° EC2 Instance æŸ¥çœ‹ httpd access logsï¼Œå¯ä»¥è§€å¯Ÿåˆ°ï¼Œä¾†æºåœ°å€æ˜¯ NLB çš„ Private IPv4 address (10.0.9.20):\n10.0.9.20 - - [07/Jan/2025:20:49:00 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;ELB-HealthChecker/2.0\u0026#34; 10.0.9.20 - - [07/Jan/2025:20:49:02 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.7.1\u0026#34; é€éé€™å€‹è§€å¯Ÿï¼Œæˆ‘å€‘å¯ä»¥çŸ¥é“ï¼Œç•¶æˆ‘èº«ç‚º IPv6 Clientï¼Œå‘ NLB ç™¼å‡º HTTP è«‹æ±‚å¾Œï¼Œç•¶æµé‡åˆ°é”æ™‚ NLB ï¼ŒNLB æœƒåˆ©ç”¨è‡ªèº«çš„ Private IPv4 address å»å’Œ Target é€šä¿¡ï¼Œé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æˆ‘å€‘åœ¨ EC2 Instance è§€å¯Ÿ httpd access log æ™‚ï¼Œçœ‹åˆ°çš„ä¾†æº IP åœ°å€ä¸¦ä¸æ˜¯æˆ‘é›»è…¦çš„ IPv6 addressï¼Œè€Œæ˜¯ NLB çš„ Private IPv4 addressã€‚\nç•¶ç„¶æˆ‘å€‘ä¹Ÿå¯ä»¥è§€å¯Ÿç”¨ IPv4 å»èª¿ç”¨ï¼Œæœƒæ€æ¨£ï¼š\ncurl -4 http://nlb-from-ipv4-to-dual-stack-a7d193e605191856.elb.us-west-2.amazonaws.com ä¸€æ¨£å›åˆ° EC2 Instance æŸ¥çœ‹ httpd access logï¼Œè§€å¯Ÿåˆ°é€™è£¡å¯ä»¥ç›´æ¥çœ‹è¦‹æˆ‘é›»è…¦çš„ IPv4 address:\n61.64.29.207 - - [08/Jan/2025:01:33:29 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.7.1\u0026#34; æœƒé€™æ¨£æ˜¯å› ç‚ºæµé‡å¾é ­åˆ°å°¾éƒ½æ˜¯ IPv4ï¼ŒNLB ä¸éœ€è¦åœ¨ä¸­é–“å¹«æˆ‘å€‘åšä»»ä½•å”è­°çš„è½‰æ›ï¼š\nIPv4 Client -\u0026gt; Dual-stack NLB -\u0026gt; IPv4 Target Group Instance (Optional) åˆ©ç”¨ VPC Flow logs è§€å¯Ÿ NLB çš„å›æ‡‰ VPC Flow Logs çš„å»ºç½®ä¸æ˜¯æœ¬æ–‡é‡é»ï¼Œé—œæ–¼æ€éº¼å»ºç½®åœ¨ç…©è«‹æŸ¥é–± AWS å®˜æ–¹æ–‡æª”\næˆ‘å»ºç«‹äº† VPC Flow logs ä¾†è§€å¯Ÿ NLB çš„ ENIï¼Œæ–¼æ˜¯è§€å¯Ÿåˆ°ä»¥ä¸‹æ±è¥¿ï¼š\nNLB ç¢ºå¯¦æ˜¯ä»¥è‡ªèº« IPv6 address ä½œç‚ºä¾†æºåœ°å€ï¼Œå°‡å¾Œç«¯æ‡‰ç”¨ (Target Group) çš„ Response å›å‚³åˆ°æˆ‘çš„é›»è…¦\nç‚ºä»€éº¼ VPC Flow logs ä¸Šé¢æ²’è¦‹åˆ°ä»»ä½•æˆ‘çš„ç­†é›» IPv6 åœ°å€ä½œç‚º srcï¼Ÿåªæœ‰çœ‹åˆ°æˆ‘çš„ç­†é›» IPv6 è¢«ä½œç‚º dst?? å¯ä»¥çœ‹ä¸‹åœ–\nå…¶å¯¦å³ä¾¿æˆ‘ä»Šå¤©æ˜¯ IPv4 Client ä¹Ÿæ˜¯ä¸€æ¨£ï¼Œå°±æ˜¯çœ‹ä¸åˆ°æˆ‘çš„ IP åœ°å€è¢«ä½œç‚º src è¨˜éŒ„åœ¨ VPC Flow logs é€™å€‹å•é¡ŒçœŸçš„è®“æˆ‘å¾ˆåŒªå¤·æ‰€æ€ï¼Œæƒ³äº†å¾ˆä¹…ï¼Œåªèƒ½**çŒœæ¸¬ï¼š**æŸäº›æµé‡åœ¨ NLB çš„å…§éƒ¨è™•ç†éç¨‹ä¸­æœªç¶“é ENIï¼Œæˆ–è€…ç¶“éç‰¹æ®Šçš„å°åŒ…è™•ç†è·¯å¾‘ï¼Œé€™äº›æµé‡å¯èƒ½ä¸æœƒè¢« Flow Logs æ•æ‰åˆ°ã€‚ (ç´”å±¬çŒœæ¸¬ï¼Œå¦‚æœæœ‰äººçŸ¥é“æ­£ç¢ºç­”æ¡ˆå¸Œæœ›èƒ½åˆ†äº«è®“æˆ‘çŸ¥é“ï¼ŒçœŸçš„å¾ˆæƒ³æ¢ç©¶èƒŒå¾Œçš„åŸå› ) NLB IPv6 address: 2600:1f14:2549:300:17c1:6c5d:ba29:ce1\nMy IPv6 address: 2407:4b00:1c02:77d9:8041:f560:157a:c42c\nSection2: è®“ Target Group ä¹Ÿè®Šæˆ Dual-stack Step 1: åˆ†é… IPv6 CIDR çµ¦ Target Group çš„ Instance æ‰€è™• subnet è¦æ‰¾åˆ° EC2 æ‰€è™•çš„ Subnetï¼Œæˆ‘ç¿’æ…£é€²å…¥ EC2 é é¢ï¼Œç›´æ¥æ‰¾åˆ°é€™å° EC2 æ‰€è™•çš„ Subnet\né€²å…¥ VPC Subnet é é¢ï¼š\né¸å– Subnet å±•é–‹ Actions menu é»æ“Š Edit IPv6 CIDR å¾ VPC ä¸­åˆ†é…ä¸€å€‹ /64 çš„ IPv6 CIDR å­ç¶²çµ¦ä»–\næ³¨æ„ï¼š é…çµ¦é€™å€‹å­ç¶²çš„ CIDR ä¸è¦å’ŒåŒ VPC ä¸­çš„å…¶ä»– Subnet CIDRs æœ‰ Overlapping!\nStep2: Assign IPv6 address çµ¦ Instance é€²å…¥ EC2 é é¢ï¼š\né¸å– Instance å±•é–‹ Actions Menu é»æ“Š Networking é»æ“Š Manage IP addresses Assign IPv6 Address:\nå±•é–‹ eth0 åœ¨ IPv6 addresses çš„ Section ä¸‹ï¼Œé»æ“Š Assign new IP addressï¼Œæ¬„ä½å¯ä»¥ä¸å¡«å¯«ï¼Œä»–æœƒå¾å­ç¶²çš„ IPv6 CIDR ä¸­ Auto-assign Step 3: å»ºç«‹ IPv6 Instance type target group é€²å…¥ EC2 \u0026gt; Target Group é é¢ï¼š\né»æ“Š Create Target Group ä¾ç…§ä¸‹æ–¹é…ç½® Target Group\nTarget type: Instances Target group name: ipv6-private-instance-tg Protocol: Port TCP 80 IP address type: IPv6 VPC: Instance æ‰€è™•çš„ VPC å…¶ä»–ä¿æŒé è¨­ï¼Œç„¶å¾ŒæŒ‰ä¸‹ Next\nRegister targets:\né»æ“Š Unassigned Manage IP addresses æˆåŠŸé€²åˆ° Manage IP addresses é é¢ï¼š\nå±•é–‹ eth0 å‹¾é¸ Enable Assign primary IPv6 IP é»æ“Š Save å›åˆ°å‰›æ‰ Target Group çš„é é¢ï¼š\né»æ“Šå³ä¸Šè§’ Refresh icon (å¦‚ä¸‹åœ–ç´…æ¡†æ‰€ç¤º) æˆåŠŸçš„è©±ï¼Œä½ æœƒçœ‹åˆ°è¡¨æ ¼ä¸­ Primary IPv6 address æ¬„ä½å¾åŸæœ¬çš„ Unassigned è®Šæˆé¡¯ç¤ºå°æ‡‰çš„ IPv6 address Register targets:\nå‹¾é¸ instance é»æ“Š Include as pending below é»æ“Š Create target group Step 4: ä¿®æ”¹ NLB Listener çš„ Target åœ¨ NLB ä¸­ï¼Œä¸€å€‹ Listenerï¼ˆä¾‹å¦‚ TCP 80 Port Listenerï¼‰èƒŒå¾Œåªèƒ½é—œè¯ä¸€å€‹ Target Groupï¼Œç„¡æ³•åŒæ™‚ç›´æ¥é—œè¯å¤šå€‹ Target Groupã€‚\nè¦è·Ÿä¸Šè¶¨å‹¢ç•¶ç„¶å°±è¦ç”¨ IPv6ï¼Œæ‰€ä»¥å°±ä¾†æŠŠåŸæœ¬çš„ IPv4 Target æ”¹æˆå‰›æ‰å‰µå»ºå¥½çš„ IPv6 Target\né€²å…¥ NLB Detail é é¢ï¼š\nå‹¾é¸ Listener é»æ“Š Edit listener ä¿®æ”¹æˆå‰›æ‰æ‰€å‰µå»ºçš„ IPv6 Target Group\nåˆ‡æ› TG å¾Œï¼Œéœ€è¦ç­‰ä¸€ä¸‹ä¸‹ï¼Œå› ç‚º NLB é‚„è¦åš Health Check éœ€è¦ä¸€é»æ™‚é–“\né€™æ™‚å€™æˆ‘å›åˆ°å…ˆå‰æ‰€ SSH é€£ç·šçš„ EC2 Instance æŒçºŒè§€å¯Ÿ httpd access log ä¹Ÿæœƒç™¼ç¾ Health check çš„æµé‡ï¼Œå¾åŸæœ¬çš„ NLB Private IPv4 address è®Šæˆ NLB IPv6 address\nè£œå……ï¼š é€™æ˜¯ç›®å‰ NLB ENI è¢« Assign çš„ Addresses NLB Private IPv4 address: 10.0.9.20 NLB IPv6 address: 2600:1f14:2549:300:7935:fbac:a7b4:84d5\nåˆ°é€™è£¡ï¼Œæˆ‘å€‘å·²ç¶“æˆåŠŸæŠŠ Target Group å‡ç´šæˆ Dual-stack äº†ï¼\nStep 5: æ¸¬è©¦ IPv6 æµé‡ ç¾åœ¨æˆ‘å€‘ä¾†ä½¿ç”¨ curl -6 æŒ‡ä»¤å‘ Dual-stack NLB ç™¼å‡º HTTP è«‹æ±‚ï¼š\ncurl -6 http://nlb-from-ipv4-to-dual-stack-a7d193e605191856.elb.us-west-2.amazonaws.com æµé‡è·¯å¾‘æœƒæ˜¯ï¼š\nIPv6 Client -\u0026gt; Dual-stack NLB (Layer 4) -\u0026gt; IPv6 Target Group Instance NLB é‹ä½œæ–¼ç¬¬ 4 å±¤ï¼ˆå‚³è¼¸å±¤ï¼‰ï¼Œå°ˆé–€è™•ç†å‚³è¼¸å±¤å”è­°ï¼ˆå¦‚ TCP å’Œ UDPï¼‰çš„æµé‡ã€‚ç”±æ–¼ NLB ä¸æœƒå°æ‡‰ç”¨å±¤æ•¸æ“šé€²è¡Œè™•ç†ï¼Œå› æ­¤å®ƒå¯ä»¥ä¿ç•™å°åŒ…çš„åŸå§‹ä¾†æº IP åœ°å€ï¼Œä½¿å¾Œç«¯ Target Groupï¼ˆä¾‹å¦‚ EC2 Instancesï¼‰èƒ½ç›´æ¥çœ‹åˆ° Client çš„ IP åœ°å€ã€‚\nä½†æ˜¯è¦æ³¨æ„ï¼Œä¸åŒçš„ Target Group é…ç½®æœƒè®“ä¿ç•™åŸå§‹ Client IP è¡Œç‚ºç•¥æœ‰ä¸åŒï¼š\nTarget Group ä½¿ç”¨å¯¦ä¾‹ IDï¼ˆInstance IDï¼‰ï¼š NLB æœƒç›´æ¥ä¿ç•™åŸå§‹çš„ Client IP åœ°å€ï¼Œç„¡éœ€é¡å¤–è¨­å®šã€‚ Target Group ä½¿ç”¨ IP åœ°å€ï¼ˆIP Addressï¼‰ï¼š å¦‚æœä½¿ç”¨çš„æ˜¯ TCP æˆ– TLS å”è­°ï¼ŒNLB é è¨­ä¸æœƒä¿ç•™ Client IP åœ°å€ã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œå¯ä»¥å•Ÿç”¨ Proxy Protocol v2ï¼Œä»¥å°‡åŸå§‹çš„ Client IP åœ°å€åµŒå…¥åˆ°å‚³éçµ¦ç›®æ¨™çš„å°åŒ…ä¸­ã€‚ ä»¥ä¸‹æ˜¯ Target Instance ä¸Š httpd çš„ access logï¼Œå¯ä»¥çœ‹åˆ°è¨˜éŒ„çš„æ˜¯å®¢æˆ¶ç«¯çš„ IPv6 åœ°å€ 2407:4b00:1c02:77d9:8041:f560:157a:c42c (é€™å°±æ˜¯æˆ‘é›»è…¦çš„ IPv6 address):\n2407:4b00:1c02:77d9:8041:f560:157a:c42c - - [07/Jan/2025:22:01:05 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.7.1\u0026#34; ä¹Ÿä¾†è©¦è©¦çœ‹ IPv4 Client ç™¼å‡º HTTP è«‹æ±‚ï¼š\ncurl -4 http://nlb-from-ipv4-to-dual-stack-a7d193e605191856.elb.us-west-2.amazonaws.com ä½ æœƒç™¼ç¾å¾Œç«¯çœ‹åˆ°çš„ä¾†æº IP æ˜¯ NLB çš„ IPv6 address\n2600:1f14:2549:300:17c1:6c5d:ba29:ce1 - - [08/Jan/2025:02:08:26 +0000] \u0026#34;GET / HTTP/1.1\u0026#34; 200 69 \u0026#34;-\u0026#34; \u0026#34;curl/8.7.1\u0026#34; (Optional) æ—¢ç„¶ NLB æœƒå¹«æˆ‘åšå”è­°è½‰æ›ï¼Œé‚£æˆ‘é‚„æ˜¯æƒ³çœ‹åˆ°åŸå§‹å®¢æˆ¶ç«¯ IP åœ°å€æ€éº¼è¾¦ï¼Ÿ é€™æ™‚å€™å°±éœ€è¦ Proxy Protocol çš„å¹«åŠ©äº†ï¼\nç”±æ–¼é€™éƒ¨åˆ†ä¸æ˜¯æœ¬æ–‡é‡é»ï¼Œè¦æ€éº¼åœ¨é…ç½® Proxy Protocol ä¾†è®“ä½ çš„ Server æ”¯æ´ Proxy Protocol å¯ä»¥åƒè€ƒæˆ‘çš„ Notion ç­†è¨˜ï¼Œä½†æˆ‘é€™å€‹ç­†è¨˜ä¸­æ˜¯ä»¥ Nginx ç‚ºç¤ºç¯„ï¼Œè·Ÿæœ¬æ–‡ä½¿ç”¨ Httpd ä¸ä¸€æ¨£å”·ï¼š\né€£çµï¼šé…ç½® Nginx æ”¯æŒ Proxy Protocol v2 è‹¥ä¹‹å¾Œæœ‰æ™‚é–“æˆ‘æœƒé‡æ–°æ•´ç† Notion ç­†è¨˜ä¸­çš„ Proxy Protocol çš„é…ç½®ï¼Œå†ä¸Šå‚³åˆ°éƒ¨è½æ ¼\nResources VPC CIDR blocks - Amazon Virtual Private Cloud Logging IP traffic using VPC Flow Logs - Amazon Virtual Private Cloud é…ç½® Nginx æ”¯æŒ Proxy Protocol v2 - Shiun Notion å¦‚ä½•å°‡ç¾æœ‰ NLB IPv4-only æ¶æ§‹å‡ç´šç‚º Dual-stack - Shiun Notion Dual-stack network design in AWS - Shiun Notion Dual-stack IPv6 architectures for AWS and hybrid networks | Amazon Web Services ","permalink":"https://shiun.me/blog/upgrading-existing-nlb-ipv4-only-to-dual-stack/","summary":"\u003ch2 id=\"ç›®æ¨™\"\u003eç›®æ¨™\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eå°‡ç¾æœ‰çš„ IPv4-only NLB å‡ç´šç‚ºæ”¯æ´ Dual-stack\u003c/li\u003e\n\u003cli\u003eè®“ Target Group å¾ç´” IPv4 è½‰æ›ç‚ºæ”¯æ´ IPv6\u003c/li\u003e\n\u003cli\u003eç¢ºä¿æ•´å€‹æ¶æ§‹èƒ½åŒæ™‚è™•ç† IPv4 å’Œ IPv6 çš„æµé‡\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæˆ‘å€‘å°‡é€æ­¥å®Œæˆé€™å€‹è½‰æ›éç¨‹ï¼ŒåŒ…æ‹¬é…ç½® VPCã€æ›´æ–° NLB è¨­ç½®ã€ä¿®æ”¹ Security Groupsï¼Œä»¥åŠè¨­å®š Target Groupsã€‚æ¯å€‹æ­¥é©Ÿéƒ½æœƒæä¾›è©³ç´°çš„æ“ä½œèªªæ˜å’ŒæŠ€è¡“ç´°ç¯€ï¼Œå¹«åŠ©æ‚¨é †åˆ©å®Œæˆé€™å€‹å‡ç´šéç¨‹ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"ç¾æœ‰æ¶æ§‹\"\u003eç¾æœ‰æ¶æ§‹\u003c/h2\u003e\n\u003cp\u003eç¾åœ¨çš„æ¶æ§‹æ˜¯ä¸€å€‹å¾ˆåŸºæœ¬çš„ IPv4 NLB(Internet-facing) â†’ Target Group (IPv4 Instance type ) çš„æ¶æ§‹\u003c/p\u003e\n\u003c!-- raw HTML omitted --\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"Existing-NLB-IPv4-only-Architecture-Diagram.png\" alt=\"Existing NLB IPv4-only Architecture Diagram.png\"  /\u003e\n\u003c/p\u003e\n\n\n\u003cp\u003e\u003cdetails \u003e\n  \u003csummary markdown=\"span\"\u003eé»æ“Šå±•é–‹ä»¥æŸ¥çœ‹è©³ç´°å…§å®¹\u003c/summary\u003e\n  \u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eVPC\n\u003cimg loading=\"lazy\" src=\"image.png\" alt=\"VPC Resource map\"  /\u003e\n\n\u003cimg loading=\"lazy\" src=\"image%201.png\" alt=\"VPC CIDR\"  /\u003e\n\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNLB\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDetails\n\u003cimg loading=\"lazy\" src=\"image%202.png\" alt=\"NLB Details\"  /\u003e\n\u003c/li\u003e\n\u003cli\u003eSecurity Group\n\u003cimg loading=\"lazy\" src=\"image%203.png\" alt=\"NLB Security Group\"  /\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTarget Group\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eInstance\n\u003cimg loading=\"lazy\" src=\"image%204.png\" alt=\"Target Group instance\"  /\u003e\n\u003c/li\u003e\n\u003cli\u003eSecurity Group\n\u003cimg loading=\"lazy\" src=\"image%205.png\" alt=\"Target Group instance SG\"  /\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003c/details\u003e\u003c/p\u003e","title":"å¦‚ä½•å°‡ç¾æœ‰ NLB IPv4-only æ¶æ§‹å‡ç´šç‚º Dual-stack"},{"content":"å‰è¨€ - ç¾æœ‰æ¶æ§‹çš„æŒ‘æˆ° æœ€è¿‘ï¼Œæˆ‘åœ¨ä¸€å€‹ Serverless å°ˆæ¡ˆä¸­é‡åˆ°äº†ä¸€å€‹è®“äººé ­ç–¼çš„æŒ‘æˆ°ã€‚é€™å€‹å°ˆæ¡ˆé‹è¡Œåœ¨å¤šå€‹ Lambda Functions ä¹‹ä¸Šï¼Œç‚ºäº†é¿å…å†·å•Ÿå‹•å¸¶ä¾†çš„å»¶é²å•é¡Œå½±éŸ¿ä½¿ç”¨è€…é«”é©—ï¼Œéœ€è¦ç¢ºä¿ Functions è™•æ–¼ã€Œç†±å•Ÿå‹•ã€ç‹€æ…‹ï¼ˆWarm Startï¼‰ï¼Œå¦‚ä½•æœ‰æ•ˆç®¡ç†å¤§é‡çš„é ç†± (prewarm) æ“ä½œè®Šå¾—éå¸¸æ£˜æ‰‹ã€‚\nå¸¸è¦‹çš„è§£æ±ºæ–¹æ¡ˆä¹‹ä¸€ï¼Œæ˜¯ç‚ºæ¯å€‹ Lambda Function é…ç½®ä¸€å€‹ EventBridge Schedulerï¼Œé›–ç„¶å¯ä»¥é”åˆ°é ç†±æ•ˆæœï¼Œä½†ï¼š\nç®¡ç†æˆæœ¬é«˜ï¼šéœ€è¦å–®ç¨ç‚ºæ¯å€‹ Lambda Function é…ç½® Schedulerï¼Œæ•¸é‡å¤šé›£ä»¥ç®¡ç†ã€‚ éˆæ´»æ€§ä¸è¶³ï¼šé›£ä»¥å¿«é€ŸéŸ¿æ‡‰éœ€æ±‚è®Šæ›´ï¼Œé‡æ–°éƒ¨ç½²æ–°çš„ Lambda Function æ™‚ï¼Œéœ€è¦ä¿®æ”¹ Scheduler çš„ Targetã€‚ åŸºæ–¼é€™äº›æŒ‘æˆ°ï¼Œæˆ‘é–‹ç™¼äº† Tag-Based Lambda Warmer Terraform Moduleï¼Œæä¾›äº†ä¸€ç¨®ä½æˆæœ¬ã€é«˜éˆæ´»æ€§çš„è§£æ±ºæ–¹æ¡ˆã€‚\nTag-Based Lambda Warmer ä»‹ç´¹ Tag-Based Lambda Warmer çš„æ ¸å¿ƒç†å¿µéå¸¸ç°¡å–®ï¼š\nå°‡éœ€è¦è¢«é ç†± (prewarm) çš„ Lambda Function åŠ ä¸ŠæŒ‡å®šçš„ Tagï¼ˆä¾‹å¦‚ï¼šPrewarm=trueï¼‰ã€‚\nç•¶ä½ éƒ¨ç½² Terraform Module å¾Œï¼ŒEventBridge Schduler æœƒå®šæœŸèª¿ç”¨ Tag-Based Lambda Warmerï¼ŒWarmer æœƒæ ¹æ“š Tag è‡ªå‹•ç¯©é¸éœ€è¦è¢«é ç†±çš„ Lambda Functions\né€™å¥—è§£æ±ºæ–¹æ¡ˆç‰¹åˆ¥é©åˆä»¥ä¸‹æƒ…å¢ƒï¼š\nä½æµé‡ã€é–“æ­‡æ€§å·¥ä½œè² è¼‰ï¼šä¾‹å¦‚é–‹ç™¼ç’°å¢ƒæˆ–å°å‹æ‡‰ç”¨ä¸­çš„ Lambda Functionsï¼Œéœ€è¦å¶çˆ¾è™•æ–¼ç†±å•Ÿå‹•ç‹€æ…‹ï¼Œä½†ä¸éœ€è¦æŒçºŒé«˜æ•ˆèƒ½ã€‚ å¤šç’°å¢ƒç®¡ç†ï¼šé€šéä¸åŒçš„ Tagï¼ˆä¾‹å¦‚ Environment=dev æˆ– Environment=prodï¼‰ï¼Œå¯ä»¥è¼•é¬†åœ¨å¤šå€‹ç’°å¢ƒä¸­éˆæ´»éƒ¨ç½²ã€‚ æˆæœ¬æ•æ„Ÿå‹å°ˆæ¡ˆï¼šå°æ–¼ä¸­å°å‹ Serverless æ‡‰ç”¨ï¼Œé€™ç¨®è§£æ±ºæ–¹æ¡ˆèƒ½æœ‰æ•ˆé™ä½é‹ç¶­æˆæœ¬ã€‚ é‚„æ˜¯è¦æé†’ï¼Œé€™ç¨®é€éå®šæœŸèª¿ç”¨ä¾†ä¿æŒç†±å•Ÿå‹•ç‹€æ…‹çš„è§£æ±ºæ–¹æ¡ˆï¼Œåªèƒ½è®“ä½ ä¿æŒè‡³å°‘æœ‰ä¸€å€‹ç†±å•Ÿå‹•ç‹€æ…‹çš„ Execution Environmentï¼Œä»Šå¤©æµé‡çªç„¶æœ‰ä¸€å€‹é«˜å³°ï¼Œç¢°ä¸Šå†·å•Ÿå‹•æ˜¯ä¸å¯é¿å…çš„\næˆ‘å·²ç¶“å°‡ Tag-Based Lambda Warmer å¯«æˆ Terraform Module ä¸¦ç™¼å¸ƒåˆ° Terraform Registry å›‰ï¼Œä½ åªéœ€è¦åœ¨ä½ çš„ Terraform é…ç½®ä¸­å¼•ç”¨æ¨¡çµ„:\nmodule \u0026#34;lambda_warmer\u0026#34; { source = \u0026#34;aws-educate-tw/tag-based-lambda-warmer/aws\u0026#34; # version = \u0026#34;0.2.1\u0026#34; aws_region = \u0026#34;ap-northeast-1\u0026#34; # Optional: Custom configuration environment = \u0026#34;prod\u0026#34; prewarm_tag_key = \u0026#34;Project\u0026#34; prewarm_tag_value = \u0026#34;MyProject\u0026#34; lambda_schedule_expression = \u0026#34;rate(5 minutes)\u0026#34; scheduler_max_retry_attempts = 0 invocation_type = \u0026#34;Event\u0026#34; } åŸ·è¡Œæµç¨‹ EventBridge Scheduler å®šæ™‚è§¸ç™¼ Tag-Based Lambda Warmer Functionã€‚ Warmer Function èª¿ç”¨ Lambda APIï¼Œç²å–æ‰€æœ‰ Lambda Functions åˆ—è¡¨ã€‚ æ ¹æ“šæŒ‡å®šçš„ Tag Key å’Œ Valueï¼Œç¯©é¸å‡ºéœ€è¦é ç†±çš„ Lambda Functionsã€‚ éåŒæ­¥è§¸ç™¼é€™äº›å‡½æ•¸é€²è¡Œé ç†±ã€‚ åŸ·è¡Œæ—¥èªŒè¨˜éŒ„åœ¨ CloudWatch Logsï¼Œæ–¹ä¾¿å¾ŒçºŒç›£æ§èˆ‡èª¿è©¦ã€‚ å„ªé» å¦‚æœæŸå€‹ Lambda Function ä¸å†éœ€è¦é ç†±ï¼Œåªéœ€ ç§»é™¤ Tag æˆ–ä¿®æ”¹å…¶å€¼ï¼›å¦‚æœæ—¥å¾Œåˆæœ‰é ç†±éœ€æ±‚ï¼Œåªéœ€é‡æ–°åŠ ä¸Š Tagï¼Œå³å¯è¼•é¬†åŠ å…¥é ç†±åå–®ã€‚\né€™ç¨® Tag-Based çš„è¨­è¨ˆå…·æœ‰ä»¥ä¸‹å¹¾å€‹é—œéµå„ªå‹¢ï¼š\néˆæ´»æ€§é«˜ï¼š å¯ä»¥å¿«é€Ÿèª¿æ•´é ç†±ç¯„åœï¼Œç„¡éœ€é‡æ–°éƒ¨ç½²åŸºç¤è¨­æ–½ã€‚ æ”¯æ´å®¢è£½åŒ–ç¯©é¸æ¢ä»¶ï¼Œä¾‹å¦‚åŸºæ–¼å°ˆæ¡ˆåç¨± (Project=MyApp) æˆ–ç’°å¢ƒ (Environment=prod) çš„ Tagã€‚ ä½æˆæœ¬ï¼š åªéœ€ä¸€å€‹ EventBridge Scheduler å’Œä¸€å€‹ Lambda Function çš„çµ„åˆï¼Œå³å¯å¯¦ç¾å¤šå€‹ Lambda çš„é›†ä¸­åŒ–ç®¡ç†ã€‚ é¿å…äº†é«˜æ˜‚çš„ Provisioned Concurrency æˆæœ¬ï¼Œå®Œå…¨æŒ‰éœ€ä»˜è²»ã€‚ ç°¡å–®æ˜“ç”¨ï¼š éƒ¨ç½² Module å¾Œï¼Œå”¯ä¸€éœ€è¦åšçš„å°±æ˜¯ç‚º Lambda Functions æ·»åŠ æˆ–ç§»é™¤ Tagï¼Œç„¡éœ€å…¶ä»–é¡å¤–é…ç½®ã€‚ (è¦–æƒ…æ³éœ€è¦æ–°å¢ä¸€å°æ®µç¨‹å¼ç¢¼) æ³¨æ„äº‹é … é‚£äº›éœ€è¦è¢«é ç†±çš„ Lambda Functions è¦–æƒ…æ³å¯èƒ½éœ€è¦åœ¨è«‹æ±‚ä¸€åˆ°é”æ™‚å…ˆæª¢æŸ¥æ˜¯å¦æ˜¯ Prewarming æ“ä½œï¼Œé¿å…è¢«é ç†±å¾Œå°±åŸ·è¡Œäº†æ¥­å‹™é‚è¼¯\nä»¥ä¸‹æ˜¯ Python ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼Œä½ å¯ä»¥å°‡ä»¥ä¸‹ç¨‹å¼ç¢¼æ’å…¥è‡³ lambda_handler å‡½æ•¸ä¸­ï¼Œç”¨ä¾†æª¢æŸ¥æ˜¯å¦æ˜¯ Prewarming æ“ä½œï¼š\ndef lambda_handler(event, context): # Identify if the incoming event is a prewarm request if event.get(\u0026#34;action\u0026#34;) == \u0026#34;PREWARM\u0026#34;: logger.info(\u0026#34;Received a prewarm request. Skipping business logic.\u0026#34;) return { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;Successfully warmed up\u0026#34; } çµèª Tag-Based Lambda Warmer æ˜¯ä¸€å€‹ä½æˆæœ¬ã€é«˜éˆæ´»æ€§çš„ Lambda é ç†±è§£æ±ºæ–¹æ¡ˆã€‚ç„¡è«–æ˜¯å°å‹å°ˆæ¡ˆé‚„æ˜¯å¤šç’°å¢ƒéƒ¨ç½²ï¼Œå®ƒéƒ½èƒ½å¹«åŠ©ä½ æœ‰æ•ˆç®¡ç†å’Œå„ªåŒ– Lambda Functions çš„å†·å•Ÿå‹•å•é¡Œã€‚\nå¦‚æœä½ å°é€™å€‹æ¨¡çµ„æ„Ÿèˆˆè¶£ï¼Œæ­¡è¿åƒè€ƒä»¥ä¸‹è³‡æºï¼š\nGitHub Repository: terraform-aws-tag-based-lambda-warmer Terraform Registry: AWS Lambda Warmer Module æœ‰ä»»ä½•å•é¡Œï¼Œæ­¡è¿æäº¤ Issueã€‚å¸Œæœ›é€™å€‹å·¥å…·èƒ½å¹«åŠ©ä½ æ›´å¥½åœ°ç®¡ç† Serverless å°ˆæ¡ˆä¸­çš„ Lambda Functionsï¼\n","permalink":"https://shiun.me/blog/tag-based-lambda-warmer-low-cost-high-flexibility/","summary":"\u003ch2 id=\"å‰è¨€---ç¾æœ‰æ¶æ§‹çš„æŒ‘æˆ°\"\u003eå‰è¨€ - ç¾æœ‰æ¶æ§‹çš„æŒ‘æˆ°\u003c/h2\u003e\n\u003cp\u003eæœ€è¿‘ï¼Œæˆ‘åœ¨ä¸€å€‹ Serverless å°ˆæ¡ˆä¸­é‡åˆ°äº†ä¸€å€‹è®“äººé ­ç–¼çš„æŒ‘æˆ°ã€‚é€™å€‹å°ˆæ¡ˆé‹è¡Œåœ¨\u003cstrong\u003eå¤šå€‹ Lambda Functions\u003c/strong\u003e ä¹‹ä¸Šï¼Œç‚ºäº†é¿å…å†·å•Ÿå‹•å¸¶ä¾†çš„å»¶é²å•é¡Œå½±éŸ¿ä½¿ç”¨è€…é«”é©—ï¼Œéœ€è¦ç¢ºä¿ Functions è™•æ–¼ã€Œç†±å•Ÿå‹•ã€ç‹€æ…‹ï¼ˆWarm Startï¼‰ï¼Œå¦‚ä½•æœ‰æ•ˆç®¡ç†å¤§é‡çš„é ç†± (prewarm) æ“ä½œè®Šå¾—éå¸¸æ£˜æ‰‹ã€‚\u003c/p\u003e\n\u003cp\u003eå¸¸è¦‹çš„è§£æ±ºæ–¹æ¡ˆä¹‹ä¸€ï¼Œæ˜¯ç‚ºæ¯å€‹ Lambda Function é…ç½®ä¸€å€‹ \u003cstrong\u003eEventBridge Scheduler\u003c/strong\u003eï¼Œé›–ç„¶å¯ä»¥é”åˆ°é ç†±æ•ˆæœï¼Œä½†ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eç®¡ç†æˆæœ¬é«˜\u003c/strong\u003eï¼šéœ€è¦å–®ç¨ç‚ºæ¯å€‹ Lambda Function é…ç½® Schedulerï¼Œæ•¸é‡å¤šé›£ä»¥ç®¡ç†ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eéˆæ´»æ€§ä¸è¶³\u003c/strong\u003eï¼šé›£ä»¥å¿«é€ŸéŸ¿æ‡‰éœ€æ±‚è®Šæ›´ï¼Œé‡æ–°éƒ¨ç½²æ–°çš„ Lambda Function æ™‚ï¼Œéœ€è¦ä¿®æ”¹ Scheduler çš„ Targetã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eåŸºæ–¼é€™äº›æŒ‘æˆ°ï¼Œæˆ‘é–‹ç™¼äº† \u003cstrong\u003eTag-Based Lambda Warmer Terraform Module\u003c/strong\u003eï¼Œæä¾›äº†ä¸€ç¨®ä½æˆæœ¬ã€é«˜éˆæ´»æ€§çš„è§£æ±ºæ–¹æ¡ˆã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"tag-based-lambda-warmer-ä»‹ç´¹\"\u003eTag-Based Lambda Warmer ä»‹ç´¹\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/51faed13-9501-4819-b687-c91291cc6009\" alt=\"AWS Tag-based Lambda Warmer Archietecure Diagram\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eTag-Based Lambda Warmer\u003c/strong\u003e çš„æ ¸å¿ƒç†å¿µéå¸¸ç°¡å–®ï¼š\u003c/p\u003e\n\u003cp\u003eå°‡éœ€è¦è¢«é ç†± (prewarm) çš„ Lambda Function \u003cstrong\u003eåŠ ä¸ŠæŒ‡å®šçš„ Tag\u003c/strong\u003eï¼ˆä¾‹å¦‚ï¼š\u003ccode\u003ePrewarm=true\u003c/code\u003eï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eç•¶ä½ éƒ¨ç½² Terraform Module å¾Œï¼ŒEventBridge Schduler æœƒå®šæœŸèª¿ç”¨ Tag-Based Lambda Warmerï¼ŒWarmer æœƒæ ¹æ“š Tag è‡ªå‹•ç¯©é¸éœ€è¦è¢«é ç†±çš„ Lambda Functions\u003c/p\u003e","title":"[Terraform Module] ä¸€å€‹ä½æˆæœ¬ã€é«˜éˆæ´»æ€§ï¼Œè¼•é¬†é ç†±ä¸Šç™¾å€‹ Lambda Function çš„è§£æ±ºæ–¹æ¡ˆï¼šTag-Based Lambda Warmer"},{"content":"Overview å°±åœ¨ 2024/11/20 AWS é‡‹å‡ºäº†é‡ç£…æ¶ˆæ¯ â€” ã€ŒAmazon Aurora Serverless v2 supports scaling to zero capacityã€ï¼Œç°¡å–®ä¾†èªªé€™å€‹åŠŸèƒ½èƒ½å¤ è®“ Aurora åœ¨é–’ç½®ä¸€æ®µæ™‚é–“å¾Œï¼Œè‡ªå‹•åœæ­¢å¯¦ä¾‹ (Auto-pause)ï¼Œåœæ­¢æœŸé–“ä¸æœƒæ”¶å–ã€ŒåŸ·è¡Œå¯¦ä¾‹å°æ™‚æ•¸è²»ç”¨ã€ (Aurora Capacity Units = 0)ï¼Œé”åˆ°æ‰€è¬‚çš„ Truly Serverless!! å®˜æ–¹æŠŠé€™å€‹æ–°åŠŸèƒ½ç¨±ç‚º Auto-pause ï¼Œåœ¨é€™å€‹åŠŸèƒ½é‡‹å‡ºä»¥å‰ï¼Œ Aurora Capacity Units (ACU) æœ€ä½æœ€ä½åªèƒ½è¨­å®šæˆ 0.5ã€‚\nå¯¦éš› RDS å®šåƒ¹ å…¶å¯¦é‚„æœ‰å…¶ä»–æ”¶è²»ï¼Œåƒæ˜¯å„²å­˜æˆæœ¬ã€ IOPSã€å‚³è¼¸â€¦ ç­‰ç­‰ï¼Œè©³ç´°å…§å®¹æ•¬è«‹åƒè€ƒå®˜æ–¹æ–‡ä»¶ (é€£çµ)\nAmazon Aurora vs RDS for MySQL åœ¨ us-west-2 çš„å®šåƒ¹æ¯”è¼ƒ:\nAurora Serverless v2 æ¯å€‹ ACU ä¸€å°æ™‚ 0.12 ç¾é‡‘ RDS for MySQL - db.t4g.micro ä¸€å°æ™‚ 0.016 ç¾é‡‘ ç´„ç­‰æ–¼ä¸€ ACU å¯ä»¥é–‹ 7.5 å°æ™‚çš„ db.t4g.microï¼Œå»ºè­°å¤§å®¶è¦æ ¹æ“šè‡ªå·±çš„å¯¦éš›æƒ…å¢ƒå»å¥½å¥½è¨ˆç®—æˆæœ¬å–”ï¼Œä¸¦ä¸æ˜¯ Serverless = ç¶“æ¿Ÿå¯¦æƒ ã€‚\nä¸€ã€Auto-pause ä»‹ç´¹ è‡ªå‹•æš«åœ ä»€éº¼æ˜¯è‡ªå‹•æš«åœï¼Ÿ ç•¶è³‡æ–™åº«ä¸€æ®µæ™‚é–“å…§æ²’æœ‰ä»»ä½•é€£ç·šæ™‚ï¼ŒAurora Serverless v2 æœƒè‡ªå‹•å°‡å…¶æš«åœï¼Œä¸¦é‡‹æ”¾æ‰€æœ‰è¨ˆç®—è³‡æºï¼Œå°‡å®¹é‡ç¸®æ¸›åˆ° 0 ACUsã€‚ åœ¨æš«åœæœŸé–“ï¼Œæ‚¨åªéœ€è¦æ”¯ä»˜å„²å­˜è²»ç”¨ï¼Œè¨ˆç®—è³‡æºè²»ç”¨æš«åœã€‚ æš«åœæ¢ä»¶ æ²’æœ‰ä»»ä½•é€£ç·šï¼ˆç”¨æˆ¶æ´»å‹•ï¼‰åœ¨æŒ‡å®šçš„é–’ç½®æ™‚é–“å…§è§¸ç™¼ã€‚ æ”¯æ´çš„é–’ç½®æ™‚é–“ç¯„åœï¼š5 åˆ†é˜ (300 ç§’) è‡³ 24 å°æ™‚ (86,400 ç§’)ã€‚ è‡ªå‹•æ¢å¾© ä»€éº¼æ˜¯è‡ªå‹•æ¢å¾©ï¼Ÿ ç•¶è³‡æ–™åº«æ”¶åˆ°ç¬¬ä¸€å€‹é€£ç·šè«‹æ±‚æ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•æ¢å¾©ï¼Œä¸¦å‹•æ…‹åˆ†é…è¨ˆç®—è³‡æºã€‚ æ¢å¾©æ™‚é–“ç´„ç‚º 15 ç§’ã€‚ å”¯ç¨ä¸€å®šè¦ç‰¹åˆ¥æ³¨æ„ï¼å¦‚æœä½ çš„ Aurora Instance è¶…é 24 å°æ™‚ä»¥ä¸Šæ˜¯åœæ­¢ç‹€æ…‹ï¼Œé‚£å†·å•Ÿå‹•æœƒè¶…é 30 ç§’ä»¥ä¸Š\nå®˜æ–¹æ–‡ä»¶æè¿°å¦‚ä¸‹:\nIf an Aurora Serverless v2 instance remains paused more than 24 hours, Aurora can put the instance into a deeper sleep that takes longer to resume. In that case, the resume time can be 30 seconds or longer\nReference: https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-serverless-v2-auto-pause.html#auto-pause-whynot\näºŒã€å»ºç«‹ Aurora Serverless v2 æ³¨æ„ Engine Versionï¼ä»¥ä¸‹ç‰ˆæœ¬æ‰æ”¯æ´ ACU è¨­å®šæˆ 0\nIf you\u0026rsquo;re using Aurora PostgreSQL, the database engine must be running at least version 16.3, 15.7, 14.12, or 13.15. If you\u0026rsquo;re using Aurora MySQL, the database engine must be running version 3.08.0 or higher. é…ç½® Engine\né¸æ“‡ Aurora (MySQL Compatible) Engine version: 3.08.0 ä»¥ä¸Š é…ç½®è³‡æ–™åº« Credential\né¸ Dev/Test è¨­å®šå¯†ç¢¼ä¸¦å†æ¬¡è¼¸å…¥å¯†ç¢¼ é…ç½® Cluster / Instance\né¸æ“‡ Aurora Standard é¸æ“‡ Serverless v2 Minimum capacity: 0 é…ç½® Connectivity\nPublic access æ‰“é–‹ (ç”Ÿç”¢ç’°å¢ƒä¸å»ºè­°æ‰“é–‹)\nVPC security group\nCreate new New VPC security group name: aurora-serverless-v2-sg ä¸å»ºè­°ç”Ÿç”¢ç’°å¢ƒé€™æ¨£ç”¨ï¼Œç”±æ–¼é€™éƒ¨åˆ†ä¸¦éæœ¬æ–‡ä¸»è¦æ•™å­¸ç›®æ¨™ï¼ŒåŸºæ–¼ç°¡åŒ–è¤‡é›œé…ç½®ï¼Œæ‰æœƒå°‡ RDS çš„ Public access æ‰“é–‹ï¼Œä¸¦è¨­å®šå…è¨±æ‰€æœ‰ä¾†æº IPã€‚ åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ï¼Œå»ºè­°è¦åˆ‡å¥½ç¶²æ®µï¼Œé…ç½®å¥½ RDS Subnet Groupï¼Œå°‡ RDS æ”¾ç½®æ–¼ Private Subnetï¼Œä¸¦ä¸”åŸºæ–¼æœ€å°éœ€æ±‚è¨­å®š NACL, Security Groupã€‚Lambda ä¹Ÿéœ€è¦éƒ¨ç½²åœ¨ VPC è€Œéœ€è¦é€£åˆ° Internet éœ€è¦é…ç½® NAT Gatewayã€‚\nå…¶é¤˜ä¿æŒé è¨­ \u0026gt; Create database ä¸‰ã€å¦‚ä½•è§€å¯Ÿæ˜¯å¦æˆåŠŸ Auto-pause? æ³¨æ„ï¼ï¼ï¼å³ä½¿åŸ·è¡Œå€‹é«”é€²å…¥è‡ªå‹•æš«åœï¼ŒRDS Console ä»æœƒé¡¯ç¤ºç‚º Availableï¼Œé€™æ˜¯ Aurora Serverless çš„ç‰¹æ€§ã€‚\n1. æŸ¥çœ‹ RDS ä¸»æ§å°ä¸­çš„åŸ·è¡Œå€‹é«”ç‹€æ…‹ æ­¥é©Ÿï¼š é€²å…¥ AWS Management Consoleã€‚ é¸æ“‡ Amazon RDS \u0026gt; Databasesã€‚ åœ¨è³‡æ–™åº«æ¸…å–®ä¸­æ‰¾åˆ°æ‚¨çš„ Aurora Serverless V2 é›†ç¾¤æˆ–åŸ·è¡Œå€‹é«”ã€‚ æª¢æŸ¥åŸ·è¡Œå€‹é«”çš„ ç‹€æ…‹ï¼ˆStatusï¼‰ã€‚ å¦‚æœé¡¯ç¤ºç‚º Available ä¸”æœªé¡¯ç¤ºè² è¼‰æ•¸æ“šï¼Œå¯èƒ½å·²è‡ªå‹•æš«åœã€‚ æ³¨æ„ï¼šåœ¨æš«åœæœŸé–“ï¼Œç‹€æ…‹ä»æœƒé¡¯ç¤º Availableï¼Œä½†å…¶è¡Œç‚ºèˆ‡æ­£å¸¸é‹è¡Œæœ‰æ‰€ä¸åŒã€‚ 2. æŸ¥çœ‹ CloudWatch æŒ‡æ¨™ AWS CloudWatch æä¾›äº†å¤šç¨®ç›£æ§æŒ‡æ¨™ï¼Œå¯ä»¥ç¢ºèªåŸ·è¡Œå€‹é«”æ˜¯å¦è™•æ–¼è‡ªå‹•æš«åœç‹€æ…‹ã€‚\né—œéµæŒ‡æ¨™:\nACUUtilization å€¼ç‚º 0 æ™‚ï¼Œè¡¨ç¤ºåŸ·è¡Œå€‹é«”å·²ç¸®å®¹åˆ° 0 ACUsï¼Œå³å·²è‡ªå‹•æš«åœã€‚ ServerlessDatabaseCapacity å€¼ç‚º 0 æ™‚ï¼Œè¡¨ç¤ºç›®å‰æ²’æœ‰è¨ˆç®—è³‡æºåˆ†é…ï¼Œä¹Ÿæ„å‘³è‘—å·²ç¶“è‡ªå‹•æš«åœã€‚ CPUUtilization å€¼ç‚º 0% æ™‚ï¼ŒåŸ·è¡Œå€‹é«”æ²’æœ‰é€²è¡Œä»»ä½•è™•ç†ï¼Œå¯èƒ½è™•æ–¼æš«åœç‹€æ…‹ã€‚ ä¸‹åœ–ç‚ºæˆåŠŸ Auto-pause çš„ç¯„ä¾‹ï¼Œæ³¨æ„ ACUUtilization Metric æœ‰æŸæ®µæ™‚é–“æ˜¯æˆåŠŸå®Œå…¨è²¼å¹³åœ¨æœ€åº• (0 percent)\n3. æŸ¥çœ‹äº‹ä»¶è¨˜éŒ„ AWS æœƒè¨˜éŒ„åŸ·è¡Œå€‹é«”çš„æš«åœèˆ‡æ¢å¾©ç›¸é—œäº‹ä»¶ã€‚å¯ä»¥åˆ° Cluster \u0026gt; Logs \u0026amp; events é ç±¤æŸ¥çœ‹ Recent events\nå››ã€Troubleshooting - æ˜æ˜æ²’æœ‰æ´»å‹•ç‚ºä»€éº¼ Aurora Serverless v2 æ²’æœ‰ Auto-pause 1. è‡ªå‹•æš«åœçš„é™åˆ¶èˆ‡æ¢ä»¶ å“ªäº›æƒ…æ³ä¸‹ä¸æœƒè‡ªå‹•æš«åœï¼Ÿ æœ‰ç”¨æˆ¶é€£ç·šæ´»å‹•æ™‚ ç•¶å­˜åœ¨æœªé—œé–‰çš„ç”¨æˆ¶é€£ç·šï¼Œç³»çµ±ä¸æœƒé€²å…¥æš«åœç‹€æ…‹ã€‚ å•Ÿç”¨äº†æŸäº›åŠŸèƒ½æˆ–é›†æˆï¼š é‚è¼¯è¤‡è£½ (PostgreSQL) æˆ– Binlog è¤‡è£½ (MySQL) é€™äº›åŠŸèƒ½éœ€è¦ä¿æŒæ´»èºï¼Œå› æ­¤ä¸æ”¯æ´è‡ªå‹•æš«åœã€‚ RDS Proxy (å¾ˆé‡è¦ï¼ï¼ï¼å¦‚æœæœ‰ä½¿ç”¨ RDS Proxy æœƒå°è‡´ Auto-pause ç„¡æ³•å•Ÿç”¨å–”) RDS Proxy ä¿æŒèˆ‡è³‡æ–™åº«çš„æŒçºŒé€£ç·šï¼Œå°è‡´ç„¡æ³•æš«åœã€‚ è·¨å€é›†ç¾¤ (Aurora Global Database) ä¸»è¦é›†ç¾¤çš„å¯«å…¥ç¯€é»ç„¡æ³•è‡ªå‹•æš«åœã€‚ æ¬¡è¦é›†ç¾¤çš„ç¯€é»å¯èƒ½æœƒæ ¹æ“šå„ªå…ˆç´šéƒ¨åˆ†æ”¯æŒæš«åœã€‚ 2. Failover Priority èˆ‡è‡ªå‹•æš«åœçš„é—œä¿‚ Failover Priority çš„è¡Œç‚º å„ªå…ˆç´š 0 å’Œ 1 çš„ç¯€é»é€šå¸¸ä¸æœƒè‡ªå‹•æš«åœï¼š é€™äº›ç¯€é»è¢«è¦–ç‚ºé—œéµç¯€é»ï¼Œé€šå¸¸èˆ‡å¯«å…¥ç¯€é»ï¼ˆWriter Instanceï¼‰è¡Œç‚ºä¸€è‡´ã€‚\nç•¶å¯«å…¥ç¯€é»æ¢å¾©æ™‚ï¼Œé€™äº›ç¯€é»ä¹Ÿæœƒè‡ªå‹•æ¢å¾©ã€‚\nå¦‚æœå¢é›†åªæœ‰å–®ä¸€å¯¦ä¾‹(å¯«å…¥å™¨)ï¼ŒFailover priority ä¸æœƒå½±éŸ¿ auto-pause è¡Œç‚ºã€‚å–®ä¸€å¯¦ä¾‹çš„è‡ªå‹•æš«åœåƒ…å–æ±ºæ–¼ï¼š\næœ€å°å®¹é‡è¨­ç‚º 0 ACU ç„¡ä½¿ç”¨è€…é€£ç·š é”åˆ°è¨­å®šçš„é–’ç½®æ™‚é–“ ç„¡ä½¿ç”¨ä¸ç›¸å®¹åŠŸèƒ½(å¦‚è¤‡è£½ã€Proxy ç­‰) å¦‚ä½•é…ç½® Failover Priorityï¼Ÿ å¯ä»¥è¨­ç½®ä¸åŒç¯€é»çš„ Failover Priorityï¼š é«˜å„ªå…ˆç´šç¯€é»ï¼ˆå¦‚ priority = 0 æˆ– 1ï¼‰ï¼šä¿æŒå¯ç”¨ï¼Œä¸é€²å…¥æš«åœã€‚ ä½å„ªå…ˆç´šç¯€é»ï¼ˆå¦‚ priority = 2 æˆ–æ›´é«˜ï¼‰ï¼šæ ¹æ“šè² è¼‰è‡ªå‹•æš«åœã€‚ 3. è§€å¯Ÿ instance.log ä¾†æ’æŸ¥åŸå›  Aurora writes a separate log file for Aurora Serverless v2 DB instances with auto-pause enabled. Aurora writes to the log for each 10-minute interval that the instance isn\u0026rsquo;t paused. Aurora retains up to seven of these logs, rotated daily. The current log file is namedÂ instance.log, and older logs are named using the patternÂ instance.*YYYY-MM-DD*.*N*.log.\nTheÂ instance.logÂ provides more granular detail about the reasons why an Aurora Serverless v2 instance might or might not be able to pause.\næ—¥èªŒä¸­å¸¸è¦‹è¨Šæ¯èˆ‡æ’æŸ¥æ–¹æ³•:\n[INFO] No auto-pause blockers registered since time æ„ç¾©ï¼šåœ¨è¨­å®šçš„è‡ªå‹•æš«åœæ™‚é–“å…§ï¼Œæ²’æœ‰é˜»æ­¢æš«åœçš„æ´»å‹•ã€‚ å¤šåŸ·è¡Œå€‹é«”é›†ç¾¤çš„å·®ç•°ï¼š ç•¶è®€å–ç¯€é»çš„æ´»å‹•åœ¨æš«åœæ™‚é–“çµæŸå‰çµæŸï¼Œå¯«å…¥ç¯€é»ä»å¯æŒ‰é æœŸæ™‚é–“æš«åœã€‚ [INFO] Unable to pause database due to a new database activity æ„ç¾©ï¼šåŸ·è¡Œå€‹é«”å˜—è©¦æš«åœï¼Œä½†æ–°é€£ç·šè«‹æ±‚åœ¨æš«åœå®Œæˆå‰æŠµé”ï¼Œé˜»æ­¢äº†æš«åœã€‚ [INFO] Auto-pause blockers registered since time: list_of_conditions æ„ç¾©ï¼šåˆ—å‡ºé˜»æ­¢æš«åœçš„æ‰€æœ‰æ¢ä»¶ã€‚ è§£æ±ºå»ºè­°ï¼šæª¢æŸ¥åˆ—å‡ºçš„æ¢ä»¶ï¼Œèª¿æ•´é…ç½®æˆ–ä½¿ç”¨æ–¹å¼ã€‚ ä»¥æˆ‘é€™é‚Šç‚ºä¾‹ï¼Œé€²å…¥ RDS Console \u0026gt; é¸æ“‡ database å¯¦ä¾‹ \u0026gt; åˆ‡æ›è‡³ Logs \u0026amp; events é ç±¤ \u0026gt; Logs é¸å– instance/instance.log \u0026gt; View Logs\n2024-11-28T01:33:12,982 [INFO] Auto-pause blockers registered since 2024-11-27T21:18:00.611Z: database activity before auto-pause timeout, continuous backup lag 2024-11-28T01:43:15,085 [INFO] Auto-pause blockers registered since 2024-11-28T01:33:12.981Z: database activity before auto-pause timeout, continuous backup lag, service or customer maintenance action 2024-11-28T01:53:15,591 [INFO] Auto-pause blockers registered since 2024-11-28T01:43:15.085Z: database activity before auto-pause timeout, continuous backup lag 2024-11-28T02:03:16,185 [INFO] Auto-pause blockers registered since 2024-11-28T01:53:15.590Z: database activity before auto-pause timeout, continuous backup lag 2024-11-28T02:13:16,790 [INFO] Auto-pause blockers registered since 2024-11-28T02:03:16.185Z: database activity before auto-pause timeout, continuous backup lag, service or customer maintenance action 2024-11-28T02:23:17,389 [INFO] Auto-pause blockers registered since 2024-11-28T02:13:16.790Z: database activity before auto-pause timeout, continuous backup lag 2024-11-28T02:33:17,989 [INFO] Auto-pause blockers registered since 2024-11-28T02:23:17.389Z: database activity before auto-pause timeout, continuous backup lag, service or customer maintenance action 2024-11-28T02:43:18,586 [INFO] Auto-pause blockers registered since 2024-11-28T02:33:17.988Z: database activity before auto-pause timeout, continuous backup lag, service or customer maintenance action 2024-11-28T02:53:19,186 [INFO] Auto-pause blockers registered since 2024-11-28T02:43:18.586Z: database activity before auto-pause timeout, continuous backup lag 2024-11-28T03:03:19,787 [INFO] Auto-pause blockers registered since 2024-11-28T02:53:19.186Z: database activity before auto-pause timeout, continuous backup lag, service or customer maintenance action 2024-11-28T03:13:20,386 [INFO] Auto-pause blockers registered since 2024-11-28T03:03:19.787Z: database activity before auto-pause timeout, continuous backup lag, service or customer maintenance action 2024-11-28T03:23:20,987 [INFO] Auto-pause blockers registered since 2024-11-28T03:13:20.386Z: database activity before auto-pause timeout, continuous backup lag, service or customer maintenance action ----------------------- END OF LOG ---------------------- æ–¼æ˜¯æˆ‘é€£ç·šé€²å» Instance åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤:\nå¯ä»¥ Enable RDS Data API å¾Œï¼Œå»ä½¿ç”¨ Query Editor é€£ç·šåˆ°è³‡æ–™åº«å”·ï¼\né€²å…¥ Query Editor å¾Œ \u0026gt; å¯ä»¥åƒè€ƒä¸‹åœ–é…ç½®é€£ç·šåˆ° database\nSHOW FULL PROCESSLIST KILL connection_id; -- connection_id å¾ PROCESSLIST ä¸­ç²å¾— æˆ‘çš„çœ‹æ³•å’Œå¿ƒå¾— Aurora Serverless v2 çš„ Auto-pause åŠŸèƒ½å°æˆ‘è€Œè¨€éå¸¸å…·æœ‰å¸å¼•åŠ›ï¼Œç‰¹åˆ¥æ˜¯å› ç‚ºæˆ‘æœ‰å¹¾å€‹å°ˆæ¡ˆéƒ½æ˜¯ Fully Serverless çš„æ¶æ§‹ï¼Œè€Œé‚£äº›å°ˆæ¡ˆéƒ½æœ‰é€™äº›ç‰¹æ€§ï¼šã€Œé–“æ­‡æ€§è² è¼‰ã€ä¸”ã€Œæµé‡è¼ƒä½ã€ï¼Œå› æ­¤ Pay-as-you-go çš„è¨ˆè²»æ¨¡å¼æˆç‚ºæˆ‘è€ƒé‡çš„é‡é»ã€‚\nåœ¨ Aurora Auto-pause åŠŸèƒ½æ¨å‡ºä¹‹å‰ï¼Œåœ¨ AWS ä¸Šè¦ç¬¦åˆ Pay-as-you-go ç‰¹æ€§çš„è³‡æ–™åº«é¸æ“‡åªæœ‰ NoSQL - DynamoDBã€‚\næˆ‘é€™ç¯‡æ–‡ç« å° Pay-as-you-go çš„ä¸»è§€èªå®šï¼Œæœ‰ä¸€å€‹é‡è¦æŒ‡æ¨™æ˜¯ã€Œé–’ç½®æœŸé–“ä¸æœƒç”¢ç”Ÿè²»ç”¨ã€\nç”±æ–¼ DynamoDB çš„ç‰¹æ€§ï¼Œåœ¨å¯¦ä½œåˆ†é åŠŸèƒ½ï¼ˆPaginationï¼‰æ™‚ï¼Œè‹¥è¦å¯¦ç¾é †æš¢çš„ä¸Šä¸€é å’Œä¸‹ä¸€é åˆ‡æ›ï¼Œé€šå¸¸æœƒè¼ƒç‚ºç¹ç‘£ï¼Œç”šè‡³éœ€è¦é¡å¤–çš„é–‹ç™¼æˆæœ¬ã€‚æ­¤å¤–ï¼ŒæŸäº›éœ€æ±‚åœ¨ä½¿ç”¨é—œè¯å¼è³‡æ–™åº«æ™‚æœƒæ›´åŠ ç›´è¦ºï¼Œå°¤å…¶ç•¶è³‡æ–™ä¹‹é–“å­˜åœ¨å¼·çƒˆé—œè¯æ€§ä¸”éœ€è¦é«˜ä¸€è‡´æ€§æ”¯æ´çš„æƒ…å¢ƒä¸‹ï¼Œé—œè¯å¼è³‡æ–™åº«çš„å„ªå‹¢å‰‡æ›´ç‚ºæ˜é¡¯ã€‚\nAurora Serverless v2 çš„ Auto-pause æ»¿è¶³äº† Serverless æ¶æ§‹å°å½ˆæ€§èˆ‡ä½æˆæœ¬çš„éœ€æ±‚ï¼ŒåŒæ™‚é‚„èƒ½æä¾›é—œè¯å¼è³‡æ–™åº«çš„èƒ½åŠ›ã€‚ä½†ä»¥ç¾æ³éœ€è¦å†·å•Ÿå‹•è¶…é 15 ç§’ï¼Œç”šè‡³æœ‰æ™‚å€™è¶…é 24 hrs ä»¥ä¸Šæ²’ Resume è³‡æ–™åº«æœƒç™¼ç”Ÿè¶…é 30 ç§’çš„å†·å•Ÿå‹•ï¼Œé™¤éä½¿ç”¨è€…å¯ä»¥å¿å—å¾ˆé«˜çš„å»¶é²ï¼Œä¸ç„¶æˆ‘èªç‚ºç¾æ³é‚„ä¸è¶³ä»¥æ”¾åˆ° Production ç’°å¢ƒä¾†æœå‹™æˆ‘å€‘å°ˆæ¡ˆçš„ä½¿ç”¨è€…ã€‚\nä¹Ÿè¨±æ˜¯å¯ä»¥ç”¨ä¸€äº›é¡å¤–æ©Ÿåˆ¶è®“è³‡æ–™åº«æå‰ Resume (ä¾‹å¦‚æŸäº‹ä»¶ç™¼ç”Ÿå°±å»è§¸ç™¼è³‡æ–™åº«é€£ç·šï¼Œæå‰è®“è³‡æ–™åº« Resume)ï¼Œä½†æ˜¯æˆ‘èªç‚ºé€™åè€Œå¼•ä¾†äº†é¡å¤–ç¶­è­·çš„æˆæœ¬ï¼Œç›®å‰é‚„ä¸å¤ è¶³ä»¥å¸å¼•æˆ‘å»æŠ•è³‡é‚£æ¨£çš„ç²¾åŠ›ç¶­è­·é‚£å€‹æ©Ÿåˆ¶ã€‚\næˆ‘ç›¸ä¿¡ AWS æ—¥å¾Œä¸€å®šæœƒæŠŠ Aurora çš„å†·å•Ÿå‹•æ™‚é–“å„ªåŒ–ï¼Œæˆ‘æ¨æ¸¬ 2025 re:Invent æ‡‰è©²å¯ä»¥çœ‹åˆ°é€™é‚Šé‚„æœƒæœ‰æ–°çš„é‡å¤§çªç ´ï¼\nç›¸é—œé€£çµ Shiun - å¦‚ä½•ä½¿ç”¨ AWS EventBridge Scheduler åŠ Lambda è‡ªå‹•æ’ç¨‹èª¿æ•´ AWS Aurora Serverless V2 ACU\nScaling to Zero ACUs with automatic pause and resume for Aurora Serverless v2 - Amazon Aurora\nManaging Aurora Serverless v2 DB clusters - Amazon Aurora\n","permalink":"https://shiun.me/blog/unboxing-amazon-aurora-serverless-v2-auto-pause-acu-0/","summary":"\u003ch2 id=\"overview\"\u003eOverview\u003c/h2\u003e\n\u003cp\u003eå°±åœ¨ 2024/11/20 AWS é‡‹å‡ºäº†é‡ç£…æ¶ˆæ¯ â€” ã€Œ\u003ca href=\"https://aws.amazon.com/tw/about-aws/whats-new/2024/11/amazon-aurora-serverless-v2-scaling-zero-capacity/\"\u003e\u003cstrong\u003eAmazon Aurora Serverless v2 supports scaling to zero capacity\u003c/strong\u003e\u003c/a\u003eã€ï¼Œç°¡å–®ä¾†èªªé€™å€‹åŠŸèƒ½èƒ½å¤ è®“ Aurora åœ¨é–’ç½®ä¸€æ®µæ™‚é–“å¾Œï¼Œè‡ªå‹•åœæ­¢å¯¦ä¾‹ (Auto-pause)ï¼Œåœæ­¢æœŸé–“ä¸æœƒæ”¶å–ã€ŒåŸ·è¡Œå¯¦ä¾‹å°æ™‚æ•¸è²»ç”¨ã€ (Aurora Capacity Units = \u003ccode\u003e0\u003c/code\u003e)ï¼Œé”åˆ°æ‰€è¬‚çš„ Truly Serverless!! å®˜æ–¹æŠŠé€™å€‹æ–°åŠŸèƒ½ç¨±ç‚º \u003cstrong\u003eAuto-pause\u003c/strong\u003e ï¼Œåœ¨é€™å€‹åŠŸèƒ½é‡‹å‡ºä»¥å‰ï¼Œ Aurora Capacity Units (ACU) æœ€ä½æœ€ä½åªèƒ½è¨­å®šæˆ \u003ccode\u003e0.5\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå¯¦éš› RDS å®šåƒ¹ å…¶å¯¦é‚„æœ‰å…¶ä»–æ”¶è²»ï¼Œåƒæ˜¯å„²å­˜æˆæœ¬ã€ IOPSã€å‚³è¼¸â€¦ ç­‰ç­‰ï¼Œè©³ç´°å…§å®¹æ•¬è«‹åƒè€ƒå®˜æ–¹æ–‡ä»¶ (\u003ca href=\"https://aws.amazon.com/tw/rds/pricing/\"\u003eé€£çµ\u003c/a\u003e)\u003c/p\u003e\n\u003cp\u003eAmazon Aurora vs RDS for MySQL åœ¨ us-west-2 çš„å®šåƒ¹æ¯”è¼ƒ:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAurora Serverless v2 æ¯å€‹ ACU ä¸€å°æ™‚ \u003cstrong\u003e0.12\u003c/strong\u003e ç¾é‡‘\u003c/li\u003e\n\u003cli\u003eRDS for MySQL - db.t4g.micro ä¸€å°æ™‚ \u003cstrong\u003e0.016\u003c/strong\u003e ç¾é‡‘\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eç´„ç­‰æ–¼ä¸€ ACU å¯ä»¥é–‹ 7.5 å°æ™‚çš„ db.t4g.microï¼Œå»ºè­°å¤§å®¶è¦\u003cstrong\u003eæ ¹æ“šè‡ªå·±çš„å¯¦éš›æƒ…å¢ƒå»å¥½å¥½è¨ˆç®—æˆæœ¬\u003c/strong\u003eå–”ï¼Œ\u003cstrong\u003eä¸¦ä¸æ˜¯ Serverless = ç¶“æ¿Ÿå¯¦æƒ \u003c/strong\u003eã€‚\u003c/p\u003e","title":"é–‹ç®± Amazon Aurora Serverless v2 Auto-pause Feature (ACU 0)"},{"content":"(åŸæœ¬æ²’æ‰“ç®—å¯«é‚£éº¼å¤šï¼Œçµæœæ¯å€‹æ•…äº‹çš„å‰å› å¾Œæœï¼Œä¸€å€‹é€£çµä¸€å€‹ï¼Œå°±è¶Šå¯«è¶Šå¤šäº†)\næœ€è¿‘æˆ‘å¾ç¬¬å…­å±† AWS Educate é›²ç«¯å¤§ä½¿è¨ˆåŠƒç•¢æ¥­äº†ï¼ç¬¬å…­å±†å¤§ä½¿è¨ˆåŠƒä»»è·æœŸé–“çœŸçš„éå¸¸å……å¯¦ä¸”å……æ»¿æŒ‘æˆ°ï¼Œæˆ‘ä¹Ÿåœ¨é€™æ®µæ—…ç¨‹ä¸­æˆé•·äº†éå¸¸éå¸¸å¤šã€‚\né€™ç¯‡æ–‡ç« æœƒå¾æˆ‘è¸ä¸Šè³‡è¨Šç§‘æŠ€ä¹‹è·¯é–‹å§‹èªªèµ·ï¼Œä¸€ç›´åˆ°æˆ‘åŠ å…¥ AWS Educate é›²ç«¯å¤§ä½¿è¨ˆåŠƒï¼Œå†ä¸€ä¸€å›é¡§æˆ‘åœ¨ç¬¬å…­å±† AWS Educate é›²ç«¯å¤§ä½¿ä¸­çš„ä¸€äº›æˆå°±å’Œé‡è¦æ´»å‹•ï¼Œæœ€å¾Œä¹Ÿæœƒåˆ†äº«ä¸€äº›æˆ‘åœ¨é€™æ®µæ—…ç¨‹ä¸­çš„æ”¶ç©«å’Œæˆé•·ï¼Œä»¥åŠæˆ‘çš„è¿‘æœŸæœªä¾†è¦åŠƒã€‚\næˆ‘å’Œ AWS çš„æ·µæºï¼Œæˆ‘åˆæ˜¯æ€éº¼ä¸€è·¯æˆç‚º AWS Educate é›²ç«¯å¤§ä½¿ ã€Œæˆ‘è¦ºå¾—æˆ‘å¾ˆå¹¸é‹ï¼Œæˆ‘ç®—æ˜¯åœ¨å¾ˆæ—©æœŸå°±å°æ–¼è·æ¶¯ç›®æ¨™å¾ˆæ˜ç¢ºï¼Œè€Œä¸”åˆ°è¶Šå¾ŒæœŸè¶Šæ˜ç¢ºã€‚ã€\nè¬›åˆ°é€™å€‹ï¼Œå›æ†¶èµ·é«˜ä¸­æ™‚ï¼Œå­¸æ ¡ç‚ºäº†æˆ‘å€‘é¸çµ„é‚„æœ‰é¸å¤§å­¸ç§‘ç³»æœ‰åšäº†å…©æ¬¡èˆˆè¶£æ¸¬é©—ï¼Œæˆ‘åªçŸ¥é“æ¸¬é©—çµæœé¡¯ç¤ºæˆ‘çš„èˆˆè¶£é‘‘åˆ¥åº¦å¾ˆæ˜ç¢ºï¼Œè€Œä¸”æˆ‘åœ¨è³‡è¨Šç®¡ç†å­¸ç³»è¶…ç´šé«˜åˆ†ï¼Œé‡æ¸¬ä¸€æ¬¡çš„çµæœä¹Ÿæ˜¯ä¸€æ¨£ï¼Œä¹Ÿå› æ­¤æˆ‘å¾ˆæ—©çš„å¿—é¡˜å°±æ˜¯ã€Œè³‡è¨Šç®¡ç†å­¸ç³»ã€ï¼Œæ‰€ä»¥å­¸æ¸¬å®Œç”³è«‹å­¸æ ¡æ™‚ï¼Œæ¯å€‹å­¸æ ¡éƒ½å¡«è³‡è¨Šç®¡ç†å­¸ç³»ã€‚å¾Œä¾†å°±é€²å…¥äº†è¼”ä»å¤§å­¸è®€è³‡ç®¡ç³»ï¼Œç¾åœ¨å›é ­çœ‹ï¼ŒçœŸçš„æ²’é¸éŒ¯è·¯ï¼Œå®Œå®Œå…¨å…¨é¸å°è·¯ã€‚\n2022 è¸å…¥è·å ´å¾Œèˆ‡ AWS çš„ç¬¬ä¸€æ¬¡æ¥è§¸ æˆ‘æ˜¯å¾å¤§äºŒé–‹å§‹é€²å…¥è·å ´å¯¦ç¿’çš„ï¼Œé€™é–“å…¬å¸å«åš eGroupAIï¼Œä¸»è¦ç”¢å“æœ‰å…©å€‹ï¼Œåˆ†åˆ¥æ˜¯äººè‡‰è¾¨è­˜ç³»çµ±å’Œ SaaS ä¼æ¥­ç®¡ç†å¹³å°ï¼Œç•¶æ™‚æˆ‘å°±æ˜¯ä»¥ä¸€å€‹èœé³¥å¯¦ç¿’ç”Ÿèº«ä»½é€²å…¥ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡è¦‹è­‰åˆ°çœŸæ­£æ¥­ç•Œçš„é–‹ç™¼æµç¨‹ï¼Œç•¶æ™‚çš„å…¬å¸ä¸»è¦ä½¿ç”¨ Spring Bootï¼Œå¦‚æœè¦åŠ å…¥å…¬å¸çš„æ­£å¼é–‹ç™¼çš„è¡Œåˆ—ï¼Œéœ€è¦æ­·ç¶“ä¸€å€‹å¯¦ç¿’ç”Ÿè€ƒè©¦ï¼Œæ²’æœ‰è€ƒéå°±æ˜¯ç›´æ¥æ°æ°ï¼Œæ‰€ä»¥ç•¶æ™‚ç™½å¤©å¯¦ç¿’ï¼Œæ™šä¸Šå›åˆ°å®¶è¦ç˜‹ç‹‚è®€èª²ç¨‹å’Œå¯«ä½œæ¥­ï¼Œé‚„å¥½æœ€å¾Œè€ƒéäº†ã€‚\nåŠ å…¥æ­£å¼é–‹ç™¼çš„è¡Œåˆ—å¾Œï¼Œç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯è¦é…ç½®å¥½é–‹ç™¼ç’°å¢ƒï¼Œå…‰æ˜¯è£ IDE, JDK, é…ç½®ä¸€å †æœ‰çš„æ²’çš„å°±å¯ä»¥ç”¨æ‰ä¸€æ•´å€‹å·¥ä½œå¤©ï¼Œæˆ‘ç•¶æ™‚è·Ÿ AWS çš„ç¬¬ä¸€æ¬¡æ¥è§¸ï¼Œå°±æ˜¯ä¸»ç®¡å«æˆ‘å»å®‰è£ AWS CLIï¼Œé…çµ¦æˆ‘ä¸€å€‹ IAM User çš„ Access Key ID å’Œ Secret Access Key (ç°¡ç¨± AKSK)ï¼Œç„¶å¾Œè¼¸å…¥ä¸€äº›æŒ‡ä»¤ï¼Œç•¶æ™‚æˆ‘å…¶å¯¦ä¹Ÿä¸çŸ¥é“é‚£æ˜¯ä»€éº¼ï¼Œå•äº†ä¸»ç®¡é€™å€‹æ˜¯ä»€éº¼æ±è¥¿ï¼Œä»–èªªå› ç‚ºé–‹ç™¼æœƒæœ‰ä¸€æ®µæœƒç¶“éé›²ï¼Œå¾Œç«¯æœ‰ç”¨åˆ° DynamoDBï¼Œé€™æ¨£ä½ åœ¨æœ¬åœ°é–‹ç™¼æ™‚æ‰æœ‰æ¬Šé™å»è™•ç†é‚£é‚Šçš„æ±è¥¿ã€‚\nè€Œä¹Ÿéš¨è‘—æˆ‘åœ¨å­¸ç¿’çš„éç¨‹ï¼Œæˆ‘é–‹å§‹å°æ•´å€‹è»Ÿé«”çš„é‹ä½œæµç¨‹ä»¥åŠæ¶æ§‹é€æ¼¸æ˜æœ—ï¼Œä¹Ÿå› æ­¤æˆ‘èˆ‡é›²ç«¯çš„æ·µæºè¶Šä¾†è¶Šæ·±ï¼Œèªè­˜çš„ä¹Ÿè¶Šä¾†è¶Šå¤šã€‚2022 å¹´çš„æŸå¤©ï¼Œæˆ‘åƒåŠ äº† AWS Educate èˆ‰è¾¦çš„å·¥ä½œåŠï¼Œè€Œä¸”æ˜¯è¾¦åœ¨ AWS è¾¦å…¬å®¤è£¡é¢ï¼Œæ­£å¥½å¯ä»¥å»åƒè§€ä¸€ä¸‹ã€‚ç•¶æ™‚åœ¨å·¥ä½œåŠå°¾è²æ™‚ï¼Œæœ‰ä¸€å€‹æœ€å¤§çï¼Œåªè¦å›ç­”å‡ºä»Šå¤©è¬›çš„æœå‹™çš„ä¸€å€‹å¯¦éš›æ‡‰ç”¨æ¡ˆä¾‹ï¼Œå°±å¯ä»¥æ‹¿èµ°ï¼Œæ­£å¥½æˆ‘ç•¶æ™‚é–‹ç™¼æ™‚å°±æœ‰è™•ç†é S3 ç›¸é—œçš„æ±è¥¿ï¼Œæ‰€ä»¥æˆ‘è…¦æµ·é¦¬ä¸Šè¹¦å‡ºæˆ‘åœ¨é–‹ç™¼ä¸Šçš„å¯¦è¸ï¼Œæœ€å¾Œé€™å€‹å¤§çå°±è¢«æˆ‘æ‹¿èµ°äº†ï¼Œç•¶æ™‚é€™å€‹å°å°æˆå°±æ„Ÿå½±éŸ¿æˆ‘è »å¤§çš„ï¼Œè®“æˆ‘æœ‰ç¹¼çºŒæ¢ç´¢é›²ç«¯æŠ€è¡“çš„å‹•åŠ›ã€‚\nä¸å¤ è‡ªä¿¡è®“æˆ‘å·®é»å»æ­¥ç”³è«‹ AWS Educate é›²ç«¯å¤§ä½¿è¨ˆåŠƒ éš¨å¾Œå°±æ˜¯æˆ‘è¿·ä¸Šäº†é›²ç«¯æŠ€è¡“ï¼Œç•¶æ™‚ AWS å¤§å¤§å°å°çš„æ´»å‹•æˆ‘éƒ½ä¸€å®šæœƒåƒåŠ ï¼Œä½†æ˜¯ AWS çš„æ´»å‹•éƒ½èˆ‰è¾¦åœ¨å¹³æ—¥ï¼Œç‚ºäº†åƒåŠ æ´»å‹•æˆ‘éƒ½å¿…é ˆç¿¹èª²ï¼Œè€Œä¸”æ’ç­æ™‚éƒ½è¦é¿é–‹ AWS æ´»å‹•æ—¥ï¼Œè€Œç•¶æ™‚æˆ‘å°å®¹å™¨åŒ–å¾ˆæ„Ÿèˆˆè¶£ï¼Œæ‰€ä»¥æ¯å€‹æ´»å‹•çš„ä¸‹åˆåˆ†å ´è­°ç¨‹æˆ‘éƒ½å°ˆæŒ‘ä¸€äº› Modernization æˆ–æ˜¯ Container ç›¸é—œçš„ä¸»é¡Œï¼Œé‚£æ™‚å€™æœ‰ä¸€å€‹ Solutions Architect (SA) ä»–å«åš Kerrigan ï¼Œæˆ‘ç‰¹åˆ¥å–œæ­¡ä»–çš„æ¼”è¬›é¢¨æ ¼ï¼Œè€Œä¸”ä»–æ¼”è¬›çš„ä¸»é¡Œå¤šåŠéƒ½å’Œæˆ‘æ„Ÿèˆˆè¶£æŠ€è¡“æœ‰é—œï¼Œé‚£æ™‚å€™æˆ‘å‰›é–‹å§‹ç¶“ç‡Ÿ LinkedInï¼Œç•¶æ™‚æˆ‘èªç‚ºå»ºç«‹é—œä¿‚æ˜¯ä¸€å€‹å¾ˆè¬¹æ…ä¸”é‡å¤§çš„äº‹ï¼Œå¾ˆæ€•ä¸€å€‹èœé›å­¸ç”Ÿè·Ÿå¤§ç¥å»ºç«‹é—œä¿‚æœƒè¢«æ‹’çµ•ï¼ŒæŸæ¬¡æ¼”è¬›çµæŸå¾Œæˆ‘å°±å¯«äº†ä¸€æ®µè¨Šæ¯ç„¶å¾Œé¼“èµ·å‹‡æ°£å»å»ºç«‹é—œä¿‚ï¼Œé€™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è·ŸåŸæœ¬ä¸èªè­˜çš„äººå»ºç«‹é—œä¿‚ï¼Œè€Œæ²’å¤šä¹…å¾Œæˆ‘çœ‹åˆ°è¢«æ¥å—é‚€è«‹çš„é€šçŸ¥å°±è¶…é–‹å¿ƒï¼Œè€Œä¸” Kerrigan ä¹Ÿæœ‰çµ¦äºˆæˆ‘ä¸€äº›æ­£é¢å›æ‡‰ã€‚ç¾åœ¨å›é ­çœ‹ï¼Œé›–ç„¶å¥½åƒåªæ˜¯ç°¡å–®çš„å»ºç«‹é—œä¿‚ï¼Œä½†å°ç•¶æ™‚çš„æˆ‘ä¾†èªªæ˜¯ç›¸ç•¶å¤§çš„é¼“èˆï¼Œé€™æ˜¯èƒ½è®“æˆ‘ç¹¼çºŒå¾€é›²ç«¯æŠ€è¡“æ¢ç´¢å‹•åŠ›ä¾†æºä¹‹ä¸€ã€‚\nåœ¨ 2023 å¤å¤©ï¼Œæˆ‘çœ‹åˆ° 5th AWS Educate é›²ç«¯å¤§ä½¿çš„æ‹›å‹Ÿæ¶ˆæ¯ï¼Œæˆ‘ç•¶æ™‚çœ‹åˆ°å…¶å¯¦å°±ä¸€ç›´å¾ˆçŒ¶è±«ä¸æ±ºè©²ä¸è©²å˜—è©¦å»å ±åçœ‹çœ‹ï¼Œæƒ³å ±åå…¶å¯¦æœ€ä¸»è¦æ˜¯å‡ºè‡ªæ–¼å°é›²ç«¯æŠ€è¡“çš„ç†±æƒ…ï¼Œå…¶æ¬¡æ˜¯æˆ‘åƒåŠ éç„¡æ•¸çš„ AWS å„å€‹å¤§å¤§å°å°çš„æ´»å‹•åœ¨åº•ä¸‹çœ‹è‘—å°ä¸Šçš„é›²ç«¯å¤§ç¥ï¼Œä¹Ÿæœƒå¾ˆæƒ³è·Ÿä»–å€‘äº¤æµï¼Œæœ€å¾Œæ˜¯æˆ‘è‡ªå·±æœ¬ä¾†å°±å–œæ­¡é¢å°äººç¾¤ã€èˆ‡äººäº¤æµåŠåˆ†äº«çŸ¥è­˜ï¼Œæ‰€ä»¥ä¹Ÿæ¸´æœ›è‡ªå·±èƒ½åœ¨å°ä¸Šå±•ç¾è‡ªå·±å°ˆæ¥­çš„é‚£ç¨®æ„Ÿè¦ºï¼›ä¸æ•¢è¸å‡ºå»æ˜¯å› ç‚ºæˆ‘å°æ–¼ç•¶æ™‚çš„è‡ªå·±èƒŒæ™¯å¾ˆæ²’æœ‰ä¿¡å¿ƒï¼Œç•¢ç«Ÿå­¸æ­·åªæ˜¯ç§ç«‹å­¸æ ¡ï¼Œè‹±æ–‡å£èªªèƒ½åŠ›åˆå¾ˆå·®å°æ–¼é€²å…¥å¤–å•†çš„ç’°å¢ƒä¾†èªªçœŸçš„æ˜¯ä¸€å€‹å (å¾Œä¾†ç™¼ç¾ä¸æœƒæœ‰è‹±æ–‡é¢è©¦)ï¼Œæœ€çµ‚æˆ‘ä¸€ç›´æƒ³è¾¦æ³•è¦å»å…‹æœé€™å€‹åï¼Œæˆ‘å°±è‡¨æ™‚èµ·æ„ï¼Œè¶•ç·Šå»è€ƒä¸€å¼µ SAA è­‰ç…§å¸Œæœ›èƒ½ã€Œæ­¦è£ã€æˆ‘çš„å±¥æ­·ï¼Œå¾ˆå¹¸é‹çš„æ˜¯å› ç‚ºæˆ‘åœ¨å­¸æ ¡æœ‰é¸ä¿® AWS çš„èª²ã€å·¥ä½œä¸Šæœ‰åœ¨ç”¨ AWSã€ç•¢æ¥­å°ˆé¡Œä¹Ÿç”¨ AWSã€è‡ªå·±é–’æš‡æ™‚é–“ä¹Ÿéƒ½æœƒä¸»å‹•æ¢ç´¢é›²ç«¯æŠ€è¡“ï¼Œæ‰€ä»¥æˆ‘æº–å‚™ SAA æ™‚æ„Ÿè¦ºå°±å¾ˆåƒåœ¨è¤‡ç¿’å’ŒåŠ å¼·ä¸€äº›ç´°ç¯€ï¼Œæ‰€ä»¥åœ¨ 7 å¤©å°±æˆåŠŸè€ƒåˆ°äº†ï¼Œæœ€å¾Œä¹Ÿæ˜¯æˆåŠŸéŒ„å–æ›¸å¯©ï¼Œé€²å…¥é¢è©¦é—œå¡ã€‚\né¢è©¦ç•¶å¤©ï¼Œæˆ‘é€²åˆ°åœ˜é«”é¢è©¦å°±åš‡åˆ°äº†ï¼Œç•¶å¤§å®¶åœ¨è‡ªæˆ‘ä»‹ç´¹æ™‚ï¼Œç™¼ç¾å¥½å¤šéƒ½æ˜¯ä¾†è‡ªå°å¤§çš„å­¸ç”Ÿâ€¦ æˆ‘å…¶å¯¦ç•¶ä¸‹çœŸçš„å¾ˆç·Šå¼µï¼Œå¤§å®¶è³‡æ­·éƒ½å¾ˆå¼·ï¼Œæœ‰ä¸€ç¨®ã€Œçœ‹è¦‹ä¸–ç•Œå¦‚æ­¤ä¹‹å¤§ã€çš„æ„Ÿè¦ºã€‚æˆ‘è¦ºå¾—æˆ‘ç•¶æ™‚åœ¨åœ˜é«”é¢è©¦æ™‚çœŸçš„å¤ªç·Šå¼µï¼Œæ²’æœ‰ç™¼æ®çš„å¾ˆå¥½ï¼Œè€Œä¸”ç•¶æ™‚å…¶ä»–äººçš„æºé€šèƒ½åŠ›å’Œè·¨åœ˜éšŠçš„å”èª¿èƒ½åŠ›éå¸¸å¼·ï¼Œä¹Ÿå› æ­¤åœ¨ç•¶æ™‚å€‹äººé¢è©¦å°æˆ‘ä¾†èªªè‡³é—œé‡è¦ï¼Œæˆ‘å¿…é ˆåœ¨å€‹äººé¢è©¦æ‰³å›ä¸€åŸï¼Œè€Œé‚„å¥½ç‚ºäº†å€‹äººé¢è©¦ï¼Œæˆ‘é¢è©¦ä¹‹å‰æ‰¾äº†èº«é‚ŠéæŠ€è¡“èƒŒæ™¯æˆ–æ˜¯å‰›é–‹å§‹å­¸ç¿’ AWS çš„äººç·´ç¿’éç°¡å ±ï¼Œä»¥ç¢ºä¿æˆ‘çš„ç°¡å ±æ˜¯è¶³ä»¥è®“ã€Œé›²ç«¯å°ç™½ã€è½å¾—æ‡‚çš„ï¼Œåœ¨çµæŸå¾Œï¼Œæˆ‘ä¸€ç›´å¾ˆæ“”å¿ƒä¸æœƒéŒ„å–ï¼Œç•¢ç«Ÿç•¶æ™‚æˆ‘çœŸçš„å¾ˆèœï¼Œç¬¬ä¸€æ¬¡ç¢°åˆ°é€™å ´é¢æ˜¯çœŸçš„è¢«éœ‡æ’¼åˆ°ï¼Œç­‰å¾…é€šçŸ¥çš„éç¨‹ä¸­ç¸½æ˜¯ä¸€ç›´å»å›æƒ³ç•¶æ™‚æœ‰å¹¾é¡Œé¢è©¦å®˜çš„æå‡ºçš„å•é¡Œå¯ä»¥å›ç­”å¾—æ›´å¥½ã€‚\nçµ‚æ–¼ï¼Œå…¬å‘ŠéŒ„å–é€šçŸ¥çš„é‚£å¤©åˆ°ä¾†ï¼Œæˆ‘é †åˆ©éŒ„å–äº†ï¼ŒçœŸçš„æ˜¯çˆ½ç¿»å¤©ï¼Œç•¶æ™‚æˆ‘çœŸçš„æ˜¯ã€ŒæŠ±è‘—æ»¿è…”å°é›²ç«¯æŠ€è¡“çš„ç†±æƒ…ã€åŠ å…¥åˆ° AWS Educate é›²ç«¯å¤§ä½¿è¨ˆåŠƒã€‚\nåŠ å…¥ 5th å¤§ä½¿è¨ˆåŠƒå¾Œï¼Œè¿ä¾†æˆ‘çš„ç¬¬ä¸€å€‹æŒ‘æˆ°æ˜¯ AWS Summitï¼Œæˆ‘éœ€è¦åœ¨æ”¤ä½ä¸Šç‚ºä»–äººä»‹ç´¹ AWS Educate å¹³å°ï¼Œä¸éé€™ç¨®æœƒéœ€è¦è·Ÿäººç›´æ¥é¢å°é¢çš„å ´åˆçœŸçš„æ˜¯æˆ‘çš„æ‹¿æ‰‹èœï¼Œæˆ‘ç™¼ç¾è‡ªå·±å¯ä»¥åœ¨å°ˆæ¥­ä¸Šå¾ˆè¼•é¬†åœ°èˆ‡ä»–äººä¾ƒä¾ƒè€Œè«‡ï¼Œä¹Ÿå¾ˆäº«å—å¹«ä»–äººè§£æ±ºå°ˆæ¥­å•é¡Œå¸¶ä¾†çš„æˆå°±æ„Ÿï¼Œé‚£æ™‚æ˜¯æˆ‘ç¬¬ä¸€æ¬¡éœ€è¦åœ¨é€™ç¨®å•†æ¥­å ´åˆèˆ‡ä»–äººé¢å°é¢äº’å‹•ï¼Œè€Œæˆ‘åœ¨é‚£åˆ»ä¹Ÿæ˜ç¢ºé ˜æ‚Ÿåˆ°æˆ‘ç†æƒ³çš„è·æ¶¯æ„å‘å°±æ˜¯: ã€Œé›²ç«¯é‹ç®—ã€ã€ã€Œèˆ‡äººäº’å‹•ã€ã€ã€Œå¹«åŠ©ä»–äººè§£æ±ºå•é¡Œã€\nAWS Educate é›²ç«¯å¤§ä½¿åˆ°åº•åœ¨åšä»€éº¼ï¼Ÿ AWS Educate é›²ç«¯å¤§ä½¿æ˜¯ä¸€å€‹å¤§å°ˆé™¢æ ¡çš„ç¨®å­è¨ˆç•«ï¼Œæˆå“¡ä¾†è‡ªå°ç£å„å¤§æ ¡åœ’çš„å­¸ç”Ÿï¼Œä¸»è¦ä»»å‹™å°±æ˜¯æ¨å»£ã€ŒAWS é›²ç«¯æ•™è‚²è³‡æºã€ã€‚åŸºæœ¬ä¸Šè·Ÿã€Œæ•™è‚²ã€æœ‰é—œçš„ä»»å‹™éƒ½å’Œå¤§ä½¿æœ‰é—œï¼Œä»¥ä¸‹å°±ç°¡å–®åˆ—èˆ‰å¹¾å€‹å¤§ä½¿ä»»æœŸå…§çš„å¯¦éš›ä»»å‹™ï¼š\nèˆ‡æ ¡æ–¹æ¥æ´½ï¼Œèˆ‰è¾¦å¤§å‹æ´»å‹•ï¼Œä¾‹å¦‚: University AWSome Day (UAD) é‹ç‡Ÿè­‰ç…§é™ªè·‘è¨ˆç•«ï¼Œå”åŠ©å°é›²ç«¯ç§‘æŠ€æœ‰èˆˆè¶£çš„äººå£«è€ƒå– AWS è­‰ç…§ èˆ‰è¾¦æŠ€è¡“å·¥ä½œåŠï¼Œæ•™å­¸å°é›²ç«¯ç§‘æŠ€æœ‰èˆˆè¶£çš„äººå£«ä½¿ç”¨ AWS èˆ‰è¾¦è·æ¶¯è¬›åº§ï¼Œè§£æƒ‘ AWS ä¼æ¥­æ–‡åŒ–ä»¥åŠè·æ¶¯ä¸Šçš„è«®è©¢ å¤§ä½¿ç¸½å…±åˆ†ç‚ºä¸‰å€‹è·èƒ½ï¼š\næ´»å‹•è¦åŠƒ è¡ŒéŠ·æ¨å»£ æŠ€è¡“æ”¯æ´ (Me) ä½†å¯¦éš›åŠ å…¥åˆ°å¤§ä½¿å…§éƒ¨å¾Œï¼Œå…¶å¯¦é‚„æœ‰å¾ˆå¤šé¡å¤–çš„å°ˆæ¡ˆå¯ä»¥å»åƒèˆ‡ï¼Œé€™äº›å°ˆæ¡ˆéƒ½æ˜¯è‡ªç”±åƒåŠ çš„\nAWS Demand Generation Representative (DGR): èˆ‡ AWS BD æ­£è·åƒèˆ‡æ¥­å‹™é–‹ç™¼ï¼Œé€²è¡Œé™Œç”Ÿé–‹ç™¼ï¼Œå°‹æ±‚å•†æ¥­ä¸Šçš„ Opportunity AWS Cloud Support Mentorship (6th é–‹å§‹æ‰æœ‰): èˆ‡ AWS Cloud Support Engineer å€‘å­¸ç¿’ AWS æœå‹™ã€ä½œæ¥­ç³»çµ±å’Œç¶²è·¯å”è­° AWS Dev Team (6th é–‹å§‹æ‰æœ‰): é–‹ç™¼å¤§ä½¿å…§éƒ¨å·¥å…· (TPET) ä¾†è§£æ±ºå¤§ä½¿æ¥­å‹™çš„ç—›é» Creative Project: å±•ç¾ä½ çš„å‰µæ–°åŠå‰µæ„èƒ½åŠ›ï¼ç¬¬å…­å±†çš„å¤§ä½¿é–‹ç™¼äº† AWS AI å¿ƒç†æ¸¬é©— å„å€‹å¤§å¤§å°å°çš„æ´»å‹•æ”¯æ´ï¼Œåƒæ˜¯æˆ‘æœ‰åƒèˆ‡ï¼š 2024 AWS Summit Taipei AWS Professional Service Team x å°é›» GenAI Hackathon (é€™æ´»å‹•æˆ‘æœ‰ç‰¹åˆ¥å¯«ä¸€ç¯‡æ–‡ç«  â†’ é€£çµ) é‚„æœ‰å¥½å¤šâ€¦ å°±ä¸ä¸€ä¸€åˆ—èˆ‰ æˆ‘å¾ 2024 å¹´ 3 æœˆèµ·ï¼Œå› ç‚ºåœ¨ eCloudValley å¯¦ç¿’æ™‚æœ‰å¯«å­¸ç¿’æ—¥èªŒï¼Œçµæœå¾Œä¾†è®Šæˆä¸€å€‹ç¿’æ…£å»¶çºŒåˆ°ä»Šæ—¥ï¼Œå¦‚æœæƒ³çœ‹æˆ‘ 3 æœˆä»¥ä¾†åœ¨å¤§ä½¿çš„è©³ç´°æ•…äº‹ä¸å¦¨ä¹Ÿå¯ä»¥é€›é€›æˆ‘çš„ Notion\nå‰æœŸ - 2024 å¹´ 3 æœˆä»½ ~ 5 æœˆä»½ åœ¨ 6th é›²ç«¯å¤§ä½¿ä»»è·å‰æœŸ (2024/03 ~ 2024/05/31)ï¼Œæˆ‘å…¶å¯¦èº«å…¼å››å€‹èº«ä»½ï¼ŒåŒ…å«:\nè¼”ä»å¤§å­¸å­¸ç”Ÿï¼Œè¦ä»£è¡¨è¼”å¤§åƒè³½é›²ç«¯é‹ç®—æ¯”è³½ AWS Educate é›²ç«¯å¤§ä½¿ eCloudValley Cloud Engineer Intern eGroupAI çš„é›²ç«¯è«®è©¢å’Œç ”ç©¶ äº‹æƒ…æ˜¯å¾ˆå¤šï¼Œä½†å…¶å¯¦ä¸æœƒç´¯ï¼Œåè€Œæ˜¯å¾ˆæ¨‚åœ¨å…¶ä¸­ã€‚\nç•¶æ™‚å­¸æ ¡æˆ‘åªæœ‰é¸ä¿®ä¸€é–€èª²é‚£é–€èª²æ˜¯å­¸ GCPï¼Œåœ¨ eCloudValley å¯¦ç¿’ç•¶ç„¶å°±æ˜¯æŒçºŒç²¾é€² AWS é‚„æœ‰ Azureï¼Œç„¶å¾Œç•¶æ™‚æœ‰é ç«¯æ¥ eGroupAI çš„ä¸€äº› caseï¼Œç•¶æ™‚æ¥çš„ case éƒ½æ˜¯é›²ç«¯æŠ€è¡“æ–¹é¢çš„è«®è©¢å’Œç ”ç©¶ï¼Œæ‰€ä»¥æˆ‘æ‰æœƒèªªå¾ˆæ¨‚åœ¨å…¶ä¸­ã€‚\næ­¤å¤–ï¼Œç•¶æ™‚é‚„æœ‰ä¸€å ´é›²ç«¯é‹ç®—çš„æ¯”è³½è¦æ¯”ï¼Œæ¯”è³½æ˜¯ç”¨ GCPï¼Œå¾ˆå¯æƒœæœ€å¾Œæ˜¯åœ¨ä»¥ç¬¬å…­åæ”¶å°¾ (å¥½åƒå…¨éƒ¨æœ‰ 30 ä½ä¸Šä¸‹çš„åƒè³½è€…å§ï¼Œä¸å¤ªè¨˜å¾—ç¢ºåˆ‡æ•¸å­—)\nOnboarding (3 æœˆä»½) åœ¨ä¸Šä»»å…¸ç¦®ï¼Œå¾ˆé–‹å¿ƒç¸½ç¶“ç† Robert è¦ªè‡ªè’è‡¨ç¾å ´å’Œå­¸ç”Ÿå€‘äº’å‹•å’Œäº¤æµï¼Œå¾ˆé›£å¾—èƒ½å¤ æœ‰é€™ç¨®æ©Ÿæœƒè·Ÿé«˜å±¤é ˜å°é¢å°é¢äº¤æµ\né›²ç«¯å¤§ä½¿éƒ¨åˆ†ï¼Œå› ç‚ºæˆ‘æ˜¯ Group3 Team Lead ï¼Œæˆ‘å€‘é€™çµ„ä½¿ç”¨äº† Slack + Jira ä¾†å”ä½œï¼Œæ‰€ä»¥å…ˆå‰æˆ‘èŠ±äº†è »å¤šæ™‚é–“å»ºç½®è‡ªå‹•åŒ–é€šçŸ¥ç³»çµ±å’Œå­¸ç¿’ Jiraï¼Œé™¤æ­¤ä¹‹å¤–ç‚ºäº†ç¢ºä¿æˆ‘çµ„å…§çš„æˆå“¡å¯ä»¥é †åˆ©å”ä½œï¼Œä¹ŸèŠ±äº†ä¸€äº›æ™‚é–“å»æº–å‚™ä¸€äº› Collaboration çš„æ–‡ä»¶ã€‚\nè­‰ç…§é™ªè·‘è¨ˆç•« è€Œé€™æœŸé–“ ( 3 æœˆä»½ ) å¤§ä½¿å€‘ä¸»è¦ä»»å‹™ä¹‹ä¸€å°±æ˜¯ç±Œå‚™è­‰ç…§é™ªè·‘è¨ˆç•«ï¼Œå…¶å¯¦æœ€åˆå¤§ä½¿é€™é‚Šåªæ˜¯çŸ¥é“èªªé€™å±†ç›®æ¨™æ˜¯è¦æ¨å»£è­‰ç…§ï¼ŒåŸºæ–¼é€™å€‹ç›®æ¨™ï¼Œæˆ‘æ‰ç™¼æƒ³å‡ºè­‰ç…§é™ªè·‘è¨ˆç•«é€™å€‹æ¦‚å¿µç„¶å¾Œç•«å‡ºé‹ä½œçš„æ¶æ§‹åœ–ï¼Œå¾ŒçºŒå†åŠ ä¸Šå…¶ä»– Team Lead ä»¥åŠçµ„å“¡å€‘çš„å„ªåŒ–ï¼Œé€™å€‹é™ªè·‘è¨ˆç•«å°±æˆå½¢äº†ï¼è€Œä¹Ÿç‚ºäº†æ¨å»£é€™å€‹è³‡æºï¼Œå„å€‹å¤§ä½¿ä¹Ÿæ˜¯ç©æ¥µèˆ‡å„å¤§æ ¡åœ’æ¥æ´½ã€‚è€Œæˆ‘å€‘é€™çµ„é™¤äº†èˆ‰è¾¦äº† 04/19 AWS è­‰ç…§é™ªè·‘è¨ˆç•«èªªæ˜æœƒä¹‹å¤–ä¹Ÿèˆ‰è¾¦äº† 05/24 çš„è­‰ç…§èª²ç¨‹ï¼Œæˆ‘ç•¶æ™‚è² è²¬è¬›è§£ VPC ä»¥åŠ Networing çš„åŸºæœ¬æ¦‚å¿µã€‚\né™¤æ­¤ä¹‹å¤–ï¼Œå¤§ä½¿å€‘ç‚ºäº†è­‰ç…§é™ªè·‘å‰µç«‹äº†ä¸€å€‹ Discord ç¤¾ç¾¤ï¼Œé€™å€‹ç¤¾ç¾¤æ˜¯ç‚ºäº†è®“å¤§å®¶å¯ä»¥åœ¨è£¡é¢è¨è«–è­‰ç…§ç›¸é—œçš„å•é¡Œï¼Œä»¥åŠè®“å¤§ä½¿å€‘å¯ä»¥åœ¨è£¡é¢å…¬å‘Šé™ªè·‘è¨ˆç•«ç›¸é—œçš„è³‡è¨Šã€‚æˆ‘åœ¨é€™å€‹ç¤¾ç¾¤è£¡é¢æ›¿å¾ˆå¤šäººè§£ç­”äº†ä¸å°‘å•é¡Œï¼Œä¹Ÿå› æ­¤æˆ‘è‡ªå·±ä¹Ÿå­¸åˆ°äº†ä¸å°‘æ–°çŸ¥è­˜ï¼Œé€™å€‹ç¤¾ç¾¤ä¹Ÿæ˜¯æˆ‘å€‘å¤§ä½¿å€‘åœ¨é€™æœŸé–“çš„ä¸€å€‹é‡è¦è³‡æºã€‚\nå¸«å¤§ UAD (03/19) åœ¨å¸«å¤§ UADï¼Œæˆ‘èº«ç‚ºé›²ç«¯å¤§ä½¿ï¼Œä¸»è¦ä»»å‹™æ˜¯æ“”ä»»è¯ç¹«çª—å£ä¹‹ä¸€ï¼Œå”åŠ©å›ç­”å¸«å¤§çš„è€å¸«å€‘åœ¨é€šè¨Šè»Ÿé«”ä¸Šæå‡ºçš„å•é¡Œä¸¦å”èª¿å¤§ä½¿å…§éƒ¨è™•ç†ä»»å‹™ï¼Œç•¶æ™‚æˆ‘å€‘çµ„çš„å…©ä½æˆå“¡ Richie å’Œ Queena å°±åœ¨é€™å ´æ´»å‹•ä¸­åˆ†åˆ¥å®£å‚³äº† GenAI Hackathon ä»¥åŠè­‰ç…§é™ªè·‘è¨ˆç•«é€™å€‹è³‡æºï¼\nDev Team æˆç«‹ (04/22) åœ¨å¤§ä½¿è¨ˆåŠƒé‹ç‡ŸæœŸé–“ï¼Œå…¶å¯¦ä¾¿æœ‰ç™¼ç¾ä¸€äº›æ¥­å‹™ä¸Šçš„ç—›é»å’Œé›£é¡Œè¦è§£æ±ºï¼Œåƒæ˜¯ï¼š\néœ€è¦å¯„é€å¤§é‡çš„å®¢è£½åŒ–ä¿¡ä»¶ éœ€è¦è£½ä½œå¤§é‡åƒèˆ‡è­‰æ˜ ä¹Ÿå› æ­¤æˆ‘ç±Œçµ„äº† Dev Teamï¼Œåœ˜éšŠä½¿ç”¨äº† Serverless æœå‹™ä¸¦åœ¨å¾®æœå‹™æ¶æ§‹ä¸‹æ‰“é€ å‡ºä¸€å€‹å®¢è£½åŒ–ä¿¡ä»¶å¯„ä¿¡ç³»çµ± (TPET)ï¼Œç›¸æ¯”ä»¥å¾€çš„æ‰‹å‹•ä½œæ¥­ï¼Œç¯€çœè‡³å°‘ 80% ä»¥ä¸Šçš„æ™‚é–“ï¼Œè€Œä¸€å€‹æœˆçš„å¹³å‡èŠ±è²»åªè¦ 1.5 ç¾é‡‘\nå¦‚æœå° Dev Team èª•ç”Ÿçš„æ•…äº‹æœ‰èˆˆè¶£æ­¡è¿çœ‹é€™ç¯‡æ–‡ç« : Notion - AWS Educate Dev Team å¦‚ä½•èª•ç”Ÿçš„\nGenAI Hackathon (3æœˆ ~ 5/19) é‚„æœ‰ä¸€å€‹å¤§æ´»å‹•å°±æ˜¯ GenAI Hackathonï¼Œå¤§ä½¿å€‘å”åŠ©æ”¯æ´å®£å‚³ï¼ŒåŒæ™‚ä¹Ÿæœ‰å¹¾ä½å¤§ä½¿å°é€™æ¯”è³½ä¹Ÿå¾ˆæœ‰èˆˆè¶£ï¼Œæ–¼æ˜¯å°±è‡ªè¡Œçµ„éšŠï¼ŒéšŠåå°±å«åšã€Œå¤§ä½¿å¤¢ä¹‹éšŠã€å“ˆå“ˆï¼ŒåƒåŠ é€™å ´æ´»å‹•å­¸åˆ°å¥½å¤š GenAI çš„æŠ€è¡“ï¼Œè³½å‰æˆ‘åƒåŠ äº†ä¸å°‘å·¥ä½œåŠï¼Œå¯æƒœæˆ‘å€‘æœ€çµ‚æ•—çµ¦ä¸€å€‹å¼·æ•µï¼Œä»¥ç¬¬äºŒåæ”¶å°¾ã€‚æ„Ÿè¬éšŠé•· Yunaï¼Œé‚„æœ‰éšŠå‹å€‘: Richie, Eason, Toby çš„ä»˜å‡ºï¼Œæ˜¯å€‹å¾ˆå¯¶è²´å’Œé›£å¿˜çš„æ¯”è³½ç¶“é©—ï¼\nGenAI Hackathon æ¯”è³½è©³ç´°çš„å…§å®¹æ­¡è¿çœ‹é€™ç¯‡æ–‡ç« : å­¸ç”Ÿæ™‚æœŸçš„æœ€å¾Œä¸€å ´æ¯”è³½: 2024 GenAI Hackathon æ¯”è³½ç´€éŒ„ | Shiun\nè¼”ä»å¤§å­¸ x AWS Educate: æŠ€è¡“äººåœ¨ AWS çš„è·æ¶¯é–‹ç®± (5/24) é€™å…¶å¯¦æ˜¯ä¸€å€‹è·æ¶¯è¬›åº§ + GenAI æŠ€è¡“å·¥ä½œåŠï¼Œä¸»è¬›è€…æ˜¯ AWS Solutions Architect - Ginny å­¸å§Šï¼Œç•¶åˆæˆ‘è² è²¬èˆ‡è¼”å¤§é€™é‚Šçš„æ•™æˆæ¥æ´½ï¼Œç¢ºèªå¥½æ™‚é–“å’Œå ´åœ°å¾Œï¼Œå¾ŒçºŒç”±æˆ‘å€‘çµ„å“¡ Queena ä¾†é€²è¡Œæ´»å‹•è¦åŠƒã€‚é€™å ´çœŸçš„å¥½æ„Ÿè¬ Ginny å­¸å§Šï¼ŒGinny å­¸å§Šå’Œæˆ‘ä¸€æ¨£ä¹Ÿæ˜¯åœ¨è¼”ä»å¤§å­¸è³‡ç®¡ç³»ç•¢æ¥­çš„ï¼Œç•¶å¤©å¥¹å›ä¾†æ¯æ ¡æ¼”è¬›ï¼Œç‚ºå­¸å¼Ÿå¦¹æä¾›äº†è·æ¶¯åˆ†äº«ä»¥åŠæ•™å­¸ AWS GenAI çš„æœå‹™ï¼Œé€™å ´å·¥ä½œåŠæœ€å¾Œç²å¾—äº† 4.8/5 çš„æ»¿æ„åº¦ï¼Œè€Œä¸”å¾ŒçºŒæ•™æˆä¹Ÿå°æ–¼é€™å ´å·¥ä½œåŠçµ¦äºˆæ¥µé«˜çš„è©•åƒ¹ï¼Œå¸Œæœ›å¾ŒçºŒé‚„èƒ½è·Ÿ AWS é€™é‚Šåˆä½œï¼\nè£œå…… 1: GenAI Hackathon çš„å…¶ä¸­ä¸€å ´è³½å‰å·¥ä½œåŠæ˜¯ Ginny å­¸å§Šå¸¶çš„ï¼Œç•¶æ™‚æœ‰åšäº†ä¸€ä»½ç­†è¨˜ç´€éŒ„ç•¶æ™‚çš„å·¥ä½œåŠå¯¦ä½œéç¨‹: Notion - 20240427 å¯¦ç¿’æ—¥èªŒ\nè£œå…… 2: åœ¨è·æ¶¯æ–¹é¢æˆ‘è‡ªå·±ä¹Ÿå—åˆ° Ginny å­¸å§Šå¾ˆå¤§çš„å¹«åŠ©ï¼åœ¨è¼”å¤§é€™å ´å·¥ä½œåŠæˆ‘ä¹Ÿæ˜¯å—ç›Šè€…ï¼Œç•¶å¤©æˆ‘èº«ç‚ºæ´»å‹•ç±Œè¾¦æ–¹ä¹‹ä¸€ä½†ä¹Ÿé»˜é»˜åœ¨å°ä¸‹ç•¶è½çœ¾ï¼Œåœ¨æ—¥å¾Œçš„æ±‚è·éç¨‹ä¸­ï¼ŒGinny å­¸å§Šä¹Ÿçµ¦äºˆäº†æˆ‘ä¸€äº›å»ºè­°ï¼ŒçœŸçš„å¾ˆæ„Ÿè¬å¥¹\nCloud Support Mentorship å°æ–¼ Tech è·èƒ½çš„å¤§ä½¿æœ‰ä¸€å€‹å¾ˆæ£’çš„ä¸€å€‹è³‡æºå°±æ˜¯ Cloud Support Engineer (CSE) Mentorshipï¼Œå…§å®¹åŒ…å«äº†ä¸€ç³»åˆ—çš„åŸºç¤èª²ç¨‹ (AWSã€Linuxã€Networking)ï¼Œè€Œä¸”åœ¨ Dev Team é–‹ç™¼ TPET çš„åˆæœŸï¼ŒCSE ä¸»å‹•å‘ŠçŸ¥æˆ‘å€‘éå»æœ‰ä¸€äº›é–‹ç™¼ä¸Šçš„ç¶“é©—å¯ä»¥è·Ÿæˆ‘å€‘åˆ†äº«ï¼Œæˆ–æ˜¯æˆ‘å€‘æœ‰ä»€éº¼å•é¡Œä¹Ÿå¯ä»¥è«®è©¢ï¼Œé€™å°æ–¼ Dev Team ä¾†èªªï¼Œåœ¨é–‹ç™¼åˆæœŸä¾¿å¥ å®šäº†è‰¯å¥½çš„åŸºç¤ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å¾ŒçºŒæœ‰ä¸€å ´ Spotify å·¥ä½œåŠè¦æ•™å­¸ CloudFrontï¼Œæ­£å¥½é€™ç•¶ä¸­æœ‰ä¸€ä½ CSE - Richard æ˜¯ CloudFront çš„å°ˆå®¶ï¼Œåœ¨é–‹ç™¼å·¥ä½œåŠçš„éç¨‹ä¸­æˆ‘å€‘é‡åˆ°äº†ä¸€äº› CloudFront çš„å•é¡Œï¼ŒRichard ä¾¿ä¸»å‹•é‚€è«‹æˆ‘å€‘å¯ä»¥å»è¾¦å…¬å®¤å‘ä»–è©¢å• CloudFrontï¼Œå¾ˆæ„Ÿè¬ä»–çŠ§ç‰²ä¸‹ç­æ™‚é–“ä¾†è§£ç­”æˆ‘å€‘çš„å•é¡Œã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒSpotify å·¥ä½œåŠç•¶å¤© CSE å€‘ä¹Ÿæœ‰åˆ°å ´ï¼Œä¹Ÿç‚ºç¾å ´çš„å·¥ä½œåŠå­¸å“¡å€‘æä¾›äº†å¾ˆå¤šè«®è©¢å’Œå»ºè­°ã€‚\næˆ‘åœ¨ 20240614 çš„æ—¥èªŒä¸­ï¼Œæœ‰å¯«äº†ä¸€ç¯‡é—œæ–¼é€™æ®µ Mentorship çš„å¿ƒå¾—åˆ†äº«: Notion - 20240614 - AWS Cloud Support Mentorship Program å¿ƒå¾—åˆ†äº«\nä¸­å¾ŒæœŸ - 2024 å¹´ 6 æœˆä»½ ~ 10 æœˆä»½ åœ¨ 6th å¤§ä½¿ä¸­å¾ŒæœŸï¼Œæˆ‘å¾è¼”ä»å¤§å­¸ç•¢æ¥­äº†ï¼Œä¹ŸçµæŸäº†ç‚ºæœŸä¸‰å€‹æœˆçš„ eCloudValley çš„å¯¦ç¿’è¨ˆç•«\nAWS Professional Service x å°é›» (6æœˆåˆ~ä¸­æ—¬) é€™å€‹æ´»å‹•å…¶å¯¦ç‚ºæœŸæ•¸å¤©ï¼ŒåŒ…å«äº†éå¸¸å¤šå ´å·¥ä½œåŠå’Œè¬›åº§ï¼Œæˆ‘ç¸½å…±æ”¯æ´äº† 4 å ´ï¼Œä¸»è¦è² è²¬æ´»å‹•ç¾å ´çš„å¾Œå‹¤ã€å”åŠ©å®¢æˆ¶åœ¨å·¥ä½œåŠä¸­é‡åˆ°çš„å•é¡Œï¼Œä¹Ÿå”åŠ©æº–å‚™äº†æŸä¸€å ´çš„å·¥ä½œåŠå…§å®¹ä¸¦åœ¨ç¾å ´æ“”ä»»åŠ©æ•™æ•™å­¸ä»–å€‘ä½¿ç”¨ AWS æŠ€è¡“ã€‚åœ¨é€™ 4 å ´æ´»å‹•ä¸­æˆ‘ä¹Ÿå¾—åˆ°äº†å¹¾å€‹å¾ˆå¤§çš„æ”¶ç©«:\nå­¸ç¿’åˆ°é€†å‘å·¥ä½œæ³•ï¼Œå¾å®¢æˆ¶çš„éœ€æ±‚ç‚ºå‡ºç™¼ï¼Œé€æ­¥é€†å‘è¦åŠƒï¼Œç¢ºä¿æ¯å€‹é–‹ç™¼éšæ®µéƒ½èˆ‡å®¢æˆ¶éœ€æ±‚ç·Šå¯†å°æ‡‰ èªè­˜ AWS Professional Service Team çš„ CCIE ç¶²è·¯å°ˆå®¶ Edwardï¼æˆ‘è‡ªå·±å° Networking é€™é ˜åŸŸå¾ˆæœ‰èˆˆè¶£ï¼Œé‚£æ™‚å€™å’Œ Edward èŠäº†å¾ˆå¤šï¼Œä»–ä¹Ÿè§£ç­”äº†å¾ˆå¤šæˆ‘ Direct Connect, IPv6 å’Œä¸€äº›å¯¦é«”æ©Ÿæˆ¿çš„å¾ˆå¤šç–‘æƒ‘ å’Œ Professional Service Team çš„ Joe èŠäº†å¾ˆå¤šé›²ç«¯æ–¹é¢çš„è·æ¶¯å»ºè­°ï¼Œå¾—åˆ°äº†å¾ˆå¤šå¯¶è²´çš„ç¶“é©—è«‡ï¼Œæˆ‘ä¹Ÿå¾ˆè¬è¬ Joe ä¿¡ä»»æˆ‘ï¼Œèƒ½å¤ çµ¦æˆ‘æ©Ÿæœƒè®“æˆ‘èƒ½å¤ æ›¿å®¢æˆ¶è§£ç­”å•é¡Œ AWS Educate é™ªè·‘è¨ˆç•« - é›²ç«¯ä¸²æµæŒ‘æˆ°ï¼šå¾©åˆ» Spotify çš„æŠ€è¡“æ—…ç¨‹ (07/05) é€™å ´æ˜¯ç”±æˆ‘å€‘ Group3 è¡ŒéŠ·è·èƒ½çš„çµ„å“¡ Jean æƒ³åˆ°çš„ä¸»é¡Œï¼ŒæŠŠåŸæœ¬æ¯”è¼ƒæ¯ç‡¥çš„æŠ€è¡“å…§å®¹åŒ…è£æˆï¼šã€Œç”¨ç¾ä»£æ–¹æ³•å»è§£æ±º Spotify åˆæœŸé‡åˆ°çš„æŠ€è¡“é›£é¡Œã€ã€‚é€™å ´å·¥ä½œåŠçš„æœ€å¾Œæˆ‘å€‘æ•™å­¸äº† Lambda@Edgeï¼Œä¹Ÿå› æ­¤é›£åº¦æé«˜ä¸å°‘ã€‚\nè€Œé–‹ç™¼å·¥ä½œåŠæœŸé–“ï¼Œæˆ‘å€‘ä¹Ÿå—åˆ°äº† Cloud Support Engineer - Richard çš„å”åŠ©ï¼Œåœ¨ä¸‹ç­æ™‚é–“è®“æˆ‘å€‘åˆ°è¾¦å…¬å®¤è«®è©¢ CloudFront çš„å•é¡Œï¼Œè€Œä¸”ç•¶å¤©æœ‰ä¸‰ä½ Cloud Support Engineer åˆ°å ´å”åŠ©ï¼Œå·¥ä½œåŠçµæŸé‚„çœ‹åˆ°å­¸å“¡æ’éšŠå»è«®è©¢ Cloud Support Engineerï¼Œå¾ˆæ„Ÿè¬ä»–å€‘ç•¶å¤©çš„å”åŠ©ï¼Œä¹Ÿè¬è¬ Group3 çš„å¤§å®¶ï¼Œæˆ‘å€‘é€™å ´å·¥ä½œåŠæœ€å¾Œç²å¾— 4.9/5 çš„æ»¿æ„åº¦ï¼\n2024 AWS Summit Taipei (07/23~07/24) ä¸€å¹´ä¸€åº¦åœ¨å°ç£æœ€ç››å¤§çš„ä¸€å ´ AWS æ´»å‹•è«éæ–¼ç‚ºæœŸå…©å¤©çš„ AWS Summit äº†ï¼ä½†å¥½å¯æƒœç¬¬äºŒå¤©å› ç‚ºé¢±é¢¨å‡è€Œå–æ¶ˆäº†\nDay1: æ”¯æ´ Card Clash 3D å¡ç‰ŒéŠæˆ²æ”¤ä½\né€™æ˜¯ä¸€å€‹é€éç©éŠæˆ²çš„æ–¹å¼å­¸ç¿’ AWS é›²ç«¯æ¶æ§‹çš„å¡ç‰ŒéŠæˆ²ï¼Œæ‰€ä»¥æˆ‘å€‘å¤§ä½¿äº‹å‰éœ€è¦å…ˆåšå¥½ç‰¹è¨“ï¼Œç©éä¸¦ä¸”ç†Ÿæ‚‰é€™å€‹éŠæˆ²ï¼Œè€Œæˆ‘å°±å¾ˆè‡ªç„¶çš„æŠŠæ‰€æœ‰æ¶æ§‹éƒ½ç ´é—œäº†å“ˆå“ˆï¼Œä¸€æ–¹é¢æ˜¯è‡ªå·±ä¹Ÿåœ¨å­¸ç¿’ï¼Œå¦ä¸€æ–¹é¢æ˜¯æˆ‘å¸Œæœ›è‡ªå·±æå‰å°æ¯å€‹æ¶æ§‹éƒ½åšå¥½å……è¶³çš„äº†è§£ï¼Œç•¶å¤©ä¾†æ”¤ä½é«”é©—çš„äººæˆ‘æ‰èƒ½å¥½å¥½å‘ä»–å€‘ä»‹ç´¹å„å€‹æ¶æ§‹ã€‚\nç•¶å¤©ä¾†é«”é©—çš„äººå„å¼å„æ¨£ï¼Œæœ‰å­¸ç”Ÿã€æ¥­ç•Œçš„å·¥ç¨‹å¸«ã€ä¹Ÿæœ‰æ¯”è¼ƒå¹´é•·çš„äººå£«ä¾†é«”é©—ï¼Œç•¶å¤©å¾é«”é©—è€…é‚£é‚Šå¾—åˆ°äº†å¥½å¤šæ­£é¢å›é¥‹ï¼Œéƒ½èªªæˆ‘è¬›è§£æ¶æ§‹å’Œæœå‹™è¬›è§£å¾—ç°¡å–®æ˜“æ‡‚ï¼Œé€™çœŸçš„çµ¦æˆ‘å¥½å¤§çš„æˆå°±æ„Ÿï¼ŒçœŸçš„æ˜¯å¾ˆå–œæ­¡é€™ç¨®ç›´æ¥é¢å°é¢çš„äº¤æµã€‚\nDay2: Developer Lounge Panel Discussion èˆ‡è«‡äººä¹‹ä¸€\nç¬¬äºŒå¤©å…¶å¯¦å¾ˆå¯æƒœï¼ŒåŸæœ¬æ˜¯æœ‰é€™å€‹æ¦®å¹¸èƒ½å¤ åœ¨é€™å€‹èˆå°æˆç‚ºä¸€å€‹ Panel Discussion çš„èˆ‡è«‡äººä¹‹ä¸€ï¼Œä½†å› ç‚ºé¢±é¢¨è€Œå–æ¶ˆäº†\nAWS AI å¿ƒç†æ¸¬é©— AWS å¿ƒç†æ¸¬é©—æ˜¯ç”± Group1 çš„å¤§ä½¿ Harry ä¸€é–‹å§‹ç™¼æƒ³å‡ºä¾†çš„ ideaï¼Œæ•´å€‹å¿ƒç†æ¸¬é©—åŒ…å«é¡Œç›®å’Œ UI/UX è¨­è¨ˆç”± Group1 çš„å¤§ä½¿å€‘è¨­è¨ˆèˆ‡é–‹ç™¼ï¼Œè€Œé€™å€‹é …ç›®æœ‰å’Œæˆ‘å€‘ Group3 çš„ SageMaker å·¥ä½œåŠåˆä½œã€‚\næˆ‘åœ¨é€™éç¨‹ä¸­ä¹Ÿå”åŠ©é–‹ç™¼ API ä¸¦ä¸”ç¢ºä¿é›²ç«¯å®‰å…¨ï¼Œå…¶å¯¦å¿ƒç†æ¸¬é©—é‡‹å‡ºå¾Œï¼Œæœ‰ç™¼ç”Ÿä¸€å€‹å°æ’æ›²ï¼æˆ‘å€‘çš„ AWS å¸³è™ŸæŸäº›æœå‹™è¢«é–äº†ï¼Œä¸ç¢ºå®šæ˜¯ä¸æ˜¯è¢«æ”»æ“Šæ‰€å°è‡´ï¼Œä½†å¤šè™§ç•¶æ™‚å¾Œç«¯é€™å¡Šæˆ‘æœ‰å”åŠ©è½å¯¦ IaCï¼Œåœ¨ç™¼ç¾å•é¡Œå¾Œï¼Œæ‰å¾—ä»¥è¿…é€Ÿåœ°éƒ¨ç½²åŒæ¨£è¦æ ¼çš„å¾Œç«¯åˆ°å¦ä¸€æ”¯å¸³è™Ÿï¼Œè€Œé€™å¯¶è²´çš„ä¸€èª²æ²’æœ‰ä»»ä½•è²¡æï¼ä½†å»è®“æˆ‘å€‘å¤§å¤§æå‡äº†è³‡å®‰æ„è­˜ï¼Œçµ¦æˆ‘å€‘å¾ˆå¤§çš„è­¦æƒ•ï¼Œä¹Ÿå› æ­¤å¾ŒçºŒæˆ‘å€‘è½å¯¦ MFA ç™»å…¥ï¼Œä¹Ÿä½¿ç”¨äº† GuardDutyï¼Œæˆ‘ä¹Ÿåœ¨å¾ŒçºŒè¨­ç½®äº†å¤šé“ Budget ä¸¦ä¸²æ¥ Slack ç¢ºä¿åŠæ™‚é€šçŸ¥ï¼Œé¿å…æˆ‘å€‘å› ä»»ä½•æ”»æ“Šå°è‡´å¸³å–®çªç„¶çˆ†é–‹ã€‚\né€™å€‹å¿ƒç†æ¸¬é©—é‡‹å‡ºå¾Œè¿´éŸ¿éå¸¸å¥½ï¼Œå¾Œé¢ç‚ºäº†æ§åˆ¶æˆæœ¬ï¼Œæˆ‘å”åŠ©åœ¨ API é‚£éƒ¨åˆ†åŠ å…¥äº†é™æµæ”¿ç­–ï¼Œæˆ‘å¾ˆæ¦®å¹¸èƒ½å¤ å’Œ Group1 æœ‰é€™æ¬¡çš„åˆä½œæ©Ÿæœƒï¼Œé€™ä¹Ÿæ˜¯å¤§ä½¿ç¬¬ä¸€æ¬¡çš„è·¨çµ„åˆ¥åˆä½œçš„å°ˆæ¡ˆï¼\n2024 AWS Community Day Taiwan (09/28) å»å¹´ (2023) æˆ‘æ˜¯åº•ä¸‹çš„è½çœ¾ï¼Œæ²’æƒ³åˆ°ä»Šå¹´æœ‰é€™å€‹æ¦®å¹¸æˆ‘æˆç‚ºä¸€å€‹è¬›è€…ï¼Œå¸¶é ˜ã€Œç”Ÿæˆå¼ AI å·¥ä½œåŠï¼šç”¨ SageMaker æ‰“é€  AI å¿ƒç†æ¸¬é©— ã€\næˆ‘å€‘é€™å€‹å·¥ä½œåŠèˆ‡ AWS AI å¿ƒç†æ¸¬é©—å¹³å°åˆä½œï¼Œæ‰“ç®—æ•™å¤§å®¶ä½¿ç”¨ SageMaker é€™å€‹æœå‹™ä¾†å¾®èª¿å‡ºä¸€å€‹ã€Œå¯ä»¥åˆ†æå¿ƒç†æ¸¬é©—çµæœä¸¦ä¸”ä»¥å®¢è£½åŒ–èªæ°£å›ç­”çš„èªè¨€æ¨¡å‹ï¼Œä¸¦å¯¦è¸ MLOpsã€\né€™å€‹å·¥ä½œåŠä¹Ÿæ˜¯æˆ‘ä»»è·å¤§ä½¿è¨ˆåŠƒä»¥ä¾†æœ€é›£ã€æˆæœ¬æœ€é«˜çš„ä¸€å ´å·¥ä½œåŠï¼Œé›£é»åŒ…æ‹¬ï¼š\nSageMaker é€™æœå‹™å¾ˆé¾å¤§ä¸”è¤‡é›œï¼Œæˆ‘å€‘éå»å®Œå…¨æ²’æœ‰å°ˆæ¡ˆå¯¦ä½œç¶“é©— é€™ç›¸ç•¶åƒé‡æ©Ÿå™¨å­¸ç¿’çš„ç†è«–ï¼Œä¸æ˜¯å–®å–®ä¸²æ¥ API æˆ–æ˜¯åœ¨ AWS Console ä¸Šé¢æŒ‰ä¸€æŒ‰é‚£éº¼ç°¡å–® ç›¸ç•¶è€—æ™‚é–“ï¼Œå¾è³‡æ–™æº–å‚™ã€è™•ç†å’Œæ¨¡å‹è¨“ç·´éƒ½è¦è€—è²»å¤§é‡æ™‚é–“ å¾ˆé›£é æœŸçµæœï¼Œæ¯æ¬¡ Fine-tune å®Œéƒ½æœƒç™¼ç¾çµæœä¸å¦‚é æœŸ å› ç‚ºè¦ç¢ºä¿å·¥ä½œåŠçš„é›£åº¦ä¸èƒ½å¤ªé›£ï¼Œæ‰€ä»¥è¢«ç¶åœ¨ SageMaker å…§å’Œ AWS çš„ç”Ÿæ…‹ç³»å…§ï¼Œåœ¨é–‹ç™¼æ™‚æ¯”è¼ƒç¶æ‰‹ç¶è…³ï¼Œæ²’è¾¦æ³•ä½¿ç”¨å…¶ä»–å¤–éƒ¨å·¥å…·ï¼Œå¼•å…¥é¡å¤–çš„å¤–éƒ¨å·¥å…·æœƒè®“æˆ‘æ›´å¥½é–‹ç™¼ï¼Œä½†å¯èƒ½æœƒä½¿å·¥ä½œåŠè®Šå¾—æ›´è¤‡é›œ ç‚ºäº†å…‹æœä¸Šé¢æåˆ°çš„é›£é»ï¼Œæˆ‘å…ˆæ˜¯æŠŠå°å¤§æå®æ¯…è€å¸«èª²ç¨‹çœ‹å®Œç¢ºä¿å°æ©Ÿå™¨å­¸ç¿’ç†è«–äº†è§£ï¼Œç„¶å¾Œæˆ‘å†å» Udemy è²·äº†å…©å€‹èª²ç¨‹ï¼Œå­¸ç¿’ SageMaker å¦‚ä½•ä½¿ç”¨ä»¥åŠ MLOps çš„çŸ¥è­˜ï¼Œæœ€å¾Œéº»ç…© Boyi (å¥¹æ˜¯å¤§ä½¿åª½åª½) å¹«æˆ‘å€‘é–‹ Workshop Studio ç·´ç¿’ SageMaker å¯¦éš›æ“ä½œ\nè€Œ GenAI é€™å¡Šæˆ‘æƒ³å¤§å®¶éƒ½çŸ¥é“æ˜¯å€‹ç›¸ç•¶ç‡’éŒ¢çš„é ˜åŸŸï¼Œè‹¥æ²’æœ‰é€™æ¬¡é€™å€‹æ©Ÿæœƒï¼Œæˆ‘è‡ªå·±æ‡‰è©²æ ¹æœ¬æ²’æ©Ÿæœƒç¢°åˆ° SageMakerï¼Œé€™æ¬¡çš„å·¥ä½œåŠå°æˆ‘ä¾†èªªä¹Ÿæ˜¯å¾ˆå¯¶è²´çš„å­¸ç¿’æ©Ÿæœƒ\nè€Œæˆ‘å€‘é€™å ´å·¥ä½œåŠåœ¨ AWS Comminity Day å®˜æ–¹ç¶²ç«™çš„ç·šä¸Šå ±åéšæ®µå°±é¡æ»¿äº†ï¼ŒCommunity Day ç•¶å¤©ä¹Ÿæ˜¯åœ¨å¤–é¢æ’èµ·éšŠä¾†ï¼Œæœ€å¾Œæ˜¯æ•´å€‹æ•™å®¤éƒ½åæ»¿äº†ï¼Œä½†å› ç‚ºæ•™å®¤ç©ºé–“æœ‰é™ï¼Œå°æ–¼ç•¶å¤©åœ¨å¤–é¢æ’éšŠå› é¡æ»¿æ²’è¾¦æ³•é€²ä¾†åƒèˆ‡çš„åƒåŠ è€…å€‘æ„Ÿåˆ°å¾ˆæŠ±æ­‰\næœ€å¾Œé€™å ´å·¥ä½œåŠå¾—åˆ°äº†å¥½è©•ï¼Œå¾—åˆ°äº† 4.9/5 çš„æ»¿æ„åº¦ï¼Œé€™å ´å·¥ä½œåŠå¾ˆé—œéµçš„ä¸€éƒ¨åˆ†æ˜¯ Richie åœ¨ AI é ˜åŸŸçš„é«˜åº¦å°ˆæ¥­å’Œç ”ç©¶ï¼Œå¯èªªæ˜¯æˆ‘å€‘é€™å ´å·¥ä½œåŠçš„æ ¸å¿ƒï¼\nå·¥ä½œåŠçš„ GitHub é€£çµ: https://github.com/aws-educate-tw/aws-educate-sagemaker-workshop\nAWS User Group Taiwan ä¸­éƒ¨å°å°èš (10/19) é€™å ´å¾ˆæ¦®å¹¸æˆ‘å’Œ Yuna å¯ä»¥åˆ°å°ä¸­é€¢ç”²å¤§å­¸ä½œç‚º User Group Taiwan çš„è¬›è€…ï¼Œé€™å¤©ç”±æˆ‘å’Œ Yuna å¸¶é ˜æŠ€è¡“å·¥ä½œåŠï¼šã€Œé›²ç«¯ä¸²æµæŒ‘æˆ°ï¼šå¾©åˆ» Spotify çš„æŠ€è¡“æ—…ç¨‹ 2.0ã€\né€™å ´å·¥ä½œåŠæ˜¯å¾ 2024/07/05 é™ªè·‘è¨ˆç•«ä¸­æ‰€èˆ‰è¾¦çš„ã€Œé›²ç«¯ä¸²æµæŒ‘æˆ°ï¼šå¾©åˆ» Spotify çš„æŠ€è¡“æ—…ç¨‹ã€å·¥ä½œåŠæ”¹è‰¯è€Œæˆçš„ï¼Œä¸»è¦åšäº†ä»¥ä¸‹æ”¹é€²:\né™ä½æ•´é«”å·¥ä½œåŠçš„é›£åº¦ï¼ŒæŠŠ Lambda@Edge é‚£éƒ¨åˆ†åˆªé™¤ï¼Œä»¥ç¢ºä¿é›£åº¦æ§åˆ¶åœ¨ Level 100 åˆªé™¤ã€Œ SQL ç›¸é—œçš„æ“ä½œã€ï¼Œé–‹ç™¼äº†ä¸€å€‹ç®¡ç†å¾Œå°ï¼Œè®“å·¥ä½œåŠå­¸å“¡å¯ä»¥æ›´å°ˆæ³¨åœ¨å­¸ç¿’ CloudFront é‡å° CloudFront å„å€‹ Components è¬›è§£äº†æ›´å¤šç´°ç¯€å’Œå…¶ä»–é›²ç«¯æ¶æ§‹ é€™å ´æ´»å‹•é‚„é‡åˆ°äº†ç•¶åˆåœ¨ AWS Community Day æœ‰åƒèˆ‡ SageMaker å·¥ä½œåŠçš„åƒåŠ è€…ï¼Œæˆ‘å€‘å¾ä¸­ä¹Ÿå†æ¬¡å¾—åˆ°å¥¹å° AWS AI ç›¸é—œæœå‹™çš„åé¥‹ï¼Œè½ Yuna èªªé€™ä½åƒåŠ è€…å¾Œä¾†è‡ªå·±è¾¦äº† AWS å¸³è™Ÿï¼Œè‡ªå·±ä¹Ÿå†æ¬¡å»æ¢ç´¢ AWS AI æœå‹™ï¼\næ¯æ¬¡è½åˆ°æ­£é¢åé¥‹ï¼ŒçŸ¥é“è‡ªå·±çš„èƒ½åŠ›èƒ½å¤ å¹«åŠ©åˆ°ä»–äººçš„æ„Ÿè¦ºçœŸçš„å¾ˆæ£’ï¼\né€™å ´å·¥ä½œåŠå¾ˆæ¦®å¹¸æˆ‘å€‘å¾—åˆ°äº† 5/5 çš„æ»¿æ„åº¦ï¼ŒçœŸçš„å¾ˆè¬è¬å’Œæˆ‘ä¸€åŒå¥®é¬¥å…©å±†å¤§ä½¿è¨ˆåŠƒçš„æˆ°å‹ - Yuna ä¸€èµ·å¸¶é ˜é€™æ¬¡çš„å·¥ä½œåŠï¼Œä¹Ÿå¾ˆæ„Ÿè¬ User Group å”åŠ©è™•ç†å ´åœ°äº‹å®œï¼\nå¦‚æœæœ‰èˆˆè¶£å­¸ç¿’ CloudFrontï¼Œæ­¡è¿çœ‹çœ‹é€™å€‹æˆ‘å€‘çš„ Notion æ•™æå”·: Notion - 20241019 ä¸­éƒ¨å°å°èš - CloudFront 101ï¼šå¾©åˆ» Spotify çš„æŠ€è¡“æ—…ç¨‹\nçµèª å¾ 2023 å¹´å¤å¤©ï¼Œæ­£å¼åŠ å…¥ç¬¬äº”å±† AWS Educate é›²ç«¯å¤§ä½¿ï¼Œç„¶å¾Œå°±ä¸€è·¯å¾…åˆ°å¤§å­¸ç•¢æ¥­ï¼Œèƒ½åœ¨å­¸ç”Ÿç”Ÿæ¶¯çš„å°¾è²åŠ å…¥åˆ°é€™å€‹è¨ˆåŠƒçœŸçš„å¾ˆé–‹å¿ƒï¼Œä¹Ÿå¾ä¸­æˆé•·äº†è¨±å¤šï¼Œéç¨‹ä¸­å¾—åˆ°äº†å¥½å¤šå¥½å¤šè²´äººçš„å¹«åŠ©ï¼Œå¹«åŠ©æˆ‘çš„äººå¯¦åœ¨å¤ªå¤šäº†ï¼Œå¯¦åœ¨å¾ˆé›£ä¸€ä¸€åˆ—èˆ‰å‡ºä¾†ï¼Œæ¯å€‹äººéƒ½åœ¨æˆ‘çš„æˆé•·æ—…ç¨‹ä¸­ï¼Œç•™ä¸‹äº†ç„¡å¯å–ä»£çš„è¶³è·¡ã€‚\nèº«é‚Šæœ‰è¨±å¤šäººè·Ÿæˆ‘èªªä½ åšé€™å€‹åˆæ²’éŒ¢ï¼Œæˆ‘æ¯æ¬¡é¢å°é€™æ¨£çš„è³ªå•éƒ½ä¸çŸ¥é“è©²å¦‚ä½•å›ç­”ä»–å€‘ï¼Œå› ç‚ºæ‰“å¾ä¸€é–‹å§‹æˆ‘å°±æ˜¯æŠ±è‘—æ»¿è…”å°é›²ç«¯æŠ€è¡“çš„ç†±æƒ…é€²ä¾†ï¼Œå¾æ²’æœ‰æƒ³éè¦ç”¨éŒ¢æˆ–æ˜¯ç­‰åƒ¹çš„æ±è¥¿å»äº¤æ›æˆ‘è¦ç‚ºé€™å€‹åœ˜éšŠåšå¤šå°‘äº‹æƒ…ã€‚\nå‘¼æ‡‰æ–‡ç« é–‹é ­ï¼Œå…¶å¯¦åœ¨å­¸ç”Ÿæ™‚æœŸæˆ‘å°±å·²ç¶“å°è‡ªå·±çš„è·æ¶¯ç™¼å±•æœ‰äº†åˆæ­¥çš„é››å½¢ï¼Œåœ¨åƒèˆ‡é€™æ®µå¤§ä½¿è¨ˆåŠƒçš„éç¨‹ä¸­ï¼Œæˆ‘æŒçºŒæ¢ç´¢è‡ªæˆ‘ï¼Œæ›´åŠ èªè­˜åˆ°è‡ªå·±ï¼Œå°æœªä¾†çš„è·æ¶¯æ–¹å‘è®Šå¾—è¶Šä¾†è¶Šæ¸…æ™°ï¼Œå°±å¥½åƒ Diffusion Model ç”Ÿæˆåœ–åƒä¸€æ¨£ï¼Œéš¨è‘—ä¸€æ­¥ä¸€æ­¥åœ°å»å™ªï¼Œåœ–åƒä¹Ÿè¶Šä¾†è¶Šæ¸…æ™°ã€‚\nã€Œé€™è£¡è³‡æºå¾ˆå¤šï¼Œåªæ€•ä½ ä¸å»å­¸è€Œå·²ã€‚ã€\n\u0026ndash; Learn and Be Curious\nNext Step è‹¥çœŸçš„æœ‰è®€è€…çœ‹åˆ°é€™è£¡ï¼Œå¾ˆæ„Ÿè¬ä½ è€å¿ƒèŠ±äº†é‚£éº¼é•·çš„æ™‚é–“é–±è®€ã€‚\næˆ‘çš„å­¸ç”Ÿè·æ¶¯å·²çµæŸï¼Œä½†æˆ‘ä»æœƒä¿æŒå¥½å¥‡å¿ƒæŒçºŒå­¸ç¿’ï¼Œæˆ‘ç¾åœ¨å¿…é ˆæ­¥å…¥è·å ´ï¼Œé–‹å§‹äººç”Ÿçš„ä¸‹ä¸€æ®µè·æ¶¯äº†ï¼Œæˆ‘å° Networking, Hybrid Cloud é‚„æœ‰ Kubernetes å¾ˆæœ‰èˆˆè¶£ï¼Œæ‰€ä»¥é€™é™£å­åœ¨æº–å‚™ AWS Certified Advanced Networking - Specialty (ANS) é‚„æœ‰ Certified Kubernetes Administrator (CKA) é€™å…©å¼µè­‰ç…§ã€‚æ¥è‘— 12/23 é€€ä¼å¾Œå°±è¦ç©æ¥µä¾†æ‰¾å·¥ä½œäº†ï¼Œå¦‚æœæœ‰ä»»ä½•è®€è€…æœ‰ä»»ä½•ã€Œé›²ç«¯é‹ç®— (AWS/GCP/Azure)ã€è€Œä¸”æ˜¯ã€ŒCustomer Facing Roleã€çš„è·ä½ä¹Ÿæ‡‡è«‹èƒ½å¤ æ¨è–¦çµ¦æˆ‘ï¼Œæ­¡è¿å„æ–¹çš„ä»»ä½•æŒ‡æ•™æˆ–æ˜¯å»ºè­°ï¼\nLinkedin: https://www.linkedin.com/in/shiunchiu/ Email: shiunchiu.me@gmail.com ","permalink":"https://shiun.me/blog/my-growth-journey-as-an-aws-educate-cloud-ambassador/","summary":"\u003cp\u003e(åŸæœ¬æ²’æ‰“ç®—å¯«é‚£éº¼å¤šï¼Œçµæœæ¯å€‹æ•…äº‹çš„å‰å› å¾Œæœï¼Œä¸€å€‹é€£çµä¸€å€‹ï¼Œå°±è¶Šå¯«è¶Šå¤šäº†)\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/601200f2-3db5-423a-aba7-d0fa2428b015\" alt=\"01-AWS-Graduation-Solo-Picture\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eæœ€è¿‘æˆ‘å¾ç¬¬å…­å±† AWS Educate é›²ç«¯å¤§ä½¿è¨ˆåŠƒç•¢æ¥­äº†ï¼ç¬¬å…­å±†å¤§ä½¿è¨ˆåŠƒä»»è·æœŸé–“çœŸçš„éå¸¸å……å¯¦ä¸”å……æ»¿æŒ‘æˆ°ï¼Œæˆ‘ä¹Ÿåœ¨é€™æ®µæ—…ç¨‹ä¸­æˆé•·äº†éå¸¸éå¸¸å¤šã€‚\u003c/p\u003e\n\u003cp\u003eé€™ç¯‡æ–‡ç« æœƒå¾æˆ‘è¸ä¸Šè³‡è¨Šç§‘æŠ€ä¹‹è·¯é–‹å§‹èªªèµ·ï¼Œä¸€ç›´åˆ°æˆ‘åŠ å…¥ AWS Educate é›²ç«¯å¤§ä½¿è¨ˆåŠƒï¼Œå†ä¸€ä¸€å›é¡§æˆ‘åœ¨ç¬¬å…­å±† AWS Educate é›²ç«¯å¤§ä½¿ä¸­çš„ä¸€äº›æˆå°±å’Œé‡è¦æ´»å‹•ï¼Œæœ€å¾Œä¹Ÿæœƒåˆ†äº«ä¸€äº›æˆ‘åœ¨é€™æ®µæ—…ç¨‹ä¸­çš„æ”¶ç©«å’Œæˆé•·ï¼Œä»¥åŠæˆ‘çš„è¿‘æœŸæœªä¾†è¦åŠƒã€‚\u003c/p\u003e\n\u003ch2 id=\"æˆ‘å’Œ-aws-çš„æ·µæºæˆ‘åˆæ˜¯æ€éº¼ä¸€è·¯æˆç‚º-aws-educate-é›²ç«¯å¤§ä½¿\"\u003eæˆ‘å’Œ AWS çš„æ·µæºï¼Œæˆ‘åˆæ˜¯æ€éº¼ä¸€è·¯æˆç‚º AWS Educate é›²ç«¯å¤§ä½¿\u003c/h2\u003e\n\u003cp\u003eã€Œ\u003cstrong\u003eæˆ‘è¦ºå¾—æˆ‘å¾ˆå¹¸é‹ï¼Œæˆ‘ç®—æ˜¯åœ¨å¾ˆæ—©æœŸå°±å°æ–¼è·æ¶¯ç›®æ¨™å¾ˆæ˜ç¢ºï¼Œè€Œä¸”åˆ°è¶Šå¾ŒæœŸè¶Šæ˜ç¢ºã€‚\u003c/strong\u003eã€\u003c/p\u003e\n\u003cp\u003eè¬›åˆ°é€™å€‹ï¼Œå›æ†¶èµ·é«˜ä¸­æ™‚ï¼Œå­¸æ ¡ç‚ºäº†æˆ‘å€‘é¸çµ„é‚„æœ‰é¸å¤§å­¸ç§‘ç³»æœ‰åšäº†å…©æ¬¡èˆˆè¶£æ¸¬é©—ï¼Œæˆ‘åªçŸ¥é“æ¸¬é©—çµæœé¡¯ç¤ºæˆ‘çš„èˆˆè¶£é‘‘åˆ¥åº¦å¾ˆæ˜ç¢ºï¼Œè€Œä¸”æˆ‘åœ¨è³‡è¨Šç®¡ç†å­¸ç³»è¶…ç´šé«˜åˆ†ï¼Œé‡æ¸¬ä¸€æ¬¡çš„çµæœä¹Ÿæ˜¯ä¸€æ¨£ï¼Œä¹Ÿå› æ­¤æˆ‘å¾ˆæ—©çš„å¿—é¡˜å°±æ˜¯ã€Œè³‡è¨Šç®¡ç†å­¸ç³»ã€ï¼Œæ‰€ä»¥å­¸æ¸¬å®Œç”³è«‹å­¸æ ¡æ™‚ï¼Œæ¯å€‹å­¸æ ¡éƒ½å¡«è³‡è¨Šç®¡ç†å­¸ç³»ã€‚å¾Œä¾†å°±é€²å…¥äº†è¼”ä»å¤§å­¸è®€è³‡ç®¡ç³»ï¼Œç¾åœ¨å›é ­çœ‹ï¼ŒçœŸçš„æ²’é¸éŒ¯è·¯ï¼Œå®Œå®Œå…¨å…¨é¸å°è·¯ã€‚\u003c/p\u003e\n\u003ch3 id=\"2022-è¸å…¥è·å ´å¾Œèˆ‡-aws-çš„ç¬¬ä¸€æ¬¡æ¥è§¸\"\u003e2022 è¸å…¥è·å ´å¾Œèˆ‡ AWS çš„ç¬¬ä¸€æ¬¡æ¥è§¸\u003c/h3\u003e\n\u003cp\u003eæˆ‘æ˜¯å¾å¤§äºŒé–‹å§‹é€²å…¥è·å ´å¯¦ç¿’çš„ï¼Œé€™é–“å…¬å¸å«åš eGroupAIï¼Œä¸»è¦ç”¢å“æœ‰å…©å€‹ï¼Œåˆ†åˆ¥æ˜¯äººè‡‰è¾¨è­˜ç³»çµ±å’Œ SaaS ä¼æ¥­ç®¡ç†å¹³å°ï¼Œç•¶æ™‚æˆ‘å°±æ˜¯ä»¥ä¸€å€‹èœé³¥å¯¦ç¿’ç”Ÿèº«ä»½é€²å…¥ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡è¦‹è­‰åˆ°çœŸæ­£æ¥­ç•Œçš„é–‹ç™¼æµç¨‹ï¼Œç•¶æ™‚çš„å…¬å¸ä¸»è¦ä½¿ç”¨ Spring Bootï¼Œå¦‚æœè¦åŠ å…¥å…¬å¸çš„æ­£å¼é–‹ç™¼çš„è¡Œåˆ—ï¼Œéœ€è¦æ­·ç¶“ä¸€å€‹å¯¦ç¿’ç”Ÿè€ƒè©¦ï¼Œæ²’æœ‰è€ƒéå°±æ˜¯ç›´æ¥æ°æ°ï¼Œæ‰€ä»¥ç•¶æ™‚ç™½å¤©å¯¦ç¿’ï¼Œæ™šä¸Šå›åˆ°å®¶è¦ç˜‹ç‹‚è®€èª²ç¨‹å’Œå¯«ä½œæ¥­ï¼Œé‚„å¥½æœ€å¾Œè€ƒéäº†ã€‚\u003c/p\u003e\n\u003cp\u003eåŠ å…¥æ­£å¼é–‹ç™¼çš„è¡Œåˆ—å¾Œï¼Œç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯è¦é…ç½®å¥½é–‹ç™¼ç’°å¢ƒï¼Œå…‰æ˜¯è£ IDE, JDK, é…ç½®ä¸€å †æœ‰çš„æ²’çš„å°±å¯ä»¥ç”¨æ‰ä¸€æ•´å€‹å·¥ä½œå¤©ï¼Œæˆ‘ç•¶æ™‚è·Ÿ AWS çš„ç¬¬ä¸€æ¬¡æ¥è§¸ï¼Œå°±æ˜¯ä¸»ç®¡å«æˆ‘å»å®‰è£ \u003cstrong\u003eAWS CLI\u003c/strong\u003eï¼Œé…çµ¦æˆ‘ä¸€å€‹ IAM User çš„ Access Key ID å’Œ Secret Access Key (ç°¡ç¨± AKSK)ï¼Œç„¶å¾Œè¼¸å…¥ä¸€äº›æŒ‡ä»¤ï¼Œç•¶æ™‚æˆ‘å…¶å¯¦ä¹Ÿä¸çŸ¥é“é‚£æ˜¯ä»€éº¼ï¼Œå•äº†ä¸»ç®¡é€™å€‹æ˜¯ä»€éº¼æ±è¥¿ï¼Œä»–èªªå› ç‚ºé–‹ç™¼æœƒæœ‰ä¸€æ®µæœƒç¶“éé›²ï¼Œå¾Œç«¯æœ‰ç”¨åˆ° DynamoDBï¼Œé€™æ¨£ä½ åœ¨æœ¬åœ°é–‹ç™¼æ™‚æ‰æœ‰æ¬Šé™å»è™•ç†é‚£é‚Šçš„æ±è¥¿ã€‚\u003c/p\u003e\n\u003cp\u003eè€Œä¹Ÿéš¨è‘—æˆ‘åœ¨å­¸ç¿’çš„éç¨‹ï¼Œæˆ‘é–‹å§‹å°æ•´å€‹è»Ÿé«”çš„é‹ä½œæµç¨‹ä»¥åŠæ¶æ§‹é€æ¼¸æ˜æœ—ï¼Œä¹Ÿå› æ­¤æˆ‘èˆ‡é›²ç«¯çš„æ·µæºè¶Šä¾†è¶Šæ·±ï¼Œèªè­˜çš„ä¹Ÿè¶Šä¾†è¶Šå¤šã€‚\u003cstrong\u003e2022 å¹´çš„æŸå¤©ï¼Œæˆ‘åƒåŠ äº† AWS Educate èˆ‰è¾¦çš„å·¥ä½œåŠ\u003c/strong\u003eï¼Œè€Œä¸”æ˜¯è¾¦åœ¨ AWS è¾¦å…¬å®¤è£¡é¢ï¼Œæ­£å¥½å¯ä»¥å»åƒè§€ä¸€ä¸‹ã€‚ç•¶æ™‚åœ¨å·¥ä½œåŠå°¾è²æ™‚ï¼Œæœ‰ä¸€å€‹æœ€å¤§çï¼Œåªè¦å›ç­”å‡ºä»Šå¤©è¬›çš„æœå‹™çš„ä¸€å€‹å¯¦éš›æ‡‰ç”¨æ¡ˆä¾‹ï¼Œå°±å¯ä»¥æ‹¿èµ°ï¼Œæ­£å¥½æˆ‘ç•¶æ™‚é–‹ç™¼æ™‚å°±æœ‰è™•ç†é S3 ç›¸é—œçš„æ±è¥¿ï¼Œæ‰€ä»¥æˆ‘è…¦æµ·é¦¬ä¸Šè¹¦å‡ºæˆ‘åœ¨é–‹ç™¼ä¸Šçš„å¯¦è¸ï¼Œæœ€å¾Œé€™å€‹å¤§çå°±è¢«æˆ‘æ‹¿èµ°äº†ï¼Œ\u003cstrong\u003eç•¶æ™‚é€™å€‹å°å°æˆå°±æ„Ÿå½±éŸ¿æˆ‘è »å¤§çš„ï¼Œè®“æˆ‘æœ‰ç¹¼çºŒæ¢ç´¢é›²ç«¯æŠ€è¡“çš„å‹•åŠ›ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003ch3 id=\"ä¸å¤ è‡ªä¿¡è®“æˆ‘å·®é»å»æ­¥ç”³è«‹-aws-educate-é›²ç«¯å¤§ä½¿è¨ˆåŠƒ\"\u003eä¸å¤ è‡ªä¿¡è®“æˆ‘å·®é»å»æ­¥ç”³è«‹ AWS Educate é›²ç«¯å¤§ä½¿è¨ˆåŠƒ\u003c/h3\u003e\n\u003cp\u003eéš¨å¾Œå°±æ˜¯æˆ‘è¿·ä¸Šäº†é›²ç«¯æŠ€è¡“ï¼Œç•¶æ™‚ AWS å¤§å¤§å°å°çš„æ´»å‹•æˆ‘éƒ½ä¸€å®šæœƒåƒåŠ ï¼Œä½†æ˜¯ AWS çš„æ´»å‹•éƒ½èˆ‰è¾¦åœ¨å¹³æ—¥ï¼Œç‚ºäº†åƒåŠ æ´»å‹•æˆ‘éƒ½å¿…é ˆç¿¹èª²ï¼Œè€Œä¸”æ’ç­æ™‚éƒ½è¦é¿é–‹ AWS æ´»å‹•æ—¥ï¼Œè€Œç•¶æ™‚æˆ‘å°å®¹å™¨åŒ–å¾ˆæ„Ÿèˆˆè¶£ï¼Œæ‰€ä»¥æ¯å€‹æ´»å‹•çš„ä¸‹åˆåˆ†å ´è­°ç¨‹æˆ‘éƒ½å°ˆæŒ‘ä¸€äº› Modernization æˆ–æ˜¯ Container ç›¸é—œçš„ä¸»é¡Œï¼Œé‚£æ™‚å€™æœ‰ä¸€å€‹ Solutions Architect (SA) ä»–å«åš \u003ca href=\"https://www.linkedin.com/in/kerriganlin/\"\u003eKerrigan\u003c/a\u003e ï¼Œæˆ‘ç‰¹åˆ¥å–œæ­¡ä»–çš„æ¼”è¬›é¢¨æ ¼ï¼Œè€Œä¸”ä»–æ¼”è¬›çš„ä¸»é¡Œå¤šåŠéƒ½å’Œæˆ‘æ„Ÿèˆˆè¶£æŠ€è¡“æœ‰é—œï¼Œé‚£æ™‚å€™æˆ‘å‰›é–‹å§‹ç¶“ç‡Ÿ LinkedInï¼Œç•¶æ™‚æˆ‘èªç‚ºå»ºç«‹é—œä¿‚æ˜¯ä¸€å€‹å¾ˆè¬¹æ…ä¸”é‡å¤§çš„äº‹ï¼Œå¾ˆæ€•ä¸€å€‹èœé›å­¸ç”Ÿè·Ÿå¤§ç¥å»ºç«‹é—œä¿‚æœƒè¢«æ‹’çµ•ï¼ŒæŸæ¬¡æ¼”è¬›çµæŸå¾Œæˆ‘å°±å¯«äº†ä¸€æ®µè¨Šæ¯ç„¶å¾Œé¼“èµ·å‹‡æ°£å»å»ºç«‹é—œä¿‚ï¼Œé€™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è·ŸåŸæœ¬ä¸èªè­˜çš„äººå»ºç«‹é—œä¿‚ï¼Œè€Œæ²’å¤šä¹…å¾Œæˆ‘çœ‹åˆ°è¢«æ¥å—é‚€è«‹çš„é€šçŸ¥å°±è¶…é–‹å¿ƒï¼Œè€Œä¸” Kerrigan ä¹Ÿæœ‰çµ¦äºˆæˆ‘ä¸€äº›æ­£é¢å›æ‡‰ã€‚ç¾åœ¨å›é ­çœ‹ï¼Œ\u003cstrong\u003eé›–ç„¶å¥½åƒåªæ˜¯ç°¡å–®çš„å»ºç«‹é—œä¿‚ï¼Œä½†å°ç•¶æ™‚çš„æˆ‘ä¾†èªªæ˜¯ç›¸ç•¶å¤§çš„é¼“èˆï¼Œé€™æ˜¯èƒ½è®“æˆ‘ç¹¼çºŒå¾€é›²ç«¯æŠ€è¡“æ¢ç´¢å‹•åŠ›ä¾†æºä¹‹ä¸€ã€‚\u003c/strong\u003e\u003c/p\u003e","title":"ä¸€èµ·å›é¡§æˆ‘çš„ AWS Educate é›²ç«¯å¤§ä½¿æˆé•·ä¹‹æ—…"},{"content":"æœ€è¿‘æ­£åœ¨æº–å‚™ AWS ANS è­‰ç…§å‰›å¥½å­¸åˆ° AWS Site-to-Site VPNï¼Œä¹Ÿå› æ­¤å¯¦ä½œç·´ç¿’å°æˆ‘ä¾†èªªå¾ˆé‡è¦æ‰€ä»¥æ‰“ç®—å¯«é€™ç¯‡æ–‡ç« ï¼Œä¸€æ–¹é¢è¨˜éŒ„å¯¦ä½œéç¨‹ä¸€æ–¹é¢ç•™è‘—å¯ä»¥ä½œç‚ºæ•™å­¸æ–‡ç« ä¾›ä»–äººåƒè€ƒ\né€™ç¯‡æ–‡ç« å°‡æ•™å­¸å¦‚ä½•åœ¨ AWS ä¸Šå»ºç«‹ Site-to-Site VPNï¼Œæˆ‘å€‘æœƒä½¿ç”¨ Libreswan ä¾†é…ç½® VPN Serverï¼Œé€™æ¨£å°±å¯ä»¥åœ¨ AWS VPC å’Œ Data Center (æœ¬æ–‡ç¤ºç¯„æœƒåœ¨ N. Virginia Region ä¸­å»ºç«‹ VPC ä¾†æ¨¡æ“¬ Data Center) ä¹‹é–“å»ºç«‹ä¸€å€‹å®‰å…¨çš„ VPN Tunnelï¼Œè®“å…©è€…å¯ä»¥äº’ç›¸é€šä¿¡\nä¸€ã€å‰µå»º VPC (Oregon Region) é¦–å…ˆæˆ‘å€‘å…ˆå‰µå»ºæ¶æ§‹åœ–å³é‚Š AWS çš„ VPCï¼Œå› æ­¤æˆ‘åˆ‡æ›åˆ° Oregon Regionï¼Œä¸¦ä¸”ä¾ç…§ä¸‹åœ–é…ç½® VPC ä»¥åŠ Subnet\näºŒã€é…ç½® Route Table (Oregon Region) ç„¶å¾Œå‰µå»º Route Tableï¼Œä¸¦å’Œä¸Šä¸€æ­¥å‰µå»ºçš„ Subnet å»ºç«‹ Association\næˆ‘å€‘è¦ä¿®æ”¹ Subnet çš„ Associationï¼Œç¢ºä¿è©²å­ç¶²èˆ‡æˆ‘å€‘å‰›æ‰å‰µå»ºçš„è·¯ç”±è¡¨é—œè¯åœ¨ä¸€èµ·\nå¦‚ä¸‹åœ–é…ç½® Route Table association\nä¸‰ã€å‰µå»º EC2 Instance (Oregon Region) æ¥è‘—é€²å…¥ EC2 Console é é¢ï¼Œç¾åœ¨è¦åœ¨å‰›æ‰çš„ Subnet å•Ÿå‹•ä¸€å° EC2 Instanceï¼Œè‹¥æ²’æåˆ°çš„åœ°æ–¹å¯ä»¥ä¿æŒé è¨­\nåç¨±: EC2-at-AWS AMI é¸æ“‡ Amazon Linux 2023 AMI ç„¶å¾Œåœ¨ Network settings è™•ä¾ç…§ä¸‹åœ–é…ç½® å››ã€å‰µå»º Data Center ( é€™è£¡ä»¥ N. Virginia çš„ VPC ä¾†æ¨¡æ“¬ Data Center ) å› ç‚ºæˆ‘å€‘æ²’æœ‰å¯¦éš›çš„è³‡æ–™ä¸­å¿ƒï¼Œæ‰€ä»¥æˆ‘å€‘å°±ä»¥ N. Virginia Region ä¸­çš„ VPC ä¾†æ¨¡æ“¬æˆ‘å€‘çš„ Data Center\né€™è£¡éœ€è¦ç‰¹åˆ¥æ³¨æ„çš„æ˜¯æˆ‘å€‘è¦å‰µå»º Public Subnetï¼Œå› ç‚ºå¾ŒçºŒåœ¨é€™è£¡çš„ EC2 Instance éœ€è¦ä¸€å€‹ Public IPv4 åœ°å€ä½œç‚ºæˆ‘å€‘ Customer Gateway (CGW) ä½¿ç”¨\näº”ã€å‰µå»º EC2 Instance (N. Virginia Region) ç¾åœ¨éœ€è¦å‰µå»ºä¸€å€‹ EC2 Instance ä½œç‚º VPN Serverï¼Œé€™å° Instance æœƒå®‰è£ VPN è»Ÿé«” (Libreswan) ä½œç‚º CGW ç„¶å¾Œèˆ‡ AWS VGW å°æ¥å½¢æˆä¸€å€‹ VPN Tunnel\né€²å…¥ EC2 Console é é¢ï¼Œä¾ç…§ä¸‹æ–¹é…ç½®ï¼Œå…¶ä»–å¯ä»¥ä¿æŒé è¨­\nåç¨±: VPN-EC2-at-DC AMI é¸æ“‡ Amazon Linux 2023 AMI å‰µå»ºä¸€å€‹ Key pair ä¸¦ä¿å­˜å¥½ç§é‘°ï¼Œä¸€æœƒæˆ‘å€‘éœ€è¦é€£ç·šè‡³ Instance ç„¶å¾Œåœ¨ Network settings è™•ä¾ç…§ä¸‹åœ–é…ç½®ï¼Œä¸€å®šè¦è¨˜å¾— Assign Public IP å…­ã€å‰µå»º VGW (Oregon Region) ç¾åœ¨å›åˆ° VPC Console (Oregon Region) æˆ‘å€‘è¦ä¾†é…ç½® VGW\nå‰µå»ºé€™å€‹å¾ˆç°¡å–®ï¼Œå¦‚ä¸‹åœ–:\nå‰µå»ºå¥½ä¹‹å¾Œè¦å°‡å…¶ Attach åˆ° VPC\nä¸ƒã€å‰µå»º CGW (Oregon Region) ç¾åœ¨æˆ‘å€‘è¦å‰µå»º CGWï¼Œä¸€æ¨£æ˜¯åœ¨ Oregon Regionï¼Œå‰µå»º CGW æœ€é‡è¦çš„å°±æ˜¯ Public IP! é€™è£¡æˆ‘å€‘æ˜¯ä½¿ç”¨åˆ¥çš„ Region çš„ VPC ä¾†æ¨¡æ“¬äº† Data Centerï¼Œæ‰€ä»¥æˆ‘å€‘è¦å» N. Virginia Region è¤‡è£½ EC2 Instance çš„ Public IPv4 ä½å€\nå‰µå»ºå¥½ CGW å¦‚ä¸‹åœ–:\nå…«ã€å‰µå»º Site-to-Site VPN connection (Oregon Region) ç¾åœ¨å·²ç¶“å‰µå»ºå¥½ VGW å’Œ CGWï¼Œæˆ‘å€‘å°±è¦ä¾†æŠŠé€™å…©å€‹ Gateway é€£æ¥èµ·ä¾†ï¼Œå› æ­¤å°±éœ€è¦å‰µå»º Site-to-Site VPN connection\nå¦‚ä¸‹åœ–é…ç½®\nå‰µå»ºå¾Œéœ€è¦ç­‰å¾…ç´„ 3~5 åˆ†é˜\nä¹ã€ä¿®æ”¹ Route Table (Oregon Region) ç‚ºäº†ç¢ºä¿ AWS VPC ä¸­çš„æµé‡çŸ¥é“ä»€éº¼ç‹€æ³ä¸‹è¦å°‡æµé‡å¼•å°è‡³ VGWï¼Œæ‰€ä»¥å¿…é ˆä¿®æ”¹ Route Tableï¼Œå¦‚ä¸‹åœ–:\nåã€ä¸‹è¼‰é…ç½®æª”æ¡ˆ æˆ‘å€‘æº–å‚™è¦é€£ç·šè‡³ EC2 Instance (N. Virginia) é…ç½® VPN è»Ÿé«”äº†ï¼Œåœ¨é€™ä¹‹å‰ï¼Œéœ€è¦å…ˆå» Site-to-Site VPN Connection é é¢ä¸­ (Oregon) ä¸‹è¼‰ Configuration file\nåä¸€ã€é…ç½® VPN Server æº–å‚™å¥½ä½ çš„ .pem æª”æ¡ˆï¼Œé€£ç·šè‡³ EC2\n$ chmod 400 /path/to/your-key.pem $ ssh -i /path/to/your-key.pem ec2-user@54.32.10.1 , #_ ~\\_ ####_ Amazon Linux 2023 ~~ \\_#####\\ ~~ \\###| ~~ \\#/ ___ https://aws.amazon.com/linux/amazon-linux-2023 ~~ V~\u0026#39; \u0026#39;-\u0026gt; ~~~ / ~~._. _/ _/ _/ _/m/\u0026#39; é€£ç·šé€²å»å¾Œï¼Œè¦ä¾†å®‰è£ Libreswanï¼Œé¦–å…ˆè¦ä¿®æ”¹è»Ÿé«”æºé…ç½®æ–‡ä»¶ï¼Œç¢ºä¿æˆ‘å€‘ä¸‹è¼‰å¾—åˆ° Librwswan\nsudo vi /etc/yum.repos.d/fedora.repo æŒ‡ä»¤è§£é‡‹: é€™æ¢æŒ‡ä»¤çš„åŠŸèƒ½æ˜¯ç”¨ä¾†ç·¨è¼¯ Linux ç³»çµ±ä¸­çš„ /etc/yum.repos.d/fedora.repo æ–‡ä»¶ã€‚é€™æ˜¯ä¸€å€‹å…¸å‹çš„å ´æ™¯ï¼Œé©åˆæ–¼ Fedora æˆ–ä½¿ç”¨ yum è»Ÿé«”åŒ…ç®¡ç†å™¨çš„å…¶ä»– Linux ç™¼è¡Œç‰ˆã€‚ é—œæ–¼ vi çš„æ“ä½œæ–¹å¼å¦‚ä¸‹ï¼Œå¾Œé¢ä¸æœƒå†é‡è¤‡èªªæ˜æ­¤æ“ä½œæ–¹å¼:\næŒ‰ä¸‹ i é€²å…¥ INSERT æ¨¡å¼ è²¼ä¸Šä¸‹æ–¹å…§å®¹ æŒ‰ä¸‹ Esc è¼¸å…¥ :wq [fedora] name=Fedora 36 - $basearch #baseurl=http://download.example/pub/fedora/linux/releases/36/Everything/$basearch/os/ metalink=https://mirrors.fedoraproject.org/metalink?repo=fedora-36\u0026amp;arch=$basearch enabled=0 countme=1 metadata_expire=7d repo_gpgcheck=0 type=rpm gpgcheck=1 gpgkey=https://getfedora.org/static/fedora.gpg skip_if_unavailable=False åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä¾†å®‰è£ Libreswan:\nsudo dnf --enablerepo=fedora install libreswan -y æŒ‡ä»¤è§£é‡‹: é€™æ¢æŒ‡ä»¤ sudo dnf --enablerepo=fedora install libreswan -y ç”¨æ–¼åœ¨åŸºæ–¼ Fedora çš„ Linux ç™¼è¡Œç‰ˆä¸Šå®‰è£ Libreswan è»Ÿé«”åŒ…ã€‚ æ‰“é–‹ /etc/sysctl.conf ç„¶å¾ŒåŠ ä¸Šä»¥ä¸‹å…§å®¹:\nsudo vi /etc/sysctl.conf ç„¶å¾ŒåŸ·è¡ŒæŒ‡ä»¤ sysctl -p ï¼Œå¦‚ä¸‹:\n$ sudo sysctl -p net.ipv4.ip_forward = 1 net.ipv4.conf.default.rp_filter = 0 net.ipv4.conf.default.accept_source_route = 0 æŒ‡ä»¤è§£é‡‹: æŒ‡ä»¤ sysctl -p ç”¨æ–¼åŠ è¼‰ä¸¦æ‡‰ç”¨ç³»çµ±å…§æ ¸åƒæ•¸çš„é…ç½®æ–‡ä»¶ã€‚ä¿®æ”¹äº† /etc/sysctl.conf å¾Œï¼Œé‹è¡Œ sysctl -p å¯ä»¥ç«‹å³æ‡‰ç”¨é€™äº›å…§æ ¸åƒæ•¸ï¼Œç„¡éœ€é‡å•Ÿç³»çµ±ã€‚ æª¢æŸ¥ /etc/ipsec.conf æª”æ¡ˆæœ€å¾Œé¢çš„ include /etc/ipsec.d/*.conf å‰é¢çš„ # å·²è¢«ç§»é™¤ï¼Œè‹¥æ²’æœ‰ç§»é™¤ï¼Œè«‹ä½¿ç”¨ vi é–‹å•Ÿè©²æª”æ¡ˆå¾Œå°‡ # ç§»é™¤ï¼Œä½ å¯ä»¥è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ä¾†æŸ¥çœ‹ /etc/ipsec.conf :\nsudo cat /etc/ipsec.conf å‰µå»ºä¸€å€‹æ–°æª”æ¡ˆ /etc/ipsec.d/aws.conf :\nsudo vi /etc/ipsec.d/aws.conf æ¥è‘—ä½ å‹™å¿…è¦åƒç…§ä½ åœ¨å‰é¢ä¸‹è¼‰çš„ Configuration File å»é…ç½® /etc/ipsec.d/aws.conf ï¼Œé™¤æ­¤ä¹‹å¤–ç”±æ–¼ Libreswan æœ‰ä¸€äº›é…ç½®ä¸æ”¯æ´ï¼Œå› æ­¤é‚„æœ‰ä¸€äº›å…§å®¹éœ€è¦å°ä¿®æ”¹ï¼ŒåŒ…æ‹¬:\nç§»é™¤ auth=esp phase2alg=aes128-sha1;modp1024 ä¿®æ”¹ç‚º phase2alg=aes_gcm ike=aes128-sha1;modp1024 ä¿®æ”¹ç‚º ike=aes256-sha1 leftsubnet=\u0026lt;LOCAL NETWORK\u0026gt; çš„ \u0026lt;LOCAL NETWORK\u0026gt; ä¿®æ”¹ç‚º Data Center çš„ CIDR (æˆ‘çš„ä¾‹å­æ˜¯ N. Virginia Region ä¸Šçš„ VPC ä¾†æ¨¡æ“¬ï¼Œä¹Ÿå°±æ˜¯ 192.168.0.0/16 ) rightsubnet=\u0026lt;REMOTE NETWORK\u0026gt; çš„ \u0026lt;REMOTE NETWORK\u0026gt; ä¿®æ”¹ç‚º AWS VPC çš„ CIDR (æˆ‘çš„ä¾‹å­æ˜¯ Oregon Region ä¸Šçš„ VPCï¼Œä¹Ÿå°±æ˜¯ 10.0.0.0/16 ) ç¶œåˆä»¥ä¸Šï¼Œæˆ‘æœƒåœ¨ /etc/ipsec.d/aws.conf ä¸­åŠ å…¥ä»¥ä¸‹å…§å®¹:\nconn Tunnel1 authby=secret auto=start left=%defaultroute leftid=54.227.52.173 right=35.81.211.175 type=tunnel ikelifetime=8h keylife=1h phase2alg=aes_gcm ike=aes256-sha1 keyingtries=%forever keyexchange=ike leftsubnet=192.168.0.0/16 rightsubnet=10.0.0.0/16 dpddelay=10 dpdtimeout=30 dpdaction=restart_by_peer å‰µå»ºä¸€å€‹æ–°æª”æ¡ˆ /etc/ipsec.d/aws.secrets :\nsudo vi /etc/ipsec.d/aws.secrets å‹™å¿…è¦åƒç…§ä½ åœ¨å‰é¢ä¸‹è¼‰çš„ Configuration File å»é…ç½® /etc/ipsec.d/aws.secrets\nä»¥æˆ‘çš„ç‚ºä¾‹ï¼Œæˆ‘æœƒåœ¨ /etc/ipsec.d/aws.secrets åŠ å…¥ä»¥ä¸‹å…§å®¹:\n54.227.52.173 35.81.211.175: PSK \u0026#34;TFIcmolpZYe4_y0zhjJiSaetWD8F4VZr\u0026#34; çµ‚æ–¼æˆ‘å€‘é…ç½®å¥½äº†ï¼Œå¯ä»¥å•Ÿå‹• Service å›‰:\nsudo systemctl start ipsec.service å•Ÿå‹• IPSec Service å¾Œï¼Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤æª¢æŸ¥ç‹€æ…‹:\n$ sudo systemctl status ipsec.service â— ipsec.service - Internet Key Exchange (IKE) Protocol Daemon for IPsec Loaded: loaded (/usr/lib/systemd/system/ipsec.service; disabled; preset: disabled) Active: active (running) since Mon 2024-10-21 14:15:03 UTC; 27s ago Docs: man:ipsec(8) man:pluto(8) man:ipsec.conf(5) Process: 28237 ExecStartPre=/usr/libexec/ipsec/addconn --config /etc/ipsec.conf --checkconfig (code=exited, status=0/SUCCESS) Process: 28239 ExecStartPre=/usr/libexec/ipsec/_stackmanager start (code=exited, status=0/SUCCESS) Process: 28677 ExecStartPre=/usr/sbin/ipsec --checknss (code=exited, status=0/SUCCESS) Process: 28682 ExecStartPre=/usr/sbin/ipsec --checknflog (code=exited, status=0/SUCCESS) Main PID: 28693 (pluto) Status: \u0026#34;Startup completed.\u0026#34; Tasks: 2 (limit: 1112) Memory: 8.7M CPU: 523ms CGroup: /system.slice/ipsec.service â””â”€28693 /usr/libexec/ipsec/pluto --leak-detective --config /etc/ipsec.conf --nofork Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: adding UDP interface lo 127.0.0.1:4500 Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: adding UDP interface lo [::1]:500 Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: adding UDP interface lo [::1]:4500 Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: loading secrets from \u0026#34;/etc/ipsec.secrets\u0026#34; Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: loading secrets from \u0026#34;/etc/ipsec.d/aws.secrets\u0026#34; Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: \u0026#34;Tunnel1\u0026#34; #1: initiating IKEv2 connection Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: \u0026#34;Tunnel1\u0026#34; #1: sent IKE_SA_INIT request to 35.81.211.175:500 Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: \u0026#34;Tunnel1\u0026#34; #1: sent IKE_AUTH request {cipher=AES_CBC_256 integ=HMAC_SHA1_96 prf=HMAC_SHA1 group=MODP2048} Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: \u0026#34;Tunnel1\u0026#34; #1: initiator established IKE SA; authenticated peer using authby=secret and ID_IPV4_ADDR \u0026#39;35.81.211.175\u0026#39; Oct 21 14:15:03 ip-192-168-2-57.ec2.internal pluto[28693]: \u0026#34;Tunnel1\u0026#34; #2: initiator established Child SA using #1; IPsec tunnel [192.168.0.0-192.168.255.255:0-65535 0] -\u0026gt; [10.0.0.0-10.0.255.255:0-65535 0] {ESPinUDP=\u0026gt;0xca93ac2d \u0026lt;0x2f788c\u0026gt; lines 1-28/28 (END) æŒ‰ä¸‹ q å³å¯è·³å‡º\nåäºŒã€æ¸¬è©¦æ˜¯å¦å¯ä»¥ Ping åˆ° Oregon Region ä¸Šçš„ Private EC2 Instance æˆ‘å€‘å·²ç¶“å»ºç«‹å¥½ Site-to-Site VPNï¼Œè‹¥é…ç½®æ­£å¸¸ï¼ŒData Center å’Œ AWS æ˜¯å¯ä»¥å½¼æ­¤äº’ç›¸é€šä¿¡çš„\nåœ¨é€™è£¡æˆ‘å€‘æœƒä½¿ç”¨ N. Virginia Region ä¸­çš„é€™å° EC2 å» Ping çœ‹çœ‹ Oregon Region ä¸Šçš„ Private EC2 Instanceï¼Œæ‰€ä»¥è«‹å» Oregon Region è¤‡è£½å…¶ Private IPv4 address:\nping 10.0.0.131 å¯ä»¥çœ‹åˆ°æˆ‘å€‘æˆåŠŸ Ping åˆ° Oregon ä¸Šçš„ EC2 Instance äº†ï¼\nåä¸‰ã€Pricing é€éé€™ç¯‡æ–‡ç« ï¼Œæˆ‘å€‘å­¸æœƒå¦‚ä½•åœ¨ AWS å»ºç«‹ Site-to-Site VPNï¼Œæœ€å¾Œç·´ç¿’å®Œä¹Ÿåˆ¥å¿˜è¨˜è¦æ¸…ç†è³‡æºé¿å…è¡ç”Ÿå‡ºä¸å¿…è¦çš„èŠ±è²»ã€‚è€Œæœ€å¾Œé€™è£¡æˆ‘æƒ³ç¨å¾®ä»‹ç´¹ä¸€ä¸‹ Site-to-Site VPN æ”¶è²»ï¼Œä½†æœ€æ–°è³‡è¨Šä»ä»¥å®˜æ–¹ç‚ºä¸» (é€£çµ)\nAWS Site-to-Site VPN çš„æ”¶è²»æ–¹å¼å¦‚ä¸‹ï¼š\né€£ç·šè²»ç”¨ï¼šç•¶ä½ å»ºç«‹ä¸€å€‹ Site-to-Site VPN é€£æ¥æ™‚ï¼ŒAWS æœƒæŒ‰ æ¯å°æ™‚è¨ˆè²»ï¼Œåªè¦é€£ç·šè™•æ–¼å•Ÿç”¨ç‹€æ…‹ï¼Œç„¡è«–æœ‰æ²’æœ‰æ•¸æ“šå‚³è¼¸éƒ½æœƒè¨ˆç®—è²»ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ Ohio Regionï¼Œé€™å€‹é€£ç·šçš„è²»ç”¨æ˜¯ æ¯å°æ™‚ $0.05ï¼Œä¸€å€‹æœˆæŒçºŒå•Ÿç”¨ä¸‹ä¾†ï¼Œå¤§ç´„æ˜¯ $36 ç¾å…ƒâ€‹â€‹ã€‚ æ•¸æ“šå‚³è¼¸è²»ç”¨ï¼šæ•¸æ“šå‚³è¼¸æœƒæœ‰é¡å¤–çš„è²»ç”¨ã€‚å‰ 100 GB çš„å‚³è¼¸æ˜¯å…è²»çš„ï¼Œä½†è¶…é 100 GB å¾Œï¼Œå‚³è¼¸è²»ç”¨æ˜¯ æ¯ GB $0.09ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä¸€å€‹æœˆå‚³è¼¸äº† 1,000 GBï¼Œå‰‡ä½ éœ€è¦æ”¯ä»˜è¶…å‡ºå…è²»æµé‡çš„ 400 GB å‚³è¼¸è²»ç”¨ï¼ˆ$36ï¼‰â€‹ã€‚ åŠ é€Ÿ VPNï¼ˆé¸æ“‡æ€§ï¼‰ï¼šå¦‚æœä½ å•Ÿç”¨äº† åŠ é€Ÿ Site-to-Site VPNï¼ˆåˆ©ç”¨ AWS Global Acceleratorï¼‰ï¼Œå‰‡æœƒæœ‰é¡å¤–çš„è²»ç”¨ã€‚é™¤äº† VPN é€£ç·šè²»ç”¨ï¼Œé‚„åŒ…æ‹¬æ¯å€‹ Global Accelerator çš„è²»ç”¨ï¼ˆæ¯å°æ™‚ $0.025ï¼‰ï¼Œä»¥åŠ Data Transfer Premiumï¼ˆä¾ç…§åœ°å€èˆ‡å‚³è¼¸æ–¹å‘è¨ˆç®—ï¼‰â€‹â€‹ã€‚ ç¶œåˆä¾†çœ‹ï¼Œä¸€å€‹åŸºæœ¬çš„ AWS Site-to-Site VPN é€£ç·šæ¯æœˆè²»ç”¨å¯èƒ½ç‚º $72ï¼Œè€ŒåŠ é€Ÿ VPN çš„è²»ç”¨æ›´é«˜ï¼Œå¯èƒ½é”åˆ° $123 ä¸€å€‹æœˆï¼Œè¦–æ•¸æ“šé‡å’Œæ˜¯å¦å•Ÿç”¨åŠ é€ŸåŠŸèƒ½è€Œå®šâ€‹ã€‚\nç›¸é—œé€£çµ AWS VPN Pricing libreswan ","permalink":"https://shiun.me/blog/how-to-set-up-a-aws-site-to-site-vpn-with-libreswan/","summary":"\u003cp\u003eæœ€è¿‘æ­£åœ¨\u003ca href=\"https://shiun.notion.site/AWS-ANS-AWS-Site-to-Site-VPN-126ea7e0d9d0807aad53c41ca301137c\"\u003eæº–å‚™ AWS ANS è­‰ç…§\u003c/a\u003eå‰›å¥½å­¸åˆ° AWS Site-to-Site VPNï¼Œä¹Ÿå› æ­¤å¯¦ä½œç·´ç¿’å°æˆ‘ä¾†èªªå¾ˆé‡è¦æ‰€ä»¥æ‰“ç®—å¯«é€™ç¯‡æ–‡ç« ï¼Œä¸€æ–¹é¢è¨˜éŒ„å¯¦ä½œéç¨‹ä¸€æ–¹é¢ç•™è‘—å¯ä»¥ä½œç‚ºæ•™å­¸æ–‡ç« ä¾›ä»–äººåƒè€ƒ\u003c/p\u003e\n\u003cp\u003eé€™ç¯‡æ–‡ç« å°‡æ•™å­¸å¦‚ä½•åœ¨ AWS ä¸Šå»ºç«‹ Site-to-Site VPNï¼Œæˆ‘å€‘æœƒä½¿ç”¨ Libreswan ä¾†é…ç½® VPN Serverï¼Œé€™æ¨£å°±å¯ä»¥åœ¨ AWS VPC å’Œ Data Center (\u003cem\u003eæœ¬æ–‡ç¤ºç¯„æœƒåœ¨ N. Virginia Region ä¸­å»ºç«‹ VPC ä¾†æ¨¡æ“¬ Data Center)\u003c/em\u003e ä¹‹é–“å»ºç«‹ä¸€å€‹å®‰å…¨çš„ VPN Tunnelï¼Œè®“å…©è€…å¯ä»¥äº’ç›¸é€šä¿¡\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/de2d5d9d-97bc-419c-9b5f-5430547d9f3c\" alt=\"01-AWS Site-to-SIte VPN\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"ä¸€å‰µå»º-vpc-oregon-region\"\u003eä¸€ã€å‰µå»º VPC (Oregon Region)\u003c/h2\u003e\n\u003cp\u003eé¦–å…ˆæˆ‘å€‘å…ˆå‰µå»ºæ¶æ§‹åœ–å³é‚Š AWS çš„ VPCï¼Œå› æ­¤æˆ‘åˆ‡æ›åˆ° Oregon Regionï¼Œä¸¦ä¸”ä¾ç…§ä¸‹åœ–é…ç½® VPC ä»¥åŠ Subnet\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/7c07b7b3-b95e-4bcb-b404-48cadafc32c5\" alt=\"1-1 CreateVPC\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/eda0b350-04a2-478e-9bfb-c5487c104ebe\" alt=\"1-2 Create VPC\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"äºŒé…ç½®-route-table-oregon-region\"\u003eäºŒã€é…ç½® Route Table (Oregon Region)\u003c/h2\u003e\n\u003cp\u003eç„¶å¾Œå‰µå»º Route Tableï¼Œä¸¦å’Œä¸Šä¸€æ­¥å‰µå»ºçš„ Subnet å»ºç«‹ Association\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/1dff8965-86cd-4654-af32-e141e174fd30\" alt=\"2-1 CreatePrivateSubnetRT\"  /\u003e\n\u003c/p\u003e","title":"AWS Site-to-Site VPN with Libreswan å»ºç½®æ•™å­¸ (Step-by-Step)"},{"content":"å› ç‚ºæˆ‘æœ€è¿‘åœ¨é–‹ç™¼å¯„ä¿¡ç³»çµ±ï¼Œå› æ­¤ç†è§£é›»å­éƒµä»¶å¯„é€çš„æµç¨‹å’ŒåŸç†æ˜¯å¾ˆé‡è¦çš„ï¼Œç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œæ‰€ä»¥æˆ‘æœƒç”¨çœŸå¯¦ä¸–ç•Œä¸­æˆ‘å€‘å»éƒµå±€å¯„ä¿¡ä¾†æ¯”å–»é›»å­éƒµä»¶çš„å¯„é€æµç¨‹ï¼Œé€™éº¼åšæ˜¯ç‚ºäº†å¹«åŠ©ç†è§£ï¼Œæ‰€ä»¥æ¯”å–»é‚£éƒ¨åˆ†å¾ˆé›£åšåˆ° 100% å®Œå…¨å’ŒæŠ€è¡“ç´°ç¯€å°é½Š\nç”¨çœŸå¯¦ä¸–ç•Œåœ¨éƒµå±€å¯„ä¿¡ï¼Œç†è§£é›»å­éƒµä»¶å¯„é€çš„æµç¨‹ åœ–ç‰‡å–è‡ª: ç¶­åŸºç™¾ç§‘\nç‚ºäº†æ›´å¥½åœ°ç†è§£é›»å­éƒµä»¶çš„å¯„é€éç¨‹ï¼Œæˆ‘å€‘å¯ä»¥æŠŠå®ƒæ¯”ä½œéƒµå±€å¯„ä¿¡çš„éç¨‹ã€‚å‡è¨­ Alice çµ¦ Bob å¯«äº†ä¸€å°æ„Ÿè¬ä¿¡ï¼Œç„¶å¾Œå¥¹å°‡ä¿¡ä»¶å¸¶åˆ°éƒµå±€è™•ç†å¯„ä¿¡æ‰‹çºŒã€‚æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å…·é«”éç¨‹:\nå‰µå»ºä¿¡ä»¶\néƒµå±€å¯„ä¿¡: Alice å¯«å¥½æ„Ÿè¬ä¿¡ï¼Œè£é€²ä¿¡å°ï¼Œå¯«ä¸Šå¯„ä»¶äººå’Œæ”¶ä»¶äººçš„åœ°å€ï¼Œè²¼ä¸Šéƒµç¥¨ã€‚ é›»å­éƒµä»¶: ä½ åœ¨éƒµä»¶å®¢æˆ¶ç«¯ (ä¾‹å¦‚: Outlookã€Gmail) æˆ–é€é API å»ºç«‹ä¸€å°éƒµä»¶ï¼Œå…§å®¹åŒ…å«å¯„ä»¶äºº (ä¾‹å¦‚: alice@example.tw) ã€æ”¶ä»¶äºº (ä¾‹å¦‚: bob@demodomain.tw) ã€ä¸»é¡Œã€å…§æ–‡åŠå…¶ä»–å¯èƒ½çš„é™„ä»¶ã€‚ ä¿¡ä»¶å¯„é€\néƒµå±€å¯„ä¿¡: Alice æŠŠä¿¡å¸¶åˆ°éƒµå±€ï¼Œç„¶å¾Œæ‰¾éƒµå±€çš„æ«ƒå°äººå“¡ã€‚ é›»å­éƒµä»¶: ç•¶ä½ é»æ“Šã€Œå¯„é€ã€å¾Œï¼Œéƒµä»¶å®¢æˆ¶ç«¯æœƒå°‡é€™å°éƒµä»¶äº¤çµ¦å¯„ä»¶äººçš„éƒµä»¶ä¼ºæœå™¨ï¼Œç¨±ç‚º SMTP ä¼ºæœå™¨ (Simple Mail Transfer Protocol) ã€‚ SMTP ä¼ºæœå™¨è™•ç†\néƒµå±€å¯„ä¿¡: éƒµå±€çš„æ«ƒå°äººå“¡æœƒæª¢æŸ¥åœ°å€æ˜¯å¦æ­£ç¢ºï¼Œç„¶å¾Œé€²è¡Œåˆ†é¡ã€‚ é›»å­éƒµä»¶: å¯„ä»¶äººçš„ SMTP ä¼ºæœå™¨æœƒé©—è­‰å¯„ä»¶äººçš„èº«ä»½ï¼Œæª¢æŸ¥ä¿¡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¢ºï¼Œä¸¦æ ¹æ“šæ”¶ä»¶äººçš„åŸŸå (ä¾‹å¦‚: demodomain.tw) æŸ¥æ‰¾ç›¸æ‡‰çš„ MX è¨˜éŒ„ (Mail Exchange) ä¾†ç¢ºå®šæ”¶ä»¶äººçš„éƒµä»¶ä¼ºæœå™¨ä½ç½®ã€‚ åƒå¦‚æœå°æ–¹æ²’æœ‰è¨­å®š MX Recordï¼Œå¯„ä¿¡éå»å°±æœƒå‡ºç¾ä»¥ä¸‹ ERRORï¼Œæ‰¾ä¸åˆ°å°æ‡‰çš„ MX Record DNS æŸ¥è©¢\néƒµå±€å¯„ä¿¡: éƒµå±€æ«ƒå°äººå“¡æœƒæ ¹æ“šåœ°å€æŸ¥æ‰¾å°æ‡‰éƒµéå€è™Ÿã€‚ é›»å­éƒµä»¶: å¯„ä»¶äººçš„ SMTP ä¼ºæœå™¨æœƒé€é DNS (Domain Name System) æŸ¥è©¢æ”¶ä»¶äººåŸŸåçš„ MX è¨˜éŒ„ï¼Œä»¥ç²å–è² è²¬æ¥æ”¶éƒµä»¶çš„ä¼ºæœå™¨çš„ IP ä½å€ã€‚ ä¿¡ä»¶å‚³è¼¸\néƒµå±€å¯„ä¿¡: éƒµå·®å°‡ä¿¡ä»¶å¾ä¸€å€‹éƒµå±€é‹é€åˆ°ä¸‹ä¸€å€‹éƒµå±€ï¼Œç›´åˆ°ä¿¡ä»¶åˆ°é”æ”¶ä»¶äººçš„éƒµå±€ã€‚ é›»å­éƒµä»¶: å¯„ä»¶äººçš„ SMTP ä¼ºæœå™¨ä½¿ç”¨ TCP/IP å”å®šï¼Œå°‡ä¿¡ä»¶å‚³è¼¸åˆ°æ”¶ä»¶äººçš„ SMTP ä¼ºæœå™¨ã€‚é€™å€‹éç¨‹å¯èƒ½æœƒç¶“éå¤šå€‹ä¸­ç¹¼ä¼ºæœå™¨ï¼Œä½†æœ€çµ‚æœƒåˆ°é”æ”¶ä»¶äººçš„ SMTP ä¼ºæœå™¨ã€‚ æ¥æ”¶èˆ‡å­˜å„²\néƒµå±€å¯„ä¿¡: æ”¶ä»¶äººçš„éƒµå±€æ”¶åˆ°ä¿¡ä»¶å¾Œï¼Œæœƒå°‡ä¿¡ä»¶æŠ•éåˆ° Bob çš„ä¿¡ç®±ä¸­ã€‚ é›»å­éƒµä»¶: æ”¶ä»¶äººçš„ SMTP ä¼ºæœå™¨æ”¶åˆ°ä¿¡ä»¶å¾Œï¼Œæœƒæ ¹æ“šæ”¶ä»¶åœ°å€å°‡éƒµä»¶å­˜å„²åˆ°ç›¸æ‡‰çš„æ”¶ä»¶äººéƒµç®±ä¸­ã€‚é€™å€‹éç¨‹å¯èƒ½æ¶‰åŠéæ¿¾åƒåœ¾éƒµä»¶ã€ç—…æ¯’æƒæç­‰å®‰å…¨æª¢æŸ¥ã€‚ é€šçŸ¥æ”¶ä»¶äºº\néƒµå±€å¯„ä¿¡: Bob æœƒå®šæœŸæª¢æŸ¥ä»–çš„ä¿¡ç®±ï¼Œæ‰¾åˆ° Alice çš„ä¿¡ä»¶ã€‚ é›»å­éƒµä»¶: æ”¶ä»¶äººçš„éƒµä»¶ä¼ºæœå™¨å°‡æ–°éƒµä»¶å­˜å„²åˆ°æ”¶ä»¶äººçš„æ”¶ä»¶ç®±ä¸­å¾Œï¼Œæœƒé€šçŸ¥æ”¶ä»¶äººçš„éƒµä»¶å®¢æˆ¶ç«¯ (å¦‚ Outlookã€Gmail) æœ‰æ–°çš„éƒµä»¶åˆ°é”ã€‚é€™é€šå¸¸æ˜¯é€é IMAP (Internet Message Access Protocol) æˆ– POP3 (Post Office Protocol) å®Œæˆçš„ã€‚ æ”¶ä»¶äººæŸ¥çœ‹ä¿¡ä»¶\néƒµå±€å¯„ä¿¡: Bob æ‹¿åˆ°ä¿¡ä»¶å¾Œï¼Œæ‹†é–‹ä¿¡å°é–±è®€ä¿¡ä»¶å…§å®¹ã€‚ é›»å­éƒµä»¶: æ”¶ä»¶äººçš„éƒµä»¶å®¢æˆ¶ç«¯æ¥æ”¶åˆ°æ–°éƒµä»¶é€šçŸ¥å¾Œï¼Œæœƒåœ¨ç”¨æˆ¶ç•Œé¢ä¸­é¡¯ç¤ºé€™å°æ–°éƒµä»¶ã€‚ç•¶ bob@demodomain.tw é–‹å•Ÿéƒµä»¶å®¢æˆ¶ç«¯ (ä¾‹å¦‚: Gmail)æ™‚ï¼Œå°±èƒ½çœ‹åˆ°ä½ å¯„é€çš„ä¿¡ä»¶ã€‚ é€šå¸¸ï¼Œç¬¬ä¸€å€‹é›»å­éƒµä»¶ä¼ºæœå™¨ä¸¦ä¸æ˜¯é›»å­éƒµä»¶çš„æœ€çµ‚ç›®çš„åœ°ã€‚ç•¶ä¼ºæœå™¨æ”¶åˆ°ä¾†è‡ªç”¨æˆ¶ç«¯çš„é›»å­éƒµä»¶å¾Œï¼Œæœƒèˆ‡å¦ä¸€å°éƒµä»¶ä¼ºæœå™¨é€²è¡Œé‡è¤‡çš„ SMTP é€£ç·šç¨‹åºã€‚ç¬¬äºŒå°ä¼ºæœå™¨ä¹ŸæœƒåŸ·è¡Œç›¸åŒçš„ç¨‹åºï¼Œç›´åˆ°é›»å­éƒµä»¶æœ€çµ‚åˆ°é”æ”¶ä»¶äººé›»å­éƒµä»¶æä¾›è€…æ‰€æ§åˆ¶çš„éƒµä»¶ä¼ºæœå™¨ä¸Šçš„æ”¶ä»¶åŒ£ã€‚\nåœ–ç‰‡å–è‡ª: ç¶­åŸºç™¾ç§‘\nå¯ä»¥å°‡æ­¤ç¨‹åºæ¯”å–»æˆä¸€å°ä¿¡ä»¶å¾å¯„ä»¶äººå‚³é€åˆ°æ”¶ä»¶äººçš„éç¨‹ã€‚éƒµå·®ç„¡æ³•ç›´æ¥å°‡å¯„ä»¶äººçš„ä¿¡ä»¶äº¤çµ¦æ”¶ä»¶äººï¼Œä¿¡ä»¶å¯èƒ½æœƒå…ˆåˆ°ä¸€å€‹ä¸­ç¹¼æ‰€ï¼Œç„¶å¾Œé‹é€åˆ°å¦ä¸€å€‹åŸé®çš„éƒµå±€ï¼Œç„¶å¾Œå†é‹é€åˆ°ä¸‹ä¸€å€‹éƒµå±€ï¼Œå¦‚æ­¤åè¦†\u0026hellip;ç›´åˆ°ä¿¡ä»¶åˆ°é”æ”¶ä»¶äººã€‚åŒæ¨£åœ°ï¼Œé›»å­éƒµä»¶é€é SMTP å¾ä¸€å€‹ä¼ºæœå™¨å‚³é€åˆ°å¦ä¸€å€‹ä¼ºæœå™¨ï¼Œç›´åˆ°å®ƒå€‘åˆ°é”æ”¶ä»¶äººçš„æ”¶ä»¶åŒ£ã€‚\né€™å€‹éç¨‹çœ‹ä¼¼è¤‡é›œï¼Œä½†å¯¦éš›ä¸Šåœ¨æ•¸ç§’é˜å…§å°±èƒ½å®Œæˆã€‚æ•´å€‹é›»å­éƒµä»¶ç³»çµ±çš„è¨­è¨ˆä½¿å¾—ä¿¡ä»¶èƒ½å¿«é€Ÿã€å®‰å…¨åœ°å¾ä¸€å€‹åœ°æ–¹å‚³é€åˆ°å¦ä¸€å€‹åœ°æ–¹ã€‚\nåƒè€ƒè³‡æ–™ ç°¡æ˜“éƒµä»¶å‚³è¼¸é€šè¨Šå”å®š SMTP æ˜¯ä»€éº¼ï¼Ÿ | Cloudflare è¨Šæ¯å‚³è¼¸ä»£ç† - ç¶­åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨æ›¸ é›»å­éƒµä»¶ ","permalink":"https://shiun.me/blog/how-does-email-sending-work/","summary":"\u003cp\u003eå› ç‚ºæˆ‘æœ€è¿‘åœ¨é–‹ç™¼å¯„ä¿¡ç³»çµ±ï¼Œå› æ­¤ç†è§£é›»å­éƒµä»¶å¯„é€çš„æµç¨‹å’ŒåŸç†æ˜¯å¾ˆé‡è¦çš„ï¼Œç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œæ‰€ä»¥æˆ‘æœƒç”¨çœŸå¯¦ä¸–ç•Œä¸­æˆ‘å€‘å»éƒµå±€å¯„ä¿¡ä¾†æ¯”å–»é›»å­éƒµä»¶çš„å¯„é€æµç¨‹ï¼Œé€™éº¼åšæ˜¯ç‚ºäº†å¹«åŠ©ç†è§£ï¼Œæ‰€ä»¥æ¯”å–»é‚£éƒ¨åˆ†å¾ˆé›£åšåˆ° 100% å®Œå…¨å’ŒæŠ€è¡“ç´°ç¯€å°é½Š\u003c/p\u003e\n\u003ch2 id=\"ç”¨çœŸå¯¦ä¸–ç•Œåœ¨éƒµå±€å¯„ä¿¡ç†è§£é›»å­éƒµä»¶å¯„é€çš„æµç¨‹\"\u003eç”¨çœŸå¯¦ä¸–ç•Œåœ¨éƒµå±€å¯„ä¿¡ï¼Œç†è§£é›»å­éƒµä»¶å¯„é€çš„æµç¨‹\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/1629a1db-c2ac-4f83-a0b0-b4cb2fa43e80\" alt=\"Email-sending-process\"  /\u003e\n\n\u003cem\u003eåœ–ç‰‡å–è‡ª: \u003ca href=\"https://zh.wikipedia.org/wiki/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BD%AF%E4%BB%B6%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89\"\u003eç¶­åŸºç™¾ç§‘\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eç‚ºäº†æ›´å¥½åœ°ç†è§£é›»å­éƒµä»¶çš„å¯„é€éç¨‹ï¼Œæˆ‘å€‘å¯ä»¥æŠŠå®ƒæ¯”ä½œéƒµå±€å¯„ä¿¡çš„éç¨‹ã€‚å‡è¨­ Alice çµ¦ Bob å¯«äº†ä¸€å°æ„Ÿè¬ä¿¡ï¼Œç„¶å¾Œå¥¹å°‡ä¿¡ä»¶å¸¶åˆ°éƒµå±€è™•ç†å¯„ä¿¡æ‰‹çºŒã€‚æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å…·é«”éç¨‹:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eå‰µå»ºä¿¡ä»¶\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eéƒµå±€å¯„ä¿¡\u003c/strong\u003e: Alice å¯«å¥½æ„Ÿè¬ä¿¡ï¼Œè£é€²ä¿¡å°ï¼Œå¯«ä¸Šå¯„ä»¶äººå’Œæ”¶ä»¶äººçš„åœ°å€ï¼Œè²¼ä¸Šéƒµç¥¨ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eé›»å­éƒµä»¶\u003c/strong\u003e: ä½ åœ¨éƒµä»¶å®¢æˆ¶ç«¯ (ä¾‹å¦‚: Outlookã€Gmail) æˆ–é€é API å»ºç«‹ä¸€å°éƒµä»¶ï¼Œå…§å®¹åŒ…å«å¯„ä»¶äºº (ä¾‹å¦‚: \u003ccode\u003ealice@example.tw\u003c/code\u003e) ã€æ”¶ä»¶äºº (ä¾‹å¦‚: \u003ccode\u003ebob@demodomain.tw\u003c/code\u003e) ã€ä¸»é¡Œã€å…§æ–‡åŠå…¶ä»–å¯èƒ½çš„é™„ä»¶ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eä¿¡ä»¶å¯„é€\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eéƒµå±€å¯„ä¿¡\u003c/strong\u003e: Alice æŠŠä¿¡å¸¶åˆ°éƒµå±€ï¼Œç„¶å¾Œæ‰¾éƒµå±€çš„æ«ƒå°äººå“¡ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eé›»å­éƒµä»¶\u003c/strong\u003e: ç•¶ä½ é»æ“Šã€Œå¯„é€ã€å¾Œï¼Œéƒµä»¶å®¢æˆ¶ç«¯æœƒå°‡é€™å°éƒµä»¶äº¤çµ¦å¯„ä»¶äººçš„éƒµä»¶ä¼ºæœå™¨ï¼Œç¨±ç‚º SMTP ä¼ºæœå™¨ (Simple Mail Transfer Protocol) ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSMTP ä¼ºæœå™¨è™•ç†\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eéƒµå±€å¯„ä¿¡\u003c/strong\u003e: éƒµå±€çš„æ«ƒå°äººå“¡æœƒæª¢æŸ¥åœ°å€æ˜¯å¦æ­£ç¢ºï¼Œç„¶å¾Œé€²è¡Œåˆ†é¡ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eé›»å­éƒµä»¶\u003c/strong\u003e: å¯„ä»¶äººçš„ SMTP ä¼ºæœå™¨æœƒé©—è­‰å¯„ä»¶äººçš„èº«ä»½ï¼Œæª¢æŸ¥ä¿¡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¢ºï¼Œä¸¦æ ¹æ“šæ”¶ä»¶äººçš„åŸŸå (ä¾‹å¦‚: \u003ccode\u003edemodomain.tw\u003c/code\u003e) æŸ¥æ‰¾ç›¸æ‡‰çš„ MX è¨˜éŒ„ (Mail Exchange) ä¾†ç¢ºå®šæ”¶ä»¶äººçš„éƒµä»¶ä¼ºæœå™¨ä½ç½®ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåƒå¦‚æœå°æ–¹æ²’æœ‰è¨­å®š MX Recordï¼Œå¯„ä¿¡éå»å°±æœƒå‡ºç¾ä»¥ä¸‹ ERRORï¼Œæ‰¾ä¸åˆ°å°æ‡‰çš„ MX Record\n\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/58ee45f1-57fa-463d-a7b1-24947657a1f6\" alt=\"MX-Record-Not-found\"  /\u003e\n\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eDNS æŸ¥è©¢\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eéƒµå±€å¯„ä¿¡\u003c/strong\u003e: éƒµå±€æ«ƒå°äººå“¡æœƒæ ¹æ“šåœ°å€æŸ¥æ‰¾å°æ‡‰éƒµéå€è™Ÿã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eé›»å­éƒµä»¶\u003c/strong\u003e: å¯„ä»¶äººçš„ SMTP ä¼ºæœå™¨æœƒé€é DNS (Domain Name System) æŸ¥è©¢æ”¶ä»¶äººåŸŸåçš„ MX è¨˜éŒ„ï¼Œä»¥ç²å–è² è²¬æ¥æ”¶éƒµä»¶çš„ä¼ºæœå™¨çš„ IP ä½å€ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eä¿¡ä»¶å‚³è¼¸\u003c/strong\u003e\u003c/p\u003e","title":"ä»¥çœŸå¯¦ä¸–ç•Œå¯„ä¿¡ä¾†æ¯”å–»ï¼Œç†è§£é›»å­éƒµä»¶å¯„é€æµç¨‹"},{"content":"æˆ‘é‡åˆ°äº†ä»€éº¼å•é¡Œ æœ€è¿‘æˆ‘ç”¨ SES, S3, Lambda é–‹ç™¼äº†è½‰å¯„ä¿¡ä»¶çš„åŠŸèƒ½ï¼Œç°¡å–®ä»‹ç´¹ä¸€ä¸‹é€™åŠŸèƒ½ï¼š å‡è¨­æˆ‘å°±è·æ–¼å…¬å¸çš„é–‹ç™¼éƒ¨é–€ï¼Œæˆ‘å€‘å°å¤–æœ‰ä¸€å€‹ä¿¡ç®±æ˜¯ dev@example.com ç•¶å®¢æˆ¶é‡åˆ°è»Ÿé«”é–‹ç™¼ä¸Šçš„å•é¡Œæ™‚å¯„ä¿¡åˆ° dev@example.comï¼Œé–‹ç™¼éƒ¨é–€çš„æ‰€æœ‰åŒä»å°±æœƒåœ¨è‡ªå·±çš„ä¿¡ç®±æ”¶åˆ°æ­¤å®¢æˆ¶å¯„ä¾†çš„é›»å­éƒµä»¶ï¼Œé‡é»æ˜¯é–‹ç™¼éƒ¨é–€çš„åŒä»å€‘éƒ½å¯ä»¥ç”¨è‡ªå·±çš„å¸³è™Ÿå›è¦†è©²å®¢æˆ¶\nè€Œé–‹ç™¼å¥½é€™åŠŸèƒ½å¾Œï¼Œæˆ‘é‡åˆ°ä¸€å€‹å•é¡Œ â€” è½‰å¯„å‡ºå»çš„ä¿¡ä»¶æ²’è¾¦æ³•æ­£ç¢ºé¡¯ç¤ºå…§åµŒåœ–ç‰‡\né—œæ–¼è½‰å¯„ä¿¡ä»¶çš„ç¨‹å¼ç¢¼æˆ‘æ”¾åœ¨ GitHub ä¸Šå›‰ (é€£çµ)ï¼Œä¹‹å¾Œæœ‰æ™‚é–“æœƒå¯«ä¸€ç¯‡ Forward Email çš„å®Œæ•´æ•™å­¸ï¼Œæˆ–æ˜¯ä¹Ÿå¯ä»¥é—œæ³¨æˆ‘çš„ Notionï¼Œæˆ‘æ¯å¤©éƒ½æœƒå¯«ç­†è¨˜è¨˜éŒ„è‡ªå·±çš„å­¸ç¿’éç¨‹\nè®“æˆ‘å€‘ç›´æ¥çœ‹ä¾‹å­ é¦–å…ˆï¼Œæˆ‘ç™»å…¥ç§äººå¸³è™Ÿæ¨¡æ“¬æˆ‘æ˜¯å®¢æˆ¶ï¼Œå¯„ä¿¡çµ¦ test@aws-educate.twï¼Œä¸‹åœ–æ˜¯ç•¶æ™‚å¯„å‡ºå»çš„å…§å®¹: å¯„çµ¦ test@aws-educate.tw å¾Œï¼ŒSES æœƒæ”¶åˆ°ä¿¡ï¼Œç„¶å¾Œæ ¹æ“šæˆ‘é…ç½®çš„ Receipt ruleï¼ŒåŸå§‹éƒµä»¶æª”æ¡ˆæœƒè¢«å„²å­˜è‡³æˆ‘æŒ‡å®šçš„ S3 Bucket\nå»¶çºŒ ç”¨ SES, S3, Lambda å¯¦ç¾è½‰å¯„ä¿¡ä»¶åŠŸèƒ½ ï¼Œç•¶æˆ‘å˜—è©¦åœ¨è½‰å¯„å‡ºå»çš„ä¿¡ä»¶ä¸­å…§åµŒåœ–ç‰‡ï¼Œæœ€å¾Œæ”¶åˆ°è½‰å¯„ä¾†çš„ä¿¡ï¼Œéƒ½æœƒå‡ºç¾ä¸‹åœ–çš„ç¾è±¡ï¼šåœ–ç‰‡æ²’è¾¦æ³•å…§åµŒåœ¨è£¡é¢ï¼Œå€’æ˜¯è·‘å»é™„ä»¶äº†\nå¯«æ–‡ç« æ™‚ï¼Œå·²ç¶“æŠŠåŸæœ¬è½‰å¯„éä¾†çš„ä¿¡ä»¶åˆªäº†ï¼Œæ‰€ä»¥ä¸‹åœ–ä¿¡ä»¶ä¸»æ—¨è·Ÿå‰ä¸€å¼µåœ–ç‰‡ä¸ä¸€æ¨£ä¸è¦ä»‹æ„ï¼Œä¸‹åœ–ä¿¡ä»¶å·²ç¶“è©®é‡‹æˆ‘æƒ³è¡¨é”çš„ç¾è±¡äº† XD\næˆ‘èµ·åˆå˜—è©¦çš„è§£æ³• å¾Œä¾†ä¸‹é¢é€™ç¯‡ Stack Overflowï¼Œè£¡é¢æœ‰äººæåˆ° Gmail é‚„ä¸æ”¯æ´é¡¯ç¤º base64 ç·¨ç¢¼çš„åœ–ç‰‡ (æœ‰å¾…ç¢ºèªï¼Œå¸Œæœ›æœ‰äººå¯ä»¥å‘Šè¨´æˆ‘æ­£ç¢ºç­”æ¡ˆ)\nAs of January 2020, Gmail still does not support base64 encoded images.\nSource: Add embedded image in emails in AWS SES service\nå› æ­¤ä½¿ç”¨ Data URI: \u0026lt;img src=\u0026quot;data:image/png;base64,iVBORw0KGgoAA\u0026quot; alt=\u0026quot;Image\u0026quot;\u0026gt; åµŒå…¥åœ–ç‰‡çš„æ–¹å¼ç¾åœ¨å¯ä»¥æ‰“æ¶ˆå¿µé ­äº†\næ¥è‘—å¯èƒ½æœƒæœ‰äººèªªï¼Œé‚£æŠŠåœ–ç‰‡ä¸Šå‚³åˆ° S3ï¼Œæ‹¿åˆ° Object URLï¼Œæ¥è‘—åœ¨ \u0026lt;img\u0026gt; æ¨™ç±¤è£¡é¢æŒ‡å®šåœ–ç‰‡ç¶²å€ä¸å°±å¥½ï¼Œä¾‹å¦‚: \u0026lt;img src=\u0026quot;https://example.com/assets/image.png\u0026quot; alt=\u0026quot;image\u0026quot;\u0026gt; æ²’éŒ¯ï¼Œæˆ‘èªç‚ºé€™æ–¹æ³•å¯è¡Œï¼Œæˆ‘è©¦éäº†ï¼Œä½†æ¡äº†ç„¡æ•¸å‘æœ€å¾Œå¤±æ•—å‘Šçµ‚\u0026hellip; åƒæ˜¯æŠŠåœ–ç‰‡æå–å‡ºä¾†å„²å­˜å¥½ï¼Œå†ä¿®æ”¹ Message çš„å…§å®¹æ¯”æˆ‘æƒ³åƒä¸­éº»ç…©\næ²’å¤šä¹…å¾Œæˆ‘æƒ³äº†åˆæƒ³ï¼Œæˆ‘åªæ˜¯æƒ³è¦è½‰å¯„ä¿¡ä»¶ç‚ºä»€éº¼æˆ‘è¦æƒ³å¾—é‚£éº¼è¤‡é›œï¼Œä¸æ˜¯æ‡‰è©²æ”¹å€‹ Message çš„ From, To å’Œ Reply-to æ¨™é ­å°±å¥½äº†ï¼Œä¿¡ä»¶å…§å®¹å°±ä¿æŒåŸå°ä¸å‹•ï¼Œä½•å¿…å¾’å¢é¡å¤–åŠŸå¤«å…ˆæŠŠåœ–ç‰‡æå–å‡ºä¾†ï¼Œç„¶å¾Œæƒ³è¾¦æ³•æŠŠåœ–ç‰‡æ’å…¥åŸæœ¬çš„å…§å®¹ä¸­\nç¸½è€Œè¨€ä¹‹ï¼Œè¸éçš„é‚£äº›å‘ï¼Œè®“æˆ‘å·²ç¶“å° MIME ç ”ç©¶äº†ä¸€ç•ªï¼Œæ‰€ä»¥é€™ç¯‡å°±ä¾†èªè­˜ä¸€ä¸‹ MIME å…§åµŒåœ–ç‰‡çš„åŸç†å§\nèªè­˜ MIME çš„ boundary åœ¨ MIME è¨Šæ¯ä¸­ï¼Œboundary æ˜¯ä¸€å€‹ç”¨æ–¼åˆ†éš”ä¸åŒéƒ¨åˆ†çš„å­—ä¸²ã€‚ç•¶ä¸€å°éƒµä»¶åŒ…å«å¤šå€‹éƒ¨åˆ†æ™‚ï¼Œä¾‹å¦‚æ–‡å­—ã€HTMLã€åœ–ç‰‡æˆ–é™„ä»¶ï¼Œboundary å°±ç”¨ä¾†æ¨™è¨˜æ¯å€‹éƒ¨åˆ†çš„é–‹å§‹å’ŒçµæŸã€‚\nboundary çš„æ ¼å¼ï¼š\nboundary æ˜¯ä¸€å€‹ç¨ç‰¹çš„å­—ä¸²ï¼Œé€šå¸¸ç”±å…©å€‹é€£å­—è™Ÿ (\u0026ndash;) é–‹é ­ï¼Œå¾Œé¢è·Ÿè‘—ä¸€ä¸²éš¨æ©Ÿå­—å…ƒã€‚ä¾‹å¦‚ï¼š\n-000000000000d37ee1061ed29569 å¦‚ä½•çŸ¥é“ boundary çš„é–‹å§‹å’ŒçµæŸï¼š\nContent-Type æ¨™é ­ï¼š åœ¨éƒµä»¶çš„ Content-Type æ¨™é ­ä¸­ï¼ŒæœƒæŒ‡å®š multipart çš„é¡å‹ (ä¾‹å¦‚ multipart/mixedã€multipart/alternative)ï¼Œä¸¦åœ¨ boundary åƒæ•¸ä¸­å®šç¾© boundary å­—ä¸²ã€‚ ä¾‹å¦‚ï¼šContent-Type: multipart/mixed; boundary=\u0026quot;000000000000d37ee1061ed29569\u0026quot; åˆ†éš”ç¬¦ï¼š æ¯å€‹éƒ¨åˆ†çš„é–‹é ­éƒ½æœƒæœ‰ä¸€å€‹åˆ†éš”ç¬¦ï¼Œç”±å…©å€‹é€£å­—è™Ÿ (\u0026ndash;) å’Œ boundary å­—ä¸²çµ„æˆï¼Œå¾Œé¢è·Ÿè‘—ä¸€å€‹æ›è¡Œç¬¦ (\\r\\n)ã€‚ ä¾‹å¦‚ï¼š-000000000000d37ee1061ed29569 çµæŸæ¨™è¨˜ï¼š éƒµä»¶çš„æœ€å¾Œä¸€å€‹éƒ¨åˆ†çµæŸå¾Œï¼Œæœƒæœ‰ä¸€å€‹çµæŸæ¨™è¨˜ï¼Œç”±å…©å€‹é€£å­—è™Ÿ (\u0026ndash;)ã€boundary å­—ä¸²å’Œå…©å€‹é€£å­—è™Ÿ (\u0026ndash;) çµ„æˆï¼Œå¾Œé¢è·Ÿè‘—ä¸€å€‹æ›è¡Œç¬¦ (\\r\\n)ã€‚ ä¾‹å¦‚ï¼š-000000000000d37ee1061ed29569-- ç¯„ä¾‹ï¼š\nContent-Type: multipart/mixed; boundary=\u0026#34;boundary-string\u0026#34; --boundary-string Content-Type: text/plain This is the email body. --boundary-string Content-Type: image/jpeg Content-Transfer-Encoding: base64 ... (base64 encoded image data) ... --boundary-string-- åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼š\nboundary-string æ˜¯ boundary å­—ä¸² -boundary-string æ˜¯æ¯å€‹éƒ¨åˆ†çš„é–‹é ­ -boundary-string-- æ˜¯éƒµä»¶çš„çµæŸæ¨™è¨˜ å¯¦ç¾å…§åµŒåœ–ç‰‡æ ¸å¿ƒåŸç† è§€å¯Ÿ Message åœ¨ MIME çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œmessage æ˜¯æŒ‡å®Œæ•´çš„ç¶²éš›ç¶²è·¯æ¶ˆæ¯ï¼Œåœ¨é€™ç¯‡æ–‡ç« çš„è©±æŒ‡çš„å°±æ˜¯ä¸€å°é›»å­éƒµä»¶\nå¯ä»¥çœ‹ä¸‹æ–¹çš„å…§å®¹ï¼Œé€™æ˜¯æˆ‘å» S3 Bucket æŠŠéƒµä»¶åŸå§‹æª”æ¡ˆ (Message) ä¸‹è¼‰ä¸‹ä¾†ç¯€éŒ„çš„ä¸€å€‹ç‰‡æ®µï¼Œå°æ‡‰äº†æœ¬æ–‡é–‹é ­åœ–ç‰‡çš„ä¿¡ä»¶å…§å®¹\n# ä»¥ä¸Šç•¥ .... Content-Type: multipart/related; boundary=\u0026#34;000000000000d37ee1061ed2956a\u0026#34; --000000000000d37ee1061ed2956a Content-Type: multipart/alternative; boundary=\u0026#34;000000000000d37ee1061ed29569\u0026#34; --000000000000d37ee1061ed29569 Content-Type: text/plain; charset=\u0026#34;UTF-8\u0026#34; test 1047 test 1047test 1047 [image: image.png] --000000000000d37ee1061ed29569 Content-Type: text/html; charset=\u0026#34;UTF-8\u0026#34; Content-Transfer-Encoding: quoted-printable \u0026lt;div dir=3D\u0026#34;ltr\u0026#34;\u0026gt;\u0026lt;div dir=3D\u0026#34;ltr\u0026#34; class=3D\u0026#34;gmail_signature\u0026#34; data-smartmail= =3D\u0026#34;gmail_signature\u0026#34;\u0026gt;\u0026lt;div dir=3D\u0026#34;ltr\u0026#34;\u0026gt;test 1047\u0026lt;br\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div dir=3D\u0026#34;ltr\u0026#34;\u0026gt;t= est 1047test 1047\u0026lt;br\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div dir=3D\u0026#34;ltr\u0026#34;\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div dir=3D\u0026#34;ltr\u0026#34;\u0026gt;\u0026lt;img= src=3D\u0026#34;cid:ii_lzeypikh0\u0026#34; alt=3D\u0026#34;image.png\u0026#34; width=3D\u0026#34;176\u0026#34; height=3D\u0026#34;219\u0026#34;\u0026gt;\u0026lt;b= r\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt; --000000000000d37ee1061ed29569-- --000000000000d37ee1061ed2956a # ä»¥ä¸‹ç•¥ ... åœ¨é€™è£¡ä½ è¦å…ˆæ³¨æ„åˆ°ï¼šæˆ‘å€‘åœ¨å¤–å±¤ä½¿ç”¨åˆ°äº† multipart/related ï¼Œé€™æ˜¯ MIME çš„ä¸€ç¨®è¨Šæ¯æ ¼å¼ï¼Œç”¨æ–¼å°‡ä¸€å€‹ä¸»æ–‡ä»¶ (main document) èˆ‡å…¶ç›¸é—œè³‡æº (related resources) çµ„åˆåœ¨ä¸€èµ·ã€‚\nä»¥æˆ‘å€‘ç¾åœ¨çš„æƒ…å¢ƒï¼Œä½¿ç”¨åˆ° multipart/related å°±æ˜¯è¦æ‹¿ä¾†å…§åµŒåœ–ç‰‡åœ¨æˆ‘å€‘ä¿¡ä»¶å…§å®¹ä¸­\næ¥è‘—ä¸‹æ–¹å…¶å¯¦é‚„æœ‰ä¸€æ®µå…§å®¹ï¼Œæ˜¯æˆ‘åœ¨ä¿¡ä»¶å…§çš„æƒ³è¦å…§åµŒåœ–ç‰‡:\nContent-Type: image/png; name=\u0026#34;image.png\u0026#34; Content-Disposition: inline; filename=\u0026#34;image.png\u0026#34; Content-Transfer-Encoding: base64 Content-ID: \u0026lt;ii_lzeypikh0\u0026gt; X-Attachment-Id: ii_lzeypikh0 iVBORw0KGgoAAAANSUhEUgAAALAAAADbCAIAAABC5oyQAAAQQ0lEQVR4Ae2dz2sbRxvH339hiQkB 45IQ3CSu1IY0IAolhwRXlDqxsB3IQXUP8am02CRg8NU1tLm4PlSJ6KWlF1kWpoUUAkbVLj3pIogR 6CK37sEH51CffElA+KWe8DAzO # ä»¥ä¸‹ç•¥ ... ä½ å¯ä»¥æ³¨æ„åˆ°ä¸Šæ–¹çš„å…§å®¹æœ‰é€™æ®µ: Content-ID: \u0026lt;ii_lzeypikh0\u0026gt; ï¼Œé€™æ˜¯é€™å¼µåœ–ç‰‡çš„åœ¨é€™å€‹éƒµä»¶å…§çš„å”¯ä¸€è­˜åˆ¥ç¬¦ï¼Œé€™å€‹IDå¯ä»¥åœ¨ HTML å…§å®¹ä¸­ä½¿ç”¨ cid: å¼•ç”¨ã€‚\nå› æ­¤ï¼Œå¯¦ç¾å…§åµŒåœ–ç‰‡çš„æ ¸å¿ƒé™¤äº† multipart/related ä»¥å¤–ï¼Œé‚„æœ‰é€™æ®µ HTML: \u0026lt;img src=\u0026quot;cid:ii_lzeypikh0\u0026quot; alt=\u0026quot;image.png\u0026quot; width=\u0026quot;176\u0026quot; height=\u0026quot;219\u0026quot;\u0026gt;\nå…¶å±¬æ€§å¦‚ä¸‹ï¼š src=\u0026quot;cid:ii_lzeypikh0\u0026quot;ï¼šè¡¨ç¤ºåœ–ç‰‡ä¾†æºæ˜¯ä¸€å€‹Content-IDï¼Œé€šå¸¸åœ¨éƒµä»¶ä¸­ç”¨ä¾†å…§åµŒåœ–ç‰‡ã€‚ alt=\u0026quot;image.png\u0026quot;ï¼šæ›¿ä»£æ–‡å­—ï¼Œåœ¨åœ–ç‰‡ç„¡æ³•é¡¯ç¤ºæ™‚é¡¯ç¤ºæ­¤æ–‡å­—ã€‚ width=\u0026quot;176\u0026quot;ï¼šåœ–ç‰‡çš„å¯¬åº¦ç‚º176åƒç´ ã€‚ height=\u0026quot;219\u0026quot;ï¼šåœ–ç‰‡çš„é«˜åº¦ç‚º219åƒç´ ã€‚ ä½ å¯èƒ½æœƒæ„Ÿåˆ°ç–‘æƒ‘ï¼Œé€šå¸¸é€™è£¡æ¯”è¼ƒå¸¸è¦‹å°±æ˜¯æ”¾åœ–ç‰‡ URLï¼Œä¾‹å¦‚ src=\u0026quot;https://my-image.com/image.png\u0026quot;\nç„¶è€Œï¼Œé€™è£¡çš„ src=\u0026quot;cid:ii_lzeypikh0\u0026quot; æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„ç”¨æ³•ï¼Œç”¨æ–¼é›»å­éƒµä»¶å…§åµŒåœ–ç‰‡ã€‚é€™ç¨®ç”¨æ³•çš„ cidï¼ˆContent-IDï¼‰è¡¨ç¤ºåœ–ç‰‡æ˜¯é›»å­éƒµä»¶çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å¾å¤–éƒ¨é€£çµåŠ è¼‰ã€‚é€™æ¨£çš„åœ–ç‰‡å…§åµŒæ–¹æ³•é€šå¸¸ç”¨æ–¼ç¢ºä¿åœ–ç‰‡èƒ½å¤ åœ¨æ”¶ä»¶äººçš„éƒµä»¶å®¢æˆ¶ç«¯ä¸­æ­£ç¢ºé¡¯ç¤ºï¼Œè€Œä¸æœƒå—åˆ°å¤–éƒ¨åœ–ç‰‡åŠ è¼‰å•é¡Œçš„å½±éŸ¿ã€‚\nåƒè€ƒè³‡æ–™ RFC 2822: Internet Message Format å¤šç”¨é€”ç¶²éš›ç¶²è·¯éƒµä»¶æ“´å±• - ç¶­åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨æ›¸ ","permalink":"https://shiun.me/blog/troubleshooting-embedded-images-in-aws-ses-forwarded-emails-a-deep-dive-into-mime-and-content-ids/","summary":"\u003ch2 id=\"æˆ‘é‡åˆ°äº†ä»€éº¼å•é¡Œ\"\u003eæˆ‘é‡åˆ°äº†ä»€éº¼å•é¡Œ\u003c/h2\u003e\n\u003cp\u003eæœ€è¿‘æˆ‘ç”¨ SES, S3, Lambda é–‹ç™¼äº†è½‰å¯„ä¿¡ä»¶çš„åŠŸèƒ½ï¼Œç°¡å–®ä»‹ç´¹ä¸€ä¸‹é€™åŠŸèƒ½ï¼š\nå‡è¨­æˆ‘å°±è·æ–¼å…¬å¸çš„é–‹ç™¼éƒ¨é–€ï¼Œæˆ‘å€‘å°å¤–æœ‰ä¸€å€‹ä¿¡ç®±æ˜¯ \u003ca href=\"mailto:dev@example.com\"\u003edev@example.com\u003c/a\u003e\nç•¶å®¢æˆ¶é‡åˆ°è»Ÿé«”é–‹ç™¼ä¸Šçš„å•é¡Œæ™‚å¯„ä¿¡åˆ° \u003ca href=\"mailto:dev@example.com\"\u003edev@example.com\u003c/a\u003eï¼Œé–‹ç™¼éƒ¨é–€çš„æ‰€æœ‰åŒä»å°±æœƒåœ¨è‡ªå·±çš„ä¿¡ç®±æ”¶åˆ°æ­¤å®¢æˆ¶å¯„ä¾†çš„é›»å­éƒµä»¶ï¼Œé‡é»æ˜¯é–‹ç™¼éƒ¨é–€çš„åŒä»å€‘éƒ½å¯ä»¥ç”¨è‡ªå·±çš„å¸³è™Ÿå›è¦†è©²å®¢æˆ¶\u003c/p\u003e\n\u003cp\u003eè€Œé–‹ç™¼å¥½é€™åŠŸèƒ½å¾Œï¼Œæˆ‘é‡åˆ°ä¸€å€‹å•é¡Œ â€” \u003cstrong\u003eè½‰å¯„å‡ºå»çš„ä¿¡ä»¶æ²’è¾¦æ³•æ­£ç¢ºé¡¯ç¤ºå…§åµŒåœ–ç‰‡\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eé—œæ–¼è½‰å¯„ä¿¡ä»¶çš„ç¨‹å¼ç¢¼æˆ‘æ”¾åœ¨ GitHub ä¸Šå›‰ (\u003ca href=\"https://github.com/aws-educate-tw/serverless-email-forwarder\"\u003eé€£çµ\u003c/a\u003e)ï¼Œä¹‹å¾Œæœ‰æ™‚é–“æœƒå¯«ä¸€ç¯‡ Forward Email çš„å®Œæ•´æ•™å­¸ï¼Œæˆ–æ˜¯ä¹Ÿå¯ä»¥é—œæ³¨æˆ‘çš„ \u003ca href=\"https://shiun.notion.site/Shiun-s-Learning-Journal-ded4cd4a3efd47b2805f2f99dee8f9a1\"\u003eNotion\u003c/a\u003eï¼Œæˆ‘æ¯å¤©éƒ½æœƒå¯«ç­†è¨˜è¨˜éŒ„è‡ªå·±çš„å­¸ç¿’éç¨‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"è®“æˆ‘å€‘ç›´æ¥çœ‹ä¾‹å­\"\u003eè®“æˆ‘å€‘ç›´æ¥çœ‹ä¾‹å­\u003c/h3\u003e\n\u003cp\u003eé¦–å…ˆï¼Œæˆ‘ç™»å…¥ç§äººå¸³è™Ÿæ¨¡æ“¬æˆ‘æ˜¯å®¢æˆ¶ï¼Œå¯„ä¿¡çµ¦ \u003ca href=\"mailto:test@aws-educate.tw\"\u003etest@aws-educate.tw\u003c/a\u003eï¼Œä¸‹åœ–æ˜¯ç•¶æ™‚å¯„å‡ºå»çš„å…§å®¹:\n\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/1cbf769f-7b8f-46e9-bb8f-240ad7d1fb32\" alt=\"Original-email\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå¯„çµ¦ \u003ca href=\"mailto:test@aws-educate.tw\"\u003etest@aws-educate.tw\u003c/a\u003e å¾Œï¼ŒSES æœƒæ”¶åˆ°ä¿¡ï¼Œç„¶å¾Œæ ¹æ“šæˆ‘é…ç½®çš„ Receipt ruleï¼ŒåŸå§‹éƒµä»¶æª”æ¡ˆæœƒè¢«å„²å­˜è‡³æˆ‘æŒ‡å®šçš„ S3 Bucket\u003c/p\u003e\n\u003cp\u003eå»¶çºŒ \u003ca href=\"https://www.notion.so/SES-S3-Lambda-18fbed65f6ba41369b89292136e669ec?pvs=21\"\u003eç”¨ SES, S3, Lambda å¯¦ç¾è½‰å¯„ä¿¡ä»¶åŠŸèƒ½\u003c/a\u003e ï¼Œç•¶æˆ‘å˜—è©¦åœ¨è½‰å¯„å‡ºå»çš„ä¿¡ä»¶ä¸­å…§åµŒåœ–ç‰‡ï¼Œæœ€å¾Œæ”¶åˆ°è½‰å¯„ä¾†çš„ä¿¡ï¼Œéƒ½æœƒå‡ºç¾ä¸‹åœ–çš„ç¾è±¡ï¼šåœ–ç‰‡æ²’è¾¦æ³•å…§åµŒåœ¨è£¡é¢ï¼Œå€’æ˜¯è·‘å»é™„ä»¶äº†\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå¯«æ–‡ç« æ™‚ï¼Œå·²ç¶“æŠŠåŸæœ¬è½‰å¯„éä¾†çš„ä¿¡ä»¶åˆªäº†ï¼Œæ‰€ä»¥ä¸‹åœ–ä¿¡ä»¶ä¸»æ—¨è·Ÿå‰ä¸€å¼µåœ–ç‰‡ä¸ä¸€æ¨£ä¸è¦ä»‹æ„ï¼Œä¸‹åœ–ä¿¡ä»¶å·²ç¶“è©®é‡‹æˆ‘æƒ³è¡¨é”çš„ç¾è±¡äº† XD\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/16da38b8-cb36-4d55-b786-6a2f48c8c2ff\" alt=\"Forwarded-email\"  /\u003e\n\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"æˆ‘èµ·åˆå˜—è©¦çš„è§£æ³•\"\u003eæˆ‘èµ·åˆå˜—è©¦çš„è§£æ³•\u003c/h2\u003e\n\u003cp\u003eå¾Œä¾†ä¸‹é¢é€™ç¯‡ Stack Overflowï¼Œè£¡é¢æœ‰äººæåˆ° Gmail é‚„ä¸æ”¯æ´é¡¯ç¤º base64 ç·¨ç¢¼çš„åœ–ç‰‡ (æœ‰å¾…ç¢ºèªï¼Œå¸Œæœ›æœ‰äººå¯ä»¥å‘Šè¨´æˆ‘æ­£ç¢ºç­”æ¡ˆ)\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAs of January 2020, Gmail still does not support base64 encoded images.\u003c/p\u003e\n\u003cp\u003eSource: \u003ca href=\"https://stackoverflow.com/questions/48587432/add-embedded-image-in-emails-in-aws-ses-service\"\u003eAdd embedded image in emails in AWS SES service\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eå› æ­¤ä½¿ç”¨ Data URI: \u003ccode\u003e\u0026lt;img src=\u0026quot;data:image/png;base64,iVBORw0KGgoAA\u0026quot; alt=\u0026quot;Image\u0026quot;\u0026gt;\u003c/code\u003e åµŒå…¥åœ–ç‰‡çš„æ–¹å¼ç¾åœ¨å¯ä»¥æ‰“æ¶ˆå¿µé ­äº†\u003c/p\u003e","title":"å¾ AWS SES è½‰å¯„ä¿¡ä»¶ç„¡æ³•æ­£ç¢ºé¡¯ç¤ºå…§åµŒåœ–ç‰‡è«‡èµ·ï¼šMIME å…§åµŒåœ–ç‰‡åŸç†èˆ‡å¯¦è¸"},{"content":"ç¨‹å¼ç¢¼åœ¨é€™é‚Šçš„ feature/preload åˆ†æ”¯: https://github.com/sh1un/Nextjs-Musive-app\næ­¤å°ˆæ¡ˆæ˜¯ä¸€å€‹ Next.js å°ˆæ¡ˆï¼ŒåŸä½œè€…ç‚º Ansh Rathodï¼Œæˆ‘å·²ç¶“éä½œè€…æœ¬äººæˆæ¬Šä½¿ç”¨ï¼Œå› æ­¤ Fork éä¾†ç¨å¾®æ”¹äº†ä¸€ä¸‹ã€‚\næˆ‘æœ¬èº«ä¸æ˜¯ä¸€åå°ˆç²¾æ–¼å‰ç«¯æŠ€è¡“çš„é–‹ç™¼è€…ï¼Œæ‰€ä»¥æˆ‘æ‰€ä¿®æ”¹çš„ Code éƒ½æ˜¯ç”± ChatGPT-4 ç”¢ç”Ÿçš„ã€‚æˆ‘ä»Šå¤©é€™æ¨£åšçš„ä¸»è¦ç›®çš„æ˜¯æƒ³å¯¦é©— preload æ˜¯å¦èƒ½åšåˆ°æ•ˆèƒ½å„ªåŒ–ï¼Œä»¥æ­¤ä¾†åšä¸€å€‹ç°¡å–®çš„ PoCã€‚\nè£œå……ä¸€ä¸‹ï¼Œé€™ç¯‡æ–‡ç« çš„å…§å®¹æœ¬ä¾†æ˜¯è¦æ”¾åœ¨ ã€Œ2024 AWS Educate é™ªè·‘è¨ˆç•«çš„çå‹µèª²ç¨‹ - é›²ç«¯ä¸²æµæŒ‘æˆ°ï¼šå¾©åˆ» Spotify çš„æŠ€è¡“æ—…ç¨‹ã€ä¸­æ•™å­¸ï¼Œæ­¤å·¥ä½œåŠæ—¨åœ¨æ•™å­¸å¦‚ä½•åˆ©ç”¨ CloudFront å„ªåŒ–é€Ÿåº¦èˆ‡é™ä½å»¶é²ï¼Œä½†ç¤™æ–¼ç•¶å¤©å·¥ä½œåŠçš„å…§å®¹å¤ªæ»¿å·²ç¶“å¡ä¸ä¸‹äº†ï¼Œæ‰€ä»¥ç•¶å¤©å·¥ä½œåŠå°±æ²’æœ‰è¬›åˆ° Preloadï¼Œå¦‚æœçœ‹åˆ°é€™ç¯‡æ–‡ç« ï¼Œæƒ³è¦å­¸å­¸ CloudFront æ­¡è¿åƒè§€æˆ‘å€‘ç•¶å¤©çš„æ•™æ (é€£çµ)\nä»€éº¼æ˜¯ Preload? Preload æ˜¯ä¸€ç¨®ç¶²é æ€§èƒ½å„ªåŒ–æŠ€è¡“ï¼Œè®“ç€è¦½å™¨åœ¨é é¢åŠ è¼‰æ™‚é å…ˆåŠ è¼‰æŒ‡å®šçš„è³‡æºï¼Œé€™æ¨£åœ¨ä½¿ç”¨é€™äº›è³‡æºæ™‚å¯ä»¥æ›´å¿«åœ°é¡¯ç¤ºæˆ–æ’­æ”¾ã€‚é€™å¯ä»¥æ¸›å°‘ç­‰å¾…æ™‚é–“ï¼Œæå‡ç”¨æˆ¶é«”é©—ã€‚\nä½ å¯ä»¥æƒ³æˆï¼šåŸæœ¬ä½ æ˜¯è¦â€œæŒ‰ä¸‹å»æ’­æ”¾æŒ‰éˆ•â€æ‰æœƒé–‹å§‹ä¸‹è¼‰éŸ³æ¨‚ï¼Œç¾åœ¨æˆ‘å€‘æå‰å¹«ä½ ä¸‹è¼‰ï¼Œä½ ä¹‹å¾Œâ€œæŒ‰ä¸‹å»æ’­æ”¾æŒ‰éˆ•â€å°±æœƒç«‹å³æ’­æ”¾ã€‚\nèˆ‰ä¾‹ å¦‚æœä½ åœ¨ç¶²é ä¸Šæœ‰ä¸€æ®µå½±ç‰‡æˆ–éŸ³æ¨‚ï¼Œä½ å¯ä»¥ç”¨ preload å‘Šè¨´ç€è¦½å™¨æå‰ä¸‹è¼‰é€™äº›æ–‡ä»¶ï¼Œé€™æ¨£ç•¶ç”¨æˆ¶é»æ“Šæ’­æ”¾æŒ‰éˆ•æ™‚ï¼Œå½±ç‰‡æˆ–éŸ³æ¨‚å°±æœƒç«‹å³æ’­æ”¾ï¼Œè€Œä¸æ˜¯å…ˆç­‰å¾…ä¸‹è¼‰ã€‚\nåŸºæœ¬ç”¨æ³•ï¼š åœ¨ HTML ä¸­ï¼Œä½ å¯ä»¥åœ¨ \u0026lt;link\u0026gt; æ¨™ç±¤ä¸­ä½¿ç”¨ rel=\u0026quot;preload\u0026quot; ä¾†é åŠ è¼‰è³‡æºã€‚ä¾‹å¦‚ï¼š\n\u0026lt;link rel=\u0026#34;preload\u0026#34; href=\u0026#34;path/to/your/file.mp3\u0026#34; as=\u0026#34;audio\u0026#34;\u0026gt; é€™æ¨£ï¼Œç€è¦½å™¨æœƒåœ¨é é¢åŠ è¼‰æ™‚é å…ˆä¸‹è¼‰ file.mp3ï¼Œæé«˜ç”¨æˆ¶æ’­æ”¾éŸ³æ¨‚çš„é€Ÿåº¦ã€‚\nå‹•æ…‹ Preload çš„å¯¦ç¾æ€è·¯ æ¯å€‹ç”¨æˆ¶çš„æ­Œå–®éƒ½ä¸ä¸€æ¨£ï¼Œæ‰€ä»¥æˆ‘å€‘ç•¶ç„¶ä¸å¸Œæœ›æŠŠ preload çš„ href å¯«æ­»æˆä¸€å€‹ URLã€‚\nè§£æ±ºæ–¹æ¡ˆ æˆ‘å€‘å¯ä»¥é€šéä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿä¾†å¯¦ç¾å‹•æ…‹çš„ preloadï¼š\nAPI ç²å–æ­Œå–®ï¼š ä¼ºæœå™¨ç«¯æä¾›ä¸€å€‹ APIï¼Œæ ¹æ“šç”¨æˆ¶çš„è«‹æ±‚è¿”å›è©²ç”¨æˆ¶çš„æ­Œå–®ã€‚é€™å€‹ API è¿”å›ä¸€å€‹ JSON çµæ§‹ï¼Œå…¶ä¸­åŒ…å«äº†éŸ³æ¨‚æª”æ¡ˆçš„ URL åˆ—è¡¨ã€‚ JavaScript å‹•æ…‹ç”Ÿæˆ Preload æ¨™ç±¤ï¼š ä½¿ç”¨ JavaScript åœ¨é é¢åŠ è¼‰å¾Œå‹•æ…‹åœ°å¾ API ç²å–æ­Œå–®ï¼Œä¸¦ç‚ºæ¯å€‹éŸ³æ¨‚æ–‡ä»¶å‰µå»º preload æ¨™ç±¤ï¼Œå°‡å…¶æ·»åŠ åˆ°é é¢çš„ \u0026lt;head\u0026gt; ä¸­ã€‚ å…·é«”å¯¦ç¾ æ³¨æ„âš ï¸Â æˆ‘çš„å¯«æ³•ä¸¦éæ·»åŠ  preload åˆ°é é¢çš„ \u0026lt;head\u0026gt;ï¼Œè€Œæ˜¯ç›´æ¥ç”¨ React å’Œ JS æœ¬èº«æä¾›çš„å…§å»ºç‰©ä»¶ä¾†é”åˆ°åŒæ¨£æ•ˆæœï¼Œè©³è¦‹æœ¬æ®µèªªæ˜ã€‚\nå› ç‚ºæˆ‘å€‘çš„ Ansh å¯«çš„å¾Œç«¯æ‡‰ç”¨æœ‰æä¾›é€™æ”¯â€œå–å¾—æŒ‡å®šæ•¸é‡éš¨æ©ŸéŸ³æ¨‚ APIâ€ï¼Œæˆ‘æœƒä»¥é€™æ”¯ API ä¾†å–å¾—éš¨æ©Ÿæ­Œå–®ï¼š\nGET /api/songs/random/{songs_count}\nResponse (200)\n{ \u0026#34;success\u0026#34;: true, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: 99123, \u0026#34;duration\u0026#34;: 197.877531, \u0026#34;track_name\u0026#34;: \u0026#34;Marching Music -The Crusader By John Philip Sousa\u0026#34;, \u0026#34;src\u0026#34;: \u0026#34;https://cdn.pixabay.com/audio/2022/03/21/audio_1a944368a1.mp3\u0026#34;, \u0026#34;cover_image\u0026#34;: { \u0026#34;url\u0026#34;: \u0026#34;https://images.unsplash.com/photo-1482954363933-4bed6bbea570?ixid=MnwzODAxMTZ8MHwxfHNlYXJjaHwxMjd8fGx1eHVyeXxlbnwwfHx8fDE2NjgyNjIzOTI\u0026amp;ixlib=rb-4.0.3\u0026#34;, \u0026#34;color\u0026#34;: \u0026#34;#0c2640\u0026#34; }, \u0026#34;artist_name\u0026#34;: \u0026#34;Jane Howe\u0026#34;, \u0026#34;artist_id\u0026#34;: 25232863 }, ... ] } å…ˆä¾†çœ‹ä¸€äº›æ ¸å¿ƒçš„ç¨‹å¼ç¢¼ï¼Œæœ€å¾Œæœƒé™„ä¸Šå®Œæ•´çš„ _app.tsxã€‚\né€™æ®µç¨‹å¼ç¢¼åœ¨ MyApp çµ„ä»¶çš„ useEffect ä¸­å¯¦ç¾äº†å‹•æ…‹ preloadï¼š\nuseEffect(() =\u0026gt; { // Fetch random songs and preload them const fetchAndPreloadSongs = async () =\u0026gt; { try { const { topHits } = await homePageApi.getRandomArtists(); preloadSongs(topHits); } catch (error) { console.error(\u0026#34;Error fetching random songs:\u0026#34;, error); } }; const preloadSongs = (songs: Song[]) =\u0026gt; { songs.forEach((song) =\u0026gt; { const audio = new Audio(); audio.src = song.src; audio.load(); audioElements.current.set(song.id, audio); console.log(`Preloading song: ${song.track_name}`); }); }; fetchAndPreloadSongs(); }, []); useEffect é€™æ®µç¨‹å¼ç¢¼åœ¨çµ„ä»¶æ›è¼‰ (mounted) å¾ŒåŸ·è¡Œï¼Œç¢ºä¿åœ¨é é¢åŠ è¼‰å¾Œç«‹åˆ»åŸ·è¡Œ preload é‚è¼¯ã€‚ ç©ºçš„ä¾è³´é™£åˆ— [] ç¢ºä¿é€™æ®µç¨‹å¼ç¢¼åªåœ¨çµ„ä»¶åˆå§‹åŒ–æ™‚åŸ·è¡Œä¸€æ¬¡ã€‚ fetchAndPreloadSongs è©²ç•°æ­¥å‡½æ•¸ä½¿ç”¨ homePageApi.getRandomArtists() å¾ API ç²å–éš¨æ©Ÿçš„éŸ³æ¨‚æª”æ¡ˆã€‚ ç²å–éŸ³æ¨‚å¾Œï¼Œèª¿ç”¨ preloadSongs å‡½æ•¸é€²è¡Œ preloadã€‚ preloadSongs è©²å‡½æ•¸æ¥æ”¶ä¸€å€‹éŸ³æ¨‚åˆ—è¡¨ï¼Œå°æ¯å€‹éŸ³æ¨‚å‰µå»ºä¸€å€‹æ–°çš„ Audio å°è±¡ã€‚ è¨­ç½® audio.src ç‚ºéŸ³æ¨‚çš„ URLï¼Œä¸¦èª¿ç”¨ audio.load() ä»¥ä¾¿ç€è¦½å™¨é–‹å§‹åŠ è¼‰éŸ³æ¨‚æ–‡ä»¶ã€‚ å°‡å‰µå»ºçš„ Audio å°è±¡å­˜å„²åœ¨ audioElements é€™å€‹ Map ä¸­ï¼Œæ–¹ä¾¿ä»¥å¾Œå¼•ç”¨å’Œæ§åˆ¶ã€‚ _app.tsx å®Œæ•´ç¨‹å¼ç¢¼ï¼š\nimport \u0026#34;../styles/globals.css\u0026#34;; import type { AppProps } from \u0026#34;next/app\u0026#34;; import { Provider } from \u0026#34;react-redux\u0026#34;; import store from \u0026#34;../stores/store\u0026#34;; import NextNProgress from \u0026#34;nextjs-progressbar\u0026#34;; import { useRouter } from \u0026#34;next/router\u0026#34;; import AudioPlayer from \u0026#34;../components/AudioPlayer/AudioPlayer\u0026#34;; import SidebarItem from \u0026#34;../components/sidebarItem\u0026#34;; import Head from \u0026#34;next/head\u0026#34;; import \u0026#34;react-toastify/dist/ReactToastify.css\u0026#34;; import useDetectKeyboardOpen from \u0026#34;use-detect-keyboard-open\u0026#34;; import AddToCollectionModel from \u0026#34;@/components/AddToCollectionModel\u0026#34;; import { ToastContainer } from \u0026#34;react-toastify\u0026#34;; import { useEffect, useRef } from \u0026#34;react\u0026#34;; import homePageApi from \u0026#34;../stores/homePage/homePageApi\u0026#34;; import { Song } from \u0026#34;@/interfaces/Track\u0026#34;; function MyApp({ Component, pageProps }: AppProps) { const audioElements = useRef\u0026lt;Map\u0026lt;number, HTMLAudioElement\u0026gt;\u0026gt;(new Map()); useEffect(() =\u0026gt; { // Fetch random songs and preload them const fetchAndPreloadSongs = async () =\u0026gt; { try { const { topHits } = await homePageApi.getRandomArtists(); preloadSongs(topHits); } catch (error) { console.error(\u0026#34;Error fetching random songs:\u0026#34;, error); } }; const preloadSongs = (songs: Song[]) =\u0026gt; { songs.forEach((song) =\u0026gt; { const audio = new Audio(); audio.src = song.src; audio.load(); audioElements.current.set(song.id, audio); console.log(`Preloading song: ${song.track_name}`); }); }; fetchAndPreloadSongs(); }, []); return ( \u0026lt;Provider store={store}\u0026gt; \u0026lt;Head\u0026gt; \u0026lt;link rel=\u0026#34;preload\u0026#34; href=\u0026#34;/musive-icons.ttf\u0026#34; as=\u0026#34;font\u0026#34; crossOrigin=\u0026#34;\u0026#34; type=\u0026#34;font/ttf\u0026#34; /\u0026gt; \u0026lt;link rel=\u0026#34;preload\u0026#34; href=\u0026#34;/ProximaNova/Proxima Nova Reg.otf\u0026#34; as=\u0026#34;font\u0026#34; crossOrigin=\u0026#34;\u0026#34; type=\u0026#34;font/otf\u0026#34; /\u0026gt; \u0026lt;link rel=\u0026#34;preload\u0026#34; href=\u0026#34;/ProximaNova/Proxima Nova Bold.otf\u0026#34; as=\u0026#34;font\u0026#34; crossOrigin=\u0026#34;\u0026#34; type=\u0026#34;font/otf\u0026#34; /\u0026gt; \u0026lt;/Head\u0026gt; \u0026lt;NextNProgress color=\u0026#34;#2bb540\u0026#34; stopDelayMs={10} height={3} options={{ showSpinner: false }} /\u0026gt; \u0026lt;Component {...pageProps} /\u0026gt; \u0026lt;AudioPlayerComponent /\u0026gt; \u0026lt;/Provider\u0026gt; ); } function AudioPlayerComponent() { const router = useRouter(); const isKeyboardOpen = useDetectKeyboardOpen(); return ( \u0026lt;div\u0026gt; \u0026lt;ToastContainer position=\u0026#34;top-center\u0026#34; autoClose={1000} hideProgressBar newestOnTop={ false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover theme=\u0026#34;dark\u0026#34; /\u0026gt; \u0026lt;AddToCollectionModel /\u0026gt; {router.pathname !== \u0026#34;/login\u0026#34; \u0026amp;\u0026amp; router.pathname !== \u0026#34;/register\u0026#34; \u0026amp;\u0026amp; router.pathname !== \u0026#34;/_error\u0026#34; \u0026amp;\u0026amp; router.pathname !== \u0026#34;/\u0026#34; ? ( \u0026lt;AudioPlayer className={isKeyboardOpen ? \u0026#34;invisible\u0026#34; : \u0026#34;visible\u0026#34;} /\u0026gt; ) : ( \u0026lt;div\u0026gt;\u0026lt;/div\u0026gt; )} {router.pathname !== \u0026#34;/login\u0026#34; \u0026amp;\u0026amp; router.pathname !== \u0026#34;/register\u0026#34; \u0026amp;\u0026amp; router.pathname !== \u0026#34;/_error\u0026#34; \u0026amp;\u0026amp; router.pathname !== \u0026#34;/playing\u0026#34; \u0026amp;\u0026amp; router.pathname !== \u0026#34;/\u0026#34; \u0026amp;\u0026amp; ( \u0026lt;div className={`bg-[#121212] hidden mobile:block tablet:block fixed bottom-0 left-0 right-0 w-full pt-2 pb-1 z-20 ${ isKeyboardOpen ? \u0026#34;invisible\u0026#34; : \u0026#34;visible\u0026#34; }`} \u0026gt; \u0026lt;div className=\u0026#34;flex flex-row justify-center \u0026#34;\u0026gt; \u0026lt;SidebarItem name=\u0026#34;home\u0026#34; label=\u0026#34;Home\u0026#34; /\u0026gt; \u0026lt;SidebarItem name=\u0026#34;search\u0026#34; label=\u0026#34;Search\u0026#34; /\u0026gt; \u0026lt;SidebarItem name=\u0026#34;library\u0026#34; label=\u0026#34;Library\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; )} \u0026lt;/div\u0026gt; ); } export default MyApp; ä½¿ç”¨ Preload å‰ vs ä½¿ç”¨å¾Œ ä½¿ç”¨å‰ è«‹æ³¨æ„ï¼Œç¬¬äºŒé¦–æ˜¯æŒ‰ä¸‹æ’­æ”¾æŒ‰éˆ•å¾Œæ‰é–‹å§‹ä¸‹è¼‰éŸ³æ¨‚ï¼š\nä½¿ç”¨å¾Œ è£œå…… - åœ¨èˆŠæœ‰çš„æ©Ÿå™¨æ”¹æˆ Preload é€™é‚Šå…§å®¹åƒ…é©ç”¨æ–¼æœ‰ç…§è‘—å·¥ä½œåŠå…§å®¹å¯¦ä½œçš„åŒå­¸ï¼Œä»¥ä¸‹æ­¥é©Ÿå°‡æ•™å­¸ä½ å¦‚ä½•æŠŠåŸæœ‰çš„ Application å¥—ç”¨ Dynamic Preloadï¼š\né€£ç·šä¸Šå» EC2 cd Nextjs-Musive-app git checkout feature/preload TOKEN=$(curl -X PUT \u0026quot;http://169.254.169.254/latest/api/token\u0026quot; -H \u0026quot;X-aws-ec2-metadata-token-ttl-seconds: 21600\u0026quot;) export MUSIVE_API_URL=\u0026quot;http://$(curl -H \u0026quot;X-aws-ec2-metadata-token: $TOKEN\u0026quot; http://169.254.169.254/latest/meta-data/public-ipv4):4444/api\u0026quot; npm install npm run build pm2 restart nextjs-app Resources Notion - 20240705 çå‹µèª²ç¨‹ - é›²ç«¯ä¸²æµæŒ‘æˆ°ï¼šå¾©åˆ» Spotify çš„æŠ€è¡“æ—…ç¨‹ GitHub - Ansh-Rathod / Nextjs-Musive-app ","permalink":"https://shiun.me/blog/dynamic-preload-for-performance-optimization/","summary":"\u003cp\u003eç¨‹å¼ç¢¼åœ¨é€™é‚Šçš„ \u003ccode\u003efeature/preload\u003c/code\u003e åˆ†æ”¯: \u003ca href=\"https://github.com/sh1un/Nextjs-Musive-app/tree/feature/preload\"\u003ehttps://github.com/sh1un/Nextjs-Musive-app\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eæ­¤å°ˆæ¡ˆæ˜¯ä¸€å€‹ Next.js å°ˆæ¡ˆï¼ŒåŸä½œè€…ç‚º \u003ca href=\"https://www.linkedin.com/in/ansh-rathod/\"\u003eAnsh Rathod\u003c/a\u003eï¼Œæˆ‘å·²ç¶“éä½œè€…æœ¬äººæˆæ¬Šä½¿ç”¨ï¼Œå› æ­¤ Fork éä¾†ç¨å¾®æ”¹äº†ä¸€ä¸‹ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eæˆ‘æœ¬èº«ä¸æ˜¯ä¸€åå°ˆç²¾æ–¼å‰ç«¯æŠ€è¡“çš„é–‹ç™¼è€…\u003c/strong\u003eï¼Œæ‰€ä»¥æˆ‘æ‰€ä¿®æ”¹çš„ Code éƒ½æ˜¯ç”± ChatGPT-4 ç”¢ç”Ÿçš„ã€‚æˆ‘ä»Šå¤©é€™æ¨£åšçš„ä¸»è¦ç›®çš„æ˜¯æƒ³å¯¦é©— preload æ˜¯å¦èƒ½åšåˆ°æ•ˆèƒ½å„ªåŒ–ï¼Œä»¥æ­¤ä¾†åšä¸€å€‹ç°¡å–®çš„ PoCã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eè£œå……ä¸€ä¸‹ï¼Œé€™ç¯‡æ–‡ç« çš„å…§å®¹æœ¬ä¾†æ˜¯è¦æ”¾åœ¨ ã€Œ\u003ca href=\"https://www.instagram.com/p/C8UWAZXynuU/?hl=zh-tw\u0026amp;img_index=1\"\u003e2024 AWS Educate é™ªè·‘è¨ˆç•«çš„çå‹µèª²ç¨‹ - é›²ç«¯ä¸²æµæŒ‘æˆ°ï¼šå¾©åˆ» Spotify çš„æŠ€è¡“æ—…ç¨‹\u003c/a\u003eã€ä¸­æ•™å­¸ï¼Œæ­¤å·¥ä½œåŠæ—¨åœ¨æ•™å­¸å¦‚ä½•åˆ©ç”¨ CloudFront å„ªåŒ–é€Ÿåº¦èˆ‡é™ä½å»¶é²ï¼Œä½†ç¤™æ–¼ç•¶å¤©å·¥ä½œåŠçš„å…§å®¹å¤ªæ»¿å·²ç¶“å¡ä¸ä¸‹äº†ï¼Œæ‰€ä»¥ç•¶å¤©å·¥ä½œåŠå°±æ²’æœ‰è¬›åˆ° Preloadï¼Œå¦‚æœçœ‹åˆ°é€™ç¯‡æ–‡ç« ï¼Œæƒ³è¦å­¸å­¸ CloudFront æ­¡è¿åƒè§€æˆ‘å€‘ç•¶å¤©çš„æ•™æ (\u003ca href=\"https://aws-educate-tw.notion.site/20240705-Spotify-6b973b4e8d4d43d5bfb06815732f4e0b\"\u003eé€£çµ\u003c/a\u003e)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"ä»€éº¼æ˜¯-preload\"\u003eä»€éº¼æ˜¯ Preload?\u003c/h2\u003e\n\u003cp\u003ePreload æ˜¯ä¸€ç¨®ç¶²é æ€§èƒ½å„ªåŒ–æŠ€è¡“ï¼Œè®“ç€è¦½å™¨åœ¨é é¢åŠ è¼‰æ™‚é å…ˆåŠ è¼‰æŒ‡å®šçš„è³‡æºï¼Œé€™æ¨£åœ¨ä½¿ç”¨é€™äº›è³‡æºæ™‚å¯ä»¥æ›´å¿«åœ°é¡¯ç¤ºæˆ–æ’­æ”¾ã€‚é€™å¯ä»¥æ¸›å°‘ç­‰å¾…æ™‚é–“ï¼Œæå‡ç”¨æˆ¶é«”é©—ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eä½ å¯ä»¥æƒ³æˆï¼šåŸæœ¬ä½ æ˜¯è¦â€œæŒ‰ä¸‹å»æ’­æ”¾æŒ‰éˆ•â€æ‰æœƒé–‹å§‹ä¸‹è¼‰éŸ³æ¨‚ï¼Œç¾åœ¨æˆ‘å€‘æå‰å¹«ä½ ä¸‹è¼‰ï¼Œä½ ä¹‹å¾Œâ€œæŒ‰ä¸‹å»æ’­æ”¾æŒ‰éˆ•â€å°±æœƒç«‹å³æ’­æ”¾ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"èˆ‰ä¾‹\"\u003eèˆ‰ä¾‹\u003c/h3\u003e\n\u003cp\u003eå¦‚æœä½ åœ¨ç¶²é ä¸Šæœ‰ä¸€æ®µå½±ç‰‡æˆ–éŸ³æ¨‚ï¼Œä½ å¯ä»¥ç”¨ preload å‘Šè¨´ç€è¦½å™¨æå‰ä¸‹è¼‰é€™äº›æ–‡ä»¶ï¼Œé€™æ¨£ç•¶ç”¨æˆ¶é»æ“Šæ’­æ”¾æŒ‰éˆ•æ™‚ï¼Œå½±ç‰‡æˆ–éŸ³æ¨‚å°±æœƒç«‹å³æ’­æ”¾ï¼Œè€Œä¸æ˜¯å…ˆç­‰å¾…ä¸‹è¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eåŸºæœ¬ç”¨æ³•ï¼š\nåœ¨ HTML ä¸­ï¼Œä½ å¯ä»¥åœ¨ \u003ccode\u003e\u0026lt;link\u0026gt;\u003c/code\u003e æ¨™ç±¤ä¸­ä½¿ç”¨ \u003ccode\u003erel=\u0026quot;preload\u0026quot;\u003c/code\u003e ä¾†é åŠ è¼‰è³‡æºã€‚ä¾‹å¦‚ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-html\" data-lang=\"html\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026lt;\u003cspan style=\"color:#f92672\"\u003elink\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003erel\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;preload\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehref\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;path/to/your/file.mp3\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eas\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;audio\u0026#34;\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eé€™æ¨£ï¼Œç€è¦½å™¨æœƒåœ¨é é¢åŠ è¼‰æ™‚é å…ˆä¸‹è¼‰ \u003ccode\u003efile.mp3\u003c/code\u003eï¼Œæé«˜ç”¨æˆ¶æ’­æ”¾éŸ³æ¨‚çš„é€Ÿåº¦ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"å‹•æ…‹-preload-çš„å¯¦ç¾æ€è·¯\"\u003eå‹•æ…‹ Preload çš„å¯¦ç¾æ€è·¯\u003c/h2\u003e\n\u003cp\u003eæ¯å€‹ç”¨æˆ¶çš„æ­Œå–®éƒ½ä¸ä¸€æ¨£ï¼Œæ‰€ä»¥æˆ‘å€‘ç•¶ç„¶ä¸å¸Œæœ›æŠŠ preload çš„ \u003ccode\u003ehref\u003c/code\u003e å¯«æ­»æˆä¸€å€‹ URLã€‚\u003c/p\u003e\n\u003ch3 id=\"è§£æ±ºæ–¹æ¡ˆ\"\u003eè§£æ±ºæ–¹æ¡ˆ\u003c/h3\u003e\n\u003cp\u003eæˆ‘å€‘å¯ä»¥é€šéä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿä¾†å¯¦ç¾å‹•æ…‹çš„ preloadï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eAPI ç²å–æ­Œå–®\u003c/strong\u003eï¼š\nä¼ºæœå™¨ç«¯æä¾›ä¸€å€‹ APIï¼Œæ ¹æ“šç”¨æˆ¶çš„è«‹æ±‚è¿”å›è©²ç”¨æˆ¶çš„æ­Œå–®ã€‚é€™å€‹ API è¿”å›ä¸€å€‹ JSON çµæ§‹ï¼Œå…¶ä¸­åŒ…å«äº†éŸ³æ¨‚æª”æ¡ˆçš„ URL åˆ—è¡¨ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eJavaScript å‹•æ…‹ç”Ÿæˆ Preload æ¨™ç±¤\u003c/strong\u003eï¼š\nä½¿ç”¨ JavaScript åœ¨é é¢åŠ è¼‰å¾Œå‹•æ…‹åœ°å¾ API ç²å–æ­Œå–®ï¼Œä¸¦ç‚ºæ¯å€‹éŸ³æ¨‚æ–‡ä»¶å‰µå»º preload æ¨™ç±¤ï¼Œå°‡å…¶æ·»åŠ åˆ°é é¢çš„ \u003ccode\u003e\u0026lt;head\u0026gt;\u003c/code\u003e ä¸­ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"å…·é«”å¯¦ç¾\"\u003eå…·é«”å¯¦ç¾\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæ³¨æ„âš ï¸Â æˆ‘çš„å¯«æ³•ä¸¦éæ·»åŠ  preload åˆ°é é¢çš„ \u003ccode\u003e\u0026lt;head\u0026gt;\u003c/code\u003eï¼Œè€Œæ˜¯ç›´æ¥ç”¨ React å’Œ JS æœ¬èº«æä¾›çš„å…§å»ºç‰©ä»¶ä¾†é”åˆ°åŒæ¨£æ•ˆæœï¼Œè©³è¦‹æœ¬æ®µèªªæ˜ã€‚\u003c/p\u003e","title":"åœ¨ Next.js éŸ³æ¨‚æ‡‰ç”¨ä¸­ä½¿ç”¨å‹•æ…‹ Preload æŠ€è¡“æå‡å‰ç«¯æ•ˆèƒ½é™ä½å»¶é²"},{"content":"å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Shiunï¼Œä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘åœ¨ eCloudValley MSP éƒ¨é–€æ“”ä»»é›²ç«¯å·¥ç¨‹å¸«å¯¦ç¿’ç”Ÿçš„ç¶“æ­·ã€‚é€™æ®µå¯¦ç¿’è®“æˆ‘å­¸åˆ°äº†å¾ˆå¤šå¯¦ç”¨çš„é›²ç«¯æŠ€è¡“ï¼ŒåŒæ™‚ä¹Ÿåœ¨å·¥ä½œä¸­é‡åˆ°äº†è¨±å¤šæœ‰è¶£çš„æŒ‘æˆ°ã€‚ å¯¦ç¿’å·¥ä½œå…§å®¹ åœ¨ eCloudValley çš„å¯¦ç¿’æœŸé–“ï¼Œæˆ‘ä¸»è¦è² è²¬ä»¥ä¸‹å¹¾é …å·¥ä½œï¼š\nå­¸ç¿’ä½¿ç”¨å…¬æœ‰é›²ï¼ŒåŒ…æ‹¬ AWS å’Œ Azureã€‚ é–‹ç™¼å…¬å¸å…§éƒ¨çš„ GenAI æ‡‰ç”¨ã€‚ èˆ‡åŒæœŸä¸”åŒéƒ¨é–€å¯¦ç¿’ç”Ÿå…±åŒé–‹ç™¼å°ˆæ¡ˆã€‚ å®šæœŸèˆ‡ Mentor é–‹æœƒã€‚ åƒèˆ‡æœ€çµ‚å±•æ¼”ã€‚ æ’°å¯«ç³»çµ±æ–‡ä»¶ã€‚ å¯¦ç¿’æœŸé–“å¤§äº‹ç´€ å°ˆæ¡ˆå¤§æ”¹æ–¹å‘ åœ¨ eCloudValley å¯¦ç¿’æœŸé–“ï¼Œæˆ‘å€‘çš„å°ˆæ¡ˆç¶“æ­·äº†ä¸€æ¬¡é‡å¤§è½‰è®Šã€‚èµ·åˆï¼Œæˆ‘å€‘çš„ä»»å‹™æ˜¯é–‹ç™¼ä¸€å€‹ AI Bot é–‹å–®åŠ©ç†ï¼Œç›®çš„æ˜¯å¹«åŠ©å®¢æˆ¶åœ¨é›²ç«¯é‡åˆ°å•é¡Œæ™‚èƒ½å¤ è¿…é€Ÿç²å¾—æ”¯æ´ã€‚é€™å€‹å°ˆæ¡ˆçš„åˆæ­¥æ§‹æƒ³æ˜¯ï¼š\nå®¢æˆ¶å‘ AI åŠ©ç†æ±‚åŠ©ï¼Œä¸¦å‘ AI åŠ©ç†æä¾›å¿…è¦è³‡è¨Šï¼Œä¾‹å¦‚ï¼š EC2 SG Inbound Rule, å¥åº·æª¢æŸ¥ç‹€æ…‹\u0026hellip; ç­‰ç­‰ å¦‚æœå®¢æˆ¶æä¾›çš„è³‡è¨Šä¸å¤ æ˜ç¢ºï¼ŒAI åŠ©ç†è¦æ˜ç¢ºåœ°å‘ŠçŸ¥å®¢æˆ¶é‚„éœ€æä¾›å“ªäº›è³‡è¨Šã€‚ AI åŠ©ç†å½™ç¸½å®¢æˆ¶å•é¡Œï¼Œè½‰åŒ–ç‚ºæŠ€è¡“äººå“¡æ˜“æ–¼ç†è§£çš„èªè¨€ã€‚ å°‡è³‡è¨Šè½‰åŒ–å¾Œï¼Œé–‹ ticket åˆ°é–‹å–®ç³»çµ±ã€‚ ç„¶è€Œï¼Œåœ¨å¯¦ä½œéç¨‹ä¸­ï¼Œæˆ‘å€‘ç™¼ç¾é€™å€‹ AI åŠ©ç†çš„æ•ˆæœä¸å¦‚é æœŸï¼Œä¸”å¾ŒçºŒå„ªåŒ–å­˜åœ¨æŠ€è¡“ç“¶é ¸ã€‚å®¢æˆ¶å•é¡Œéæ–¼å¤šæ¨£åŒ–ã€ä¸”å•é¡Œå¹¾ä¹éƒ½å¾ˆå…·æƒ…å¢ƒï¼Œä¸æ˜¯é‚£ç¨®æœ‰æ¨™æº–è§£ç­”æˆ–æ˜¯æ¨™æº– SOP å°±èƒ½è§£æ±ºçš„å•é¡Œï¼Œæ‰€ä»¥ AI åŠ©ç†é›£ä»¥è™•ç†ï¼Œå°è‡´æº–ç¢ºç‡ä½ï¼Œæœ€çµ‚é‚„æ˜¯éœ€è¦äººå·¥ä»‹å…¥ï¼Œåè€Œå¢åŠ äº†å·¥ä½œé‡ã€‚\nå› æ­¤ï¼Œæˆ‘å€‘åœ¨ 4 æœˆåº•æ±ºå®šå°‡å°ˆæ¡ˆè½‰è®Šç‚ºä¸€å€‹ã€Œæœƒè­°éŒ„å½±æ©Ÿå™¨äººã€ã€‚é€™å€‹æ©Ÿå™¨äººæœƒè¢«é‚€è«‹åˆ° LINE ç¾¤çµ„ä¸­ï¼Œé»˜é»˜è¨˜éŒ„æ¯ä¸€æ¢è¨Šæ¯ä»¥åŠåœ–ç‰‡ (åœ–ç‰‡é€é Claude 3 Sonnet å–å¾— Caption)ã€‚TAM åªéœ€åœ¨ç¾¤çµ„ä¸­è¼¸å…¥ç‰¹æ®ŠæŒ‡ä»¤æˆ–è²¼åœ–å³å¯æ§åˆ¶éŒ„å½±ï¼Œæœ€çµ‚åœ¨å‰ç«¯é é¢æŸ¥çœ‹è¨˜éŒ„ä¸¦ç”± LLM ç¸½çµï¼Œå‰µå»º Ticket åˆ° MSP éƒ¨é–€çš„ Ticket Systemã€‚\nç²å¾— Best Tech Team å°ˆæ¡ˆåœ¨ 4æœˆåº•ã€5æœˆåˆå¤§æ”¹æ–¹å‘ï¼Œè€Œæˆ‘å€‘å¿…é ˆåœ¨ 5 æœˆåº•å±•æ¼”ã€‚å„˜ç®¡æ™‚ç¨‹ç·Šæ¹Šï¼Œä½†åœ˜éšŠåˆä½œé€æ¼¸æµæš¢ï¼Œæˆ‘å€‘åœ¨çŸ­çŸ­ä¸åˆ°ä¸€å€‹æœˆå…§å®Œæˆäº†æ‡‰ç”¨é–‹ç™¼ã€‚åœ˜éšŠçš„ PO (Product Owner) å¸¶é ˜æˆ‘å€‘ä¸æ–·ç·´ç¿’ç°¡å ±ï¼Œæœ€çµ‚åœ¨ 5/31 çš„å±•æ¼”ä¸­ç²å¾—äº† Best Tech Team çš„çé …ï¼Œé€™è®“æˆ‘å€‘éå¸¸é–‹å¿ƒã€‚ å¯¦ç¿’ä¸­çš„å°ˆæ¥­å­¸ç¿’å¿ƒå¾— å­¸æœƒä½¿ç”¨ AWS åŠ Azure åœ¨å…¬æœ‰é›²å¸‚å ´ä¸­ï¼ŒAWS å’Œ Azure å æ“šäº†é ˜å…ˆåœ°ä½ã€‚åœ¨ eCloudValleyï¼Œæˆ‘å€‘é€šéå…§éƒ¨çš„çŸ¥è­˜ç®¡ç†ç³»çµ± (eCloudTure) å­¸ç¿’å¦‚ä½•ä½¿ç”¨é€™äº›å¹³å°ä¾†éƒ¨ç½²å’Œæ¶è¨­æœå‹™ã€‚é€™å€‹å¹³å°è®“æˆ‘å€‘å¯ä»¥ä¾ç…§èª²ç¨‹å¯¦ä½œ Labï¼Œä¸åƒ…å­¸æœƒäº†ç†è«–çŸ¥è­˜ï¼Œé‚„å­¸æœƒäº†å‹•æ‰‹æ“ä½œã€‚\nå­¸ç¿’ä½¿ç”¨ GenAI æŠ€è¡“ åœ¨å¯¦ç¿’æœŸé–“ï¼Œæˆ‘å€‘éœ€è¦é–‹ç™¼ä¸€å€‹ GenAI æ‡‰ç”¨ï¼Œå¹«åŠ© TAM è‡ªå‹•ç¸½çµå®¢æˆ¶å•é¡Œä¸¦é–‹å·¥å–®çµ¦å·¥ç¨‹å¸«è§£æ±ºã€‚æˆ‘å­¸æœƒäº†ä½¿ç”¨ LangChain æ¡†æ¶å’Œ Azure OpenAI, Prompt Flowï¼Œä½†æœ€çµ‚é¸æ“‡äº† AWS Bedrock çš„ Claude 3 Sonnet ä½œç‚ºæ¨¡å‹ã€‚å­¸ç¿’é€™äº›æŠ€è¡“è®“æˆ‘åœ¨ GenAI Hackathon ä¸­å¾—åˆ°äº†å¯¦è¸æ©Ÿæœƒï¼Œä¹Ÿè®“æˆ‘åœ¨ä½¿ç”¨ AI å·¥å…·æ™‚æ›´åŠ å¾—å¿ƒæ‡‰æ‰‹ã€‚\nåŠ å¼·äº†è‹±æ–‡å£èªªå’Œé–±è®€ ç”±æ–¼ eCloudValley è·¨è¶³å¤šåœ‹ï¼Œå…§éƒ¨å¿…é ˆä½¿ç”¨è‹±æ–‡äº¤æµã€‚æˆ‘å€‘æ¯å¤©éƒ½è¦é€²è¡Œè‹±æ–‡é–‹æœƒ (Daily Scrum)ï¼Œä¸¦åœ¨æœ€çµ‚å±•æ¼”æ™‚ä½¿ç”¨å…¨è‹±æ–‡ç°¡å ±ã€‚é€™æ®µç¶“æ­·å¼·è¿«æˆ‘æå‡è‹±æ–‡å£èªªèƒ½åŠ›ï¼Œè®“æˆ‘åœ¨çŸ­çŸ­ä¸‰å€‹æœˆå…§è‹±æ–‡å£èªªæ›´ç‚ºæµæš¢ã€‚\né—œæ–¼æˆ‘å–œæ­¡ eCloudValley çš„é» æ–‡åŒ–åŠåœ°ç†é¢ å¹´è¼•çš„æ°›åœï¼šMSP éƒ¨é–€æ°£æ°›æ­¡æ¨‚ï¼Œè€Œä¸”ä¸»ç®¡å€‘éƒ½å¾ˆç…§é¡§ã€‚ DevOps ä¸»ç®¡ Timmy é‡è¦–å“¡å·¥æƒ³æ³•ï¼šæœƒä¾ç…§æˆ‘å€‘çš„å°ˆé•·å’Œæƒ³è¦ç™¼å±•çš„é ˜åŸŸä¾†å®‰æ’ä»»å‹™ï¼Œéå¸¸é‡è¦–å“¡å·¥æƒ³æ³•ã€‚ å„ªç§€çš„ Mentorï¼šç‰¹åˆ¥æ˜¯ KKueenï¼çœŸçš„å¾ˆæœ‰è€å¿ƒã€‚ é‡åˆ°é€™éº¼æ£’çš„ Mentor çœŸçš„å¾ˆæœ‰ç¦æ°£\nè±å¯Œçš„ç¤¾åœ˜æ´»å‹•ï¼šå…¬å¸æœ‰å„ç¨®ç¤¾åœ˜ï¼Œå’–å•¡ç¤¾ç‰¹åˆ¥æœ‰è¶£ã€‚ ä¾¿åˆ©çš„åœ°ç†ä½ç½®ï¼šå…¬å¸é›¢æ·é‹ç«™è¶…è¿‘ï¼Œå¾ä¸‰å’Œåœ‹ä¸­ç«™å‡ºä¾†å°±æ˜¯å…¬å¸ï¼Œè¶…ç´šæ–¹ä¾¿ã€‚ é£Ÿç‰©é¢ å–ä¸å®Œçš„é£²å“ï¼šå’–å•¡ã€ç‰›å¥¶å’Œè±†æ¼¿æ‡‰æœ‰ç›¡æœ‰ã€‚ å…è²»åˆé¤ï¼šä¸­åˆæä¾›å…è²»åˆé¤ï¼Œå¶çˆ¾é‚„æœ‰è¥¿ç“œï¼Œè¶…ç´šçˆ½ï¼Œæˆ‘éƒ½åƒè¶…å¤šè¥¿ç“œã€‚ å†°æ£’å’Œé›¶é£Ÿï¼šå„ç¨®é›¶é£Ÿå’Œå†°æ£’ä¾›æ‡‰ï¼Œéš¨æ™‚å¯ä»¥äº«ç”¨ã€‚ å•¤é…’å’Œèª¿é…’ï¼šé›–ç„¶å¾ˆå°‘å–ï¼Œä½†åœ¨å°ˆæ¡ˆå°¾è²æ”¾é¬†ä¸€ä¸‹éå¸¸ä¸éŒ¯ã€‚ å­¸ç¿’é¢ é›²ç«¯å¹³å°ç·´ç¿’ï¼šå…¬å¸æä¾› AWS å’Œ Azure å¸³è™Ÿï¼Œè®“å¯¦ç¿’ç”Ÿå¯ä»¥ç·´ç¿’é›²ç«¯æŠ€è¡“å’Œé€²è¡Œ PoCã€‚ å…¬å¸æ•™è‚²ç³»çµ± - eCloudTureï¼šæä¾› Lab ç’°å¢ƒå’Œå®Œæ•´çš„æ•™æï¼Œè®“æˆ‘å€‘å……åˆ†ç·´ç¿’ AWS å’Œ Azureã€‚ æŠ€è¡“è¬›åº§ï¼šä½œç‚º AWS Partnerï¼Œå…¬å¸ä¸å®šæœŸæœƒæœ‰åŸå» æŠ€è¡“è¬›åº§ï¼Œå°æ–¼é›²ç«¯æŠ€è¡“æ„›å¥½è€…ä¾†èªªéå¸¸æ£’ã€‚ å¯¦ç¿’ä¹‹åçœèˆ‡æª¢è¨ è‹±æ–‡çš„é‡è¦æ€§ åœ¨é€™æ®µå¯¦ç¿’ä¸­ï¼Œæˆ‘æ·±åˆ»é«”æœƒåˆ°è‹±æ–‡çš„é‡è¦æ€§ã€‚ç„¡è«–æ˜¯å­¸ç¿’è³‡æºé‚„æ˜¯æ—¥å¸¸å·¥ä½œï¼Œè‹±æ–‡éƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚æŒæ¡å¥½è‹±æ–‡ï¼Œæ‰èƒ½åœ¨è»Ÿé«”é–‹ç™¼é€™æ¢è·¯ä¸Šå¦‚é­šå¾—æ°´ã€‚\nç´€éŒ„è‡ªå·±çš„æˆé•· å¯¦ç¿’æœŸé–“ï¼Œæˆ‘å€‘çš„ Mentor è¦æ±‚æˆ‘å€‘å¯«æ—¥èªŒï¼Œç´€éŒ„æ¯å¤©çš„å­¸ç¿’ã€‚é€™è®“æˆ‘æ„è­˜åˆ°ç­†è¨˜ä¸åƒ…æ˜¯ç‚ºäº†è¤‡ç¿’ï¼Œæ›´æ˜¯ç‚ºäº†æ„è­˜åˆ°è‡ªå·±çš„æˆé•·ã€‚é€šéä¸æ–·çš„ç´€éŒ„å’Œåæ€ï¼Œæˆ‘æ„Ÿå—åˆ°æˆå°±æ„Ÿï¼Œé€²ä¸€æ­¥æå‡äº†å­¸ç¿’å‹•åŠ›ã€‚\nå·²ç¶“é¤Šæˆä¸€å€‹ç¿’æ…£äº† XDï¼Œç›´è‡³ä»Šæ—¥æ¯å¤©éƒ½åœ¨å¯«\nçµèª åœ¨ eCloudValley çš„å¯¦ç¿’ç¶“æ­·ï¼Œæ˜¯æˆ‘è·æ¶¯ä¸­çš„ä¸€å€‹é‡è¦é‡Œç¨‹ç¢‘ã€‚ä¸åƒ…æå‡äº†æŠ€è¡“èƒ½åŠ›ï¼Œä¹Ÿè®“æˆ‘åœ¨åœ˜éšŠåˆä½œå’Œå•é¡Œè§£æ±ºä¸Šå¾—åˆ°äº†å¯¶è²´çš„ç¶“é©—ã€‚é€™æ®µå¯¦ç¿’è®“æˆ‘æ›´å…·ä¿¡å¿ƒï¼Œè¿æ¥æœªä¾†çš„æŒ‘æˆ°ã€‚\nå¸Œæœ›æˆ‘çš„åˆ†äº«å°å¤§å®¶æœ‰æ‰€å¹«åŠ©ï¼Œä¹Ÿå¸Œæœ›æœ‰æ›´å¤šçš„æ©Ÿæœƒèƒ½å’Œå¤§å®¶äº¤æµæŠ€è¡“å¿ƒå¾—ã€‚æ„Ÿè¬å¤§å®¶çš„é–±è®€ï¼\n","permalink":"https://shiun.me/blog/2024-ecloudvalley-internship/","summary":"\u003cp\u003eå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Shiunï¼Œä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘åœ¨ eCloudValley MSP éƒ¨é–€æ“”ä»»é›²ç«¯å·¥ç¨‹å¸«å¯¦ç¿’ç”Ÿçš„ç¶“æ­·ã€‚é€™æ®µå¯¦ç¿’è®“æˆ‘å­¸åˆ°äº†å¾ˆå¤šå¯¦ç”¨çš„é›²ç«¯æŠ€è¡“ï¼ŒåŒæ™‚ä¹Ÿåœ¨å·¥ä½œä¸­é‡åˆ°äº†è¨±å¤šæœ‰è¶£çš„æŒ‘æˆ°ã€‚\n\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/c807fa99-33c0-4cf6-bb0e-35c6172e6c8c\" alt=\"01-Group photo\"  /\u003e\n\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"å¯¦ç¿’å·¥ä½œå…§å®¹\"\u003eå¯¦ç¿’å·¥ä½œå…§å®¹\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/451ee722-6348-437a-bf83-fdfde56a57e4\" alt=\"Timeline\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eåœ¨ eCloudValley çš„å¯¦ç¿’æœŸé–“ï¼Œæˆ‘ä¸»è¦è² è²¬ä»¥ä¸‹å¹¾é …å·¥ä½œï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå­¸ç¿’ä½¿ç”¨å…¬æœ‰é›²ï¼ŒåŒ…æ‹¬ AWS å’Œ Azureã€‚\u003c/li\u003e\n\u003cli\u003eé–‹ç™¼å…¬å¸å…§éƒ¨çš„ GenAI æ‡‰ç”¨ã€‚\u003c/li\u003e\n\u003cli\u003eèˆ‡åŒæœŸä¸”åŒéƒ¨é–€å¯¦ç¿’ç”Ÿå…±åŒé–‹ç™¼å°ˆæ¡ˆã€‚\u003c/li\u003e\n\u003cli\u003eå®šæœŸèˆ‡ Mentor é–‹æœƒã€‚\u003c/li\u003e\n\u003cli\u003eåƒèˆ‡æœ€çµ‚å±•æ¼”ã€‚\u003c/li\u003e\n\u003cli\u003eæ’°å¯«ç³»çµ±æ–‡ä»¶ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"å¯¦ç¿’æœŸé–“å¤§äº‹ç´€\"\u003eå¯¦ç¿’æœŸé–“å¤§äº‹ç´€\u003c/h2\u003e\n\u003ch3 id=\"å°ˆæ¡ˆå¤§æ”¹æ–¹å‘\"\u003eå°ˆæ¡ˆå¤§æ”¹æ–¹å‘\u003c/h3\u003e\n\u003cp\u003eåœ¨ eCloudValley å¯¦ç¿’æœŸé–“ï¼Œæˆ‘å€‘çš„å°ˆæ¡ˆç¶“æ­·äº†ä¸€æ¬¡é‡å¤§è½‰è®Šã€‚èµ·åˆï¼Œæˆ‘å€‘çš„ä»»å‹™æ˜¯é–‹ç™¼ä¸€å€‹ AI Bot é–‹å–®åŠ©ç†ï¼Œç›®çš„æ˜¯å¹«åŠ©å®¢æˆ¶åœ¨é›²ç«¯é‡åˆ°å•é¡Œæ™‚èƒ½å¤ è¿…é€Ÿç²å¾—æ”¯æ´ã€‚é€™å€‹å°ˆæ¡ˆçš„åˆæ­¥æ§‹æƒ³æ˜¯ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eå®¢æˆ¶å‘ AI åŠ©ç†æ±‚åŠ©ï¼Œä¸¦å‘ AI åŠ©ç†æä¾›å¿…è¦è³‡è¨Šï¼Œä¾‹å¦‚ï¼š EC2 SG Inbound Rule, å¥åº·æª¢æŸ¥ç‹€æ…‹\u0026hellip; ç­‰ç­‰\u003c/li\u003e\n\u003cli\u003eå¦‚æœå®¢æˆ¶æä¾›çš„è³‡è¨Šä¸å¤ æ˜ç¢ºï¼ŒAI åŠ©ç†è¦æ˜ç¢ºåœ°å‘ŠçŸ¥å®¢æˆ¶é‚„éœ€æä¾›å“ªäº›è³‡è¨Šã€‚\u003c/li\u003e\n\u003cli\u003eAI åŠ©ç†å½™ç¸½å®¢æˆ¶å•é¡Œï¼Œè½‰åŒ–ç‚ºæŠ€è¡“äººå“¡æ˜“æ–¼ç†è§£çš„èªè¨€ã€‚\u003c/li\u003e\n\u003cli\u003eå°‡è³‡è¨Šè½‰åŒ–å¾Œï¼Œé–‹ ticket åˆ°é–‹å–®ç³»çµ±ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eç„¶è€Œï¼Œåœ¨å¯¦ä½œéç¨‹ä¸­ï¼Œæˆ‘å€‘ç™¼ç¾é€™å€‹ AI åŠ©ç†çš„æ•ˆæœä¸å¦‚é æœŸï¼Œä¸”å¾ŒçºŒå„ªåŒ–å­˜åœ¨æŠ€è¡“ç“¶é ¸ã€‚å®¢æˆ¶å•é¡Œéæ–¼å¤šæ¨£åŒ–ã€ä¸”å•é¡Œå¹¾ä¹éƒ½å¾ˆå…·æƒ…å¢ƒï¼Œä¸æ˜¯é‚£ç¨®æœ‰æ¨™æº–è§£ç­”æˆ–æ˜¯æ¨™æº– SOP å°±èƒ½è§£æ±ºçš„å•é¡Œï¼Œæ‰€ä»¥ AI åŠ©ç†é›£ä»¥è™•ç†ï¼Œå°è‡´æº–ç¢ºç‡ä½ï¼Œæœ€çµ‚é‚„æ˜¯éœ€è¦äººå·¥ä»‹å…¥ï¼Œåè€Œå¢åŠ äº†å·¥ä½œé‡ã€‚\u003c/p\u003e\n\u003cp\u003eå› æ­¤ï¼Œæˆ‘å€‘åœ¨ 4 æœˆåº•æ±ºå®šå°‡å°ˆæ¡ˆè½‰è®Šç‚ºä¸€å€‹ã€Œæœƒè­°éŒ„å½±æ©Ÿå™¨äººã€ã€‚é€™å€‹æ©Ÿå™¨äººæœƒè¢«é‚€è«‹åˆ° LINE ç¾¤çµ„ä¸­ï¼Œé»˜é»˜è¨˜éŒ„æ¯ä¸€æ¢è¨Šæ¯ä»¥åŠåœ–ç‰‡ (åœ–ç‰‡é€é Claude 3 Sonnet å–å¾— Caption)ã€‚TAM åªéœ€åœ¨ç¾¤çµ„ä¸­è¼¸å…¥ç‰¹æ®ŠæŒ‡ä»¤æˆ–è²¼åœ–å³å¯æ§åˆ¶éŒ„å½±ï¼Œæœ€çµ‚åœ¨å‰ç«¯é é¢æŸ¥çœ‹è¨˜éŒ„ä¸¦ç”± LLM ç¸½çµï¼Œå‰µå»º Ticket åˆ° MSP éƒ¨é–€çš„ Ticket Systemã€‚\u003c/p\u003e","title":"2024 ä¼Šé›²è°·å¯¦ç¿’è¨ˆç•« - é›²ç«¯å·¥ç¨‹å¸«å¯¦ç¿’å¿ƒå¾—"},{"content":"æƒ…å¢ƒæè¿° ä¸Šåœ–é¡¯ç¤ºçš„æ˜¯æˆ‘å‰›åœ¨ Cognito User Pool ä¸­æ–°å¢äº†ä¸€å€‹ userï¼Œå¯ä»¥æ³¨æ„åˆ°ç®­é ­è™•é¡¯ç¤º Force change passwordã€‚\nç•¶é€™å€‹ user å˜—è©¦é¦–æ¬¡ç™»å…¥æ™‚ï¼Œä»–å€‘æœƒé‡åˆ°é€™æ¨£çš„æƒ…æ³:\n{ \u0026#34;message\u0026#34;: \u0026#34;New password required\u0026#34;ï¼Œ \u0026#34;challengeName\u0026#34;: \u0026#34;NEW_PASSWORD_REQUIRED\u0026#34;ï¼Œ \u0026#34;session\u0026#34;: \u0026#34;AYABeAsYJsR3yEr0iJssKPPUPEgAHQABAAdTZXJ2aWNlABBDb2duaXRvVXNlclBvb2xzAAEAB2F3cy1rbXMAS2Fybjphd3M6a21zOnVzLXdlc3QtMjowMTU3MzY3MjcxOTg6a2V5LzI5OTFhNGE5LTM5YTAtNDQ0Mi04MWU4LWRkYjY4NTllMTg2MQC4AQIBAHhPj7k9zU4nGXUQUvM0Ccwk42DS-fm3vKmH75ktTrktNQG1gnjl6HkUVUYN1J_HPow6AAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMulTha32s34j2CmQWAgEQgDtog8CDFh2e-4YyjM2kB_MXheMgmrdY_IF3aN9TImZXddMBj7djEAPPduLZnG3ddBLYQa8x3T3WPKUkvwIAAAAADAAAEAAAAAAAAAAAAAAAAADCbdmpLPo0E4QkWLlyH8ov_____wAAAAEAAAAAAAAAAAAAAAEAAAC1oMtgshmuUU4fk36WHKBzPgJEoE1MmL0PFyhR9lRcimImOIObhhxvC1fwiYylgbYx0Gu0i1cp5Le8AvrAnUGEJjZp54TMPP4N-JCT3qSrHeq_Kat_2CuECVSQqkc1qH4z9FVOTvAnos4FrDSn2W6KvFfLo8YQh2LJxM1h3GdIeyYqj7Ipfk6PZKGYmV5P741rRMNcuYBtvE8Hq9gVqMbEPG-c5MppY_q9JoG9TyQRN7rVGlZf62_WtTqST2F3-DZPoXTMTyY\u0026#34;ï¼Œ \u0026#34;challengeParameters\u0026#34;: { \u0026#34;USER_ID_FOR_SRP\u0026#34;: \u0026#34;shiun\u0026#34;ï¼Œ \u0026#34;requiredAttributes\u0026#34;: \u0026#34;[]\u0026#34;ï¼Œ \u0026#34;userAttributes\u0026#34;: \u0026#34;{\\\u0026#34;email\\\u0026#34;:\\\u0026#34;xxxxx@gmail.com\\\u0026#34;}\u0026#34; } } Cognito å›å‚³äº†ä¸€å€‹ NEW_PASSWORD_REQUIRED çš„ challengeï¼ŒåŒæ™‚çµ¦äº†æˆ‘å€‘ä¸€å€‹ session tokenã€‚é€™å°±æ˜¯æˆ‘å€‘éœ€è¦è™•ç†çš„ caseã€‚\nè§£æ±ºæ–¹æ¡ˆ è¦è§£æ±ºé€™å€‹å•é¡Œï¼Œæˆ‘å€‘éœ€è¦æä¾›ä¸€å€‹ change-password çš„ API endpointï¼Œè®“ user å¯ä»¥é †åˆ©æ›´æ”¹å¯†ç¢¼ã€‚æ•´å€‹ flow å¤§è‡´å¦‚ä¸‹:\nUser é¦–æ¬¡ç™»å…¥ Cognito å›å‚³ NEW_PASSWORD_REQUIRED challenge å’Œ session token å‰ç«¯å¸¶è‘— session token å‘¼å«æˆ‘å€‘çš„ change-password API å¯†ç¢¼æ›´æ”¹æˆåŠŸï¼Œuser é †åˆ©ç™»å…¥ç³»çµ± ä»¥ä¸‹æ˜¯ä¸€å€‹è™•ç†é€™ç¨®æƒ…æ³çš„ Lambda function ç¯„ä¾‹:\nimport json import logging import boto3 from botocore.exceptions import ClientError # Initialize logger logger = logging.getLogger() logger.setLevel(logging.INFO) # Initialize Cognito client client = boto3.client(\u0026#34;cognito-idp\u0026#34;) def lambda_handler(event, context): \u0026#34;\u0026#34;\u0026#34; Handles the NEW_PASSWORD_REQUIRED challenge from Cognito \u0026#34;\u0026#34;\u0026#34; try: # Parse the request body body = json.loads(event[\u0026#34;body\u0026#34;]) # Respond to the new password required challenge response = client.respond_to_auth_challenge( ClientId=\u0026#34;YOUR_CLIENT_ID\u0026#34;, ChallengeName=\u0026#34;NEW_PASSWORD_REQUIRED\u0026#34;, Session=body[\u0026#34;session\u0026#34;], ChallengeResponses={ \u0026#34;USERNAME\u0026#34;: body[\u0026#34;username\u0026#34;], \u0026#34;NEW_PASSWORD\u0026#34;: body[\u0026#34;new_password\u0026#34;], # Add any required attributes here if necessary }, ) logger.info(\u0026#34;Cognito respond to challenge response: %s\u0026#34;, response) # Extract access token from the response access_token = response[\u0026#34;AuthenticationResult\u0026#34;][\u0026#34;AccessToken\u0026#34;] # Return successful response with the access token set in cookies return { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;headers\u0026#34;: { \u0026#34;Set-Cookie\u0026#34;: f\u0026#34;accessToken={access_token}; Path=/; Secure; HttpOnly; SameSite=None; Domain=.aws-educate.tw\u0026#34; }, \u0026#34;body\u0026#34;: json.dumps({\u0026#34;message\u0026#34;: \u0026#34;Password changed successfully\u0026#34;}), } except ClientError as e: # Handle Cognito client errors logger.error(\u0026#34;Cognito client error: %s\u0026#34;, e) return { \u0026#34;statusCode\u0026#34;: 400, \u0026#34;body\u0026#34;: json.dumps({\u0026#34;message\u0026#34;: e.response[\u0026#34;Error\u0026#34;][\u0026#34;Message\u0026#34;]}), } except json.JSONDecodeError as e: # Handle JSON decoding errors logger.error(\u0026#34;JSON decode error: %s\u0026#34;, e) return { \u0026#34;statusCode\u0026#34;: 400, \u0026#34;body\u0026#34;: json.dumps({\u0026#34;message\u0026#34;: \u0026#34;Invalid JSON format in request body\u0026#34;}), } é€™å€‹ Lambda function åšäº†ä»¥ä¸‹å¹¾ä»¶äº‹:\næ¥æ”¶åŒ…å« usernameã€new password å’Œ session token çš„ request ä½¿ç”¨ Cognito çš„ respond_to_auth_challenge API ä¾†è™•ç† NEW_PASSWORD_REQUIRED challenge å¦‚æœå¯†ç¢¼æ›´æ”¹æˆåŠŸï¼Œå¾ response ä¸­æå– access token å°‡ access token è¨­ç½®åœ¨ cookie ä¸­ï¼Œä¸¦è¿”å›æˆåŠŸè¨Šæ¯ é€éé€™æ¨£çš„è™•ç†ï¼Œæˆ‘å€‘å¯ä»¥è®“æ–°ç”¨æˆ¶é †åˆ©å®Œæˆé¦–æ¬¡ç™»å…¥æ™‚çš„å¯†ç¢¼æ›´æ”¹æµç¨‹ï¼Œæä¾›æ›´å¥½çš„ user experienceã€‚\nè¨˜å¾—ï¼Œåœ¨å¯¦éš›éƒ¨ç½²æ™‚ï¼Œè¦æ ¹æ“šä½ çš„å…·é«”éœ€æ±‚ä¾†èª¿æ•´é€™å€‹ functionï¼Œæ¯”å¦‚éŒ¯èª¤è™•ç†ã€æ—¥èªŒè¨˜éŒ„ç­‰ã€‚åŒæ™‚ï¼Œä¹Ÿè¦ç¢ºä¿å‰ç«¯èƒ½å¤ æ­£ç¢ºè™•ç†é€™å€‹æµç¨‹ï¼Œåœ¨æ”¶åˆ° NEW_PASSWORD_REQUIRED challenge æ™‚ï¼Œå¼•å°ç”¨æˆ¶åˆ°å¯†ç¢¼æ›´æ”¹çš„é é¢ã€‚\nå¸Œæœ›é€™å€‹ç¯„ä¾‹èƒ½å¹«åŠ©è®€è€…æ›´å¥½åœ°è™•ç† AWS Cognito çš„é¦–æ¬¡ç™»å…¥å¯†ç¢¼æ›´æ”¹æµç¨‹\n","permalink":"https://shiun.me/blog/aws-cognito-how-to-handle-force-change-password/","summary":"\u003ch2 id=\"æƒ…å¢ƒæè¿°\"\u003eæƒ…å¢ƒæè¿°\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/user-attachments/assets/b959f776-a2da-4561-aff2-f17016e4cc88\" alt=\"01-AWS-Cognito-User-Pool-Force-Change-Password\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eä¸Šåœ–é¡¯ç¤ºçš„æ˜¯æˆ‘å‰›åœ¨ Cognito User Pool ä¸­æ–°å¢äº†ä¸€å€‹ userï¼Œå¯ä»¥æ³¨æ„åˆ°ç®­é ­è™•é¡¯ç¤º \u003ccode\u003eForce change password\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eç•¶é€™å€‹ user å˜—è©¦é¦–æ¬¡ç™»å…¥æ™‚ï¼Œä»–å€‘æœƒé‡åˆ°é€™æ¨£çš„æƒ…æ³:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003e\u0026#34;message\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;New password required\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eï¼Œ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;challengeName\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;NEW_PASSWORD_REQUIRED\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eï¼Œ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;session\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;AYABeAsYJsR3yEr0iJssKPPUPEgAHQABAAdTZXJ2aWNlABBDb2duaXRvVXNlclBvb2xzAAEAB2F3cy1rbXMAS2Fybjphd3M6a21zOnVzLXdlc3QtMjowMTU3MzY3MjcxOTg6a2V5LzI5OTFhNGE5LTM5YTAtNDQ0Mi04MWU4LWRkYjY4NTllMTg2MQC4AQIBAHhPj7k9zU4nGXUQUvM0Ccwk42DS-fm3vKmH75ktTrktNQG1gnjl6HkUVUYN1J_HPow6AAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMulTha32s34j2CmQWAgEQgDtog8CDFh2e-4YyjM2kB_MXheMgmrdY_IF3aN9TImZXddMBj7djEAPPduLZnG3ddBLYQa8x3T3WPKUkvwIAAAAADAAAEAAAAAAAAAAAAAAAAADCbdmpLPo0E4QkWLlyH8ov_____wAAAAEAAAAAAAAAAAAAAAEAAAC1oMtgshmuUU4fk36WHKBzPgJEoE1MmL0PFyhR9lRcimImOIObhhxvC1fwiYylgbYx0Gu0i1cp5Le8AvrAnUGEJjZp54TMPP4N-JCT3qSrHeq_Kat_2CuECVSQqkc1qH4z9FVOTvAnos4FrDSn2W6KvFfLo8YQh2LJxM1h3GdIeyYqj7Ipfk6PZKGYmV5P741rRMNcuYBtvE8Hq9gVqMbEPG-c5MppY_q9JoG9TyQRN7rVGlZf62_WtTqST2F3-DZPoXTMTyY\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eï¼Œ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;challengeParameters\u0026#34;\u003c/span\u003e: {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#f92672\"\u003e\u0026#34;USER_ID_FOR_SRP\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;shiun\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eï¼Œ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;requiredAttributes\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[]\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eï¼Œ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;userAttributes\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;{\\\u0026#34;email\\\u0026#34;:\\\u0026#34;xxxxx@gmail.com\\\u0026#34;}\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eCognito å›å‚³äº†ä¸€å€‹ \u003ccode\u003eNEW_PASSWORD_REQUIRED\u003c/code\u003e çš„ challengeï¼ŒåŒæ™‚çµ¦äº†æˆ‘å€‘ä¸€å€‹ session tokenã€‚é€™å°±æ˜¯æˆ‘å€‘éœ€è¦è™•ç†çš„ caseã€‚\u003c/p\u003e\n\u003ch2 id=\"è§£æ±ºæ–¹æ¡ˆ\"\u003eè§£æ±ºæ–¹æ¡ˆ\u003c/h2\u003e\n\u003cp\u003eè¦è§£æ±ºé€™å€‹å•é¡Œï¼Œæˆ‘å€‘éœ€è¦æä¾›ä¸€å€‹ change-password çš„ API endpointï¼Œè®“ user å¯ä»¥é †åˆ©æ›´æ”¹å¯†ç¢¼ã€‚æ•´å€‹ flow å¤§è‡´å¦‚ä¸‹:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eUser é¦–æ¬¡ç™»å…¥\u003c/li\u003e\n\u003cli\u003eCognito å›å‚³ \u003ccode\u003eNEW_PASSWORD_REQUIRED\u003c/code\u003e challenge å’Œ session token\u003c/li\u003e\n\u003cli\u003eå‰ç«¯å¸¶è‘— session token å‘¼å«æˆ‘å€‘çš„ change-password API\u003c/li\u003e\n\u003cli\u003eå¯†ç¢¼æ›´æ”¹æˆåŠŸï¼Œuser é †åˆ©ç™»å…¥ç³»çµ±\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eä»¥ä¸‹æ˜¯ä¸€å€‹è™•ç†é€™ç¨®æƒ…æ³çš„ Lambda function ç¯„ä¾‹:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e json\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e logging\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e boto3\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e botocore.exceptions \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e ClientError\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Initialize logger\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elogger \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e logging\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egetLogger()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elogger\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esetLevel(logging\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eINFO)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Initialize Cognito client\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eclient \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e boto3\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eclient(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;cognito-idp\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003elambda_handler\u003c/span\u003e(event, context):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    Handles the NEW_PASSWORD_REQUIRED challenge from Cognito\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003etry\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Parse the request body\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        body \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eloads(event[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;body\u0026#34;\u003c/span\u003e])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Respond to the new password required challenge\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e client\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003erespond_to_auth_challenge(\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            ClientId\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;YOUR_CLIENT_ID\u0026#34;\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            ChallengeName\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;NEW_PASSWORD_REQUIRED\u0026#34;\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            Session\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003ebody[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;session\u0026#34;\u003c/span\u003e],\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            ChallengeResponses\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;USERNAME\u0026#34;\u003c/span\u003e: body[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;username\u0026#34;\u003c/span\u003e],\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;NEW_PASSWORD\u0026#34;\u003c/span\u003e: body[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;new_password\u0026#34;\u003c/span\u003e],\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Add any required attributes here if necessary\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        )\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        logger\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003einfo(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Cognito respond to challenge response: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, response)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Extract access token from the response\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        access_token \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;AuthenticationResult\u0026#34;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;AccessToken\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Return successful response with the access token set in cookies\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;statusCode\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e200\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;headers\u0026#34;\u003c/span\u003e: {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Set-Cookie\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;accessToken=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003eaccess_token\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e; Path=/; Secure; HttpOnly; SameSite=None; Domain=.aws-educate.tw\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;body\u0026#34;\u003c/span\u003e: json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edumps({\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;message\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Password changed successfully\u0026#34;\u003c/span\u003e}),\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eexcept\u003c/span\u003e ClientError \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Handle Cognito client errors\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        logger\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eerror(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Cognito client error: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;statusCode\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e400\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;body\u0026#34;\u003c/span\u003e: json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edumps({\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;message\u0026#34;\u003c/span\u003e: e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Error\u0026#34;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Message\u0026#34;\u003c/span\u003e]}),\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eexcept\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eJSONDecodeError \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Handle JSON decoding errors\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        logger\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eerror(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;JSON decode error: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;statusCode\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e400\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;body\u0026#34;\u003c/span\u003e: json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edumps({\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;message\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Invalid JSON format in request body\u0026#34;\u003c/span\u003e}),\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eé€™å€‹ Lambda function åšäº†ä»¥ä¸‹å¹¾ä»¶äº‹:\u003c/p\u003e","title":"å¦‚ä½•ä½¿ç”¨ Lambda è™•ç† AWS Cognito User é¦–æ¬¡ç™»å…¥è¢«ç³»çµ±è¦æ±‚å¼·åˆ¶è®Šæ›´å¯†ç¢¼"},{"content":"åœ¨ AWS API Gateway å‰µå»º method æ™‚ï¼Œæˆ‘å€‘å¯ä»¥æŒ‡å®šä»–è¦æŠŠè«‹æ±‚å‚³åˆ°å“ªå€‹ AWS æœå‹™æˆ–æ˜¯å…¶ä»– HTTP Endpoint\u0026hellip;ç­‰ç­‰ï¼Œè€Œå¦‚æœä½ é¸æ“‡ Lambdaï¼Œä½ æœƒçœ‹åˆ°æœ‰ä¸€å€‹é¸é …æ˜¯ Lambda Proxy Integrationï¼Œé‚£æˆ‘æŠŠå®ƒå‹¾é¸èµ·ä¾†æœƒæ€æ¨£å‘¢ï¼Ÿ\nTL;DR å¦‚æœæœ‰æ‰“é–‹ Lambda Proxy Integrationï¼Œæ¥è‘—æˆ‘å€‘åˆ°é‚£å€‹ Resource çš„ Method é é¢çœ‹ä¸€ä¸‹ï¼Œæœƒçœ‹åˆ°ä¸‹åœ–çš„æç¤º Proxy integration For proxy integrations, API Gateway automatically passes the backend output to the caller as the complete payload.\nä½†ä¹Ÿè¨±æ²’æœ‰å¾ˆå¥½ç†è§£ï¼Œæ‰€ä»¥æˆ‘å€‘å¾Œé¢æœƒå¯¦éš›æ‰“ Code ä¾†ç¤ºç¯„ï¼Œä½†æˆ‘é€™é‚Šå…ˆç¨å¾®è§£é‡‹ä¸€ä¸‹æ‰“é–‹é€™å€‹åŠŸèƒ½çš„å½±éŸ¿:\nå®Œæ•´çš„ HTTP è«‹æ±‚è³‡è¨Šï¼šå•Ÿç”¨ Lambda Proxy Integration å¾Œï¼ŒAPI Gateway æœƒå°‡æ•´å€‹ HTTP è«‹æ±‚æ‰“åŒ…æˆå–®ä¸€çš„ event objectï¼Œä¸¦å‚³éçµ¦ Lambda Function ç°¡åŒ–çš„è™•ç†æµç¨‹ï¼šLambda Function æ¥æ”¶åˆ°çš„æ˜¯ä¸€å€‹åŒ…å«äº†æ‰€æœ‰è«‹æ±‚è³‡è¨Šçš„ event objectï¼Œå› æ­¤ä¸éœ€è¦å†é€šéæ¨¡æ¿æˆ–è½‰æ›å°±å¯ä»¥ç›´æ¥è™•ç†è«‹æ±‚ã€‚é€™æ¨£ç°¡åŒ–äº†å‡½æ•¸çš„è¼¸å…¥è™•ç†ï¼Œå› ç‚º Lambda Function å·²ç¶“åŒ…å«äº†æ‰€æœ‰å¿…è¦çš„è«‹æ±‚è³‡è¨Š æ§åˆ¶ HTTP Responseï¼šLambda Function éœ€è¦è¿”å›ä¸€å€‹ç‰¹å®šæ ¼å¼çš„ç‰©ä»¶ï¼Œé€™å€‹ç‰©ä»¶åŒ…æ‹¬ Status Codeã€Response Headers å’Œ Response Bodyã€‚ç”±æ–¼ Response æ˜¯ç›´æ¥ç”± Lambda Function ç”Ÿæˆçš„ï¼Œæ‰€ä»¥é–‹ç™¼è€…å¯ä»¥å®Œå…¨æ§åˆ¶ Response çš„æ ¼å¼å’Œå…§å®¹ æ•ˆèƒ½å’Œæˆæœ¬æ•ˆç›Šï¼šç”±æ–¼è«‹æ±‚è™•ç†çš„éç¨‹æ›´åŠ ç›´æ¥ï¼Œæ¸›å°‘äº†ä¸­é–“çš„è™•ç†å’Œè½‰æ›æ­¥é©Ÿï¼Œå¯ä»¥æé«˜è™•ç†æ•ˆç‡ï¼Œå¯èƒ½ä¹Ÿæœƒåœ¨æŸç¨®ç¨‹åº¦ä¸Šé™ä½æˆæœ¬ ç¸½ä¹‹ï¼Œé¸æ“‡ Lambda Proxy Integration å¯ä»¥ä½¿å¾—èˆ‡ AWS Lambda çš„æ•´åˆæ›´åŠ ç·Šå¯†ã€ç›´æ¥å’Œé«˜æ•ˆã€‚é€™é©åˆéœ€è¦ç²¾ç´°æ§åˆ¶ HTTP éŸ¿æ‡‰çš„å ´æ™¯ï¼Œæˆ–è€…å¸Œæœ›ç°¡åŒ– API èˆ‡ Lambda ä¹‹é–“äº¤äº’çš„æ¶æ§‹è¨­è¨ˆ\nä¾†çœ‹å¯¦éš›çš„ä¾‹å­å…ˆä¾†æ„Ÿå—æœ‰ç„¡é–‹å•Ÿçš„è¡Œç‚ºå·®ç•° æˆ‘ç¾åœ¨å‰µå»ºäº†å…©å€‹ API Gateway -\u0026gt; Lambda çš„çµ„åˆ:\nä½¿ç”¨ Proxy Integration ä¸ä½¿ç”¨ Proxy Integration è€Œç¨‹å¼ç¢¼ç›®å‰éƒ½æ˜¯:\nimport json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } æ¥è‘—æˆ‘å€‘åˆ†åˆ¥èª¿ç”¨çœ‹çœ‹é€™å…©æ”¯ API\nWith Lambda Proxy Integration # With Lambda Proxy Integration $ curl -X GET \u0026#34;https://m13nrn7ks1.execute-api.us-west-2.amazonaws.com/dev\u0026#34; \u0026#34;Hello from Lambda!\u0026#34; Non Lambda Proxy Integration # Non Lambda Proxy Integration $ curl -X GET https://byjlq9pv48.execute-api.us-west-2.amazonaws.com/dev/ {\u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;\\\u0026#34;Hello from Lambda!\\\u0026#34;\u0026#34;} å¯ä»¥æ³¨æ„åˆ°ï¼Œå›å‚³çš„æ ¼å¼ä¸å¤ªä¸€æ¨£ï¼Œå‰è€…æ˜¯å›å‚³å–®ç´”çš„å­—ä¸²ï¼Œå¾Œè€…æ‰æ˜¯åŒ…åœ¨ Json ç‰©ä»¶å…§è€Œä¸”é‚„å¤šäº† statusCode åœ¨ Response Bodyï¼Œå…·é«”åŸå› å¾Œé¢æœƒè§£é‡‹\nä¿®æ”¹ Lambda Function å…§ Return çš„ Status Code æˆ‘å€‘ç·Šæ¥è‘—ä¾†æ”¹ä¸€ä¸‹ Lambda Function çš„ç¨‹å¼ç¢¼ï¼Œæˆ‘æŠŠ statusCode æ”¹æˆ 400ï¼Œæ‰€ä»¥ç¾åœ¨çš„å®Œæ•´ç¨‹å¼ç¢¼å¦‚ä¸‹:\nimport json def lambda_handler(event, context): # TODO implement return { \u0026#39;statusCode\u0026#39;: 400, # ä¿®æ”¹é€™è¡Œ \u0026#39;body\u0026#39;: json.dumps(\u0026#39;Hello from Lambda!\u0026#39;) } ä¸€æ¨£æˆ‘ä¾åºèª¿ç”¨ APIï¼Œä½†æ˜¯æˆ‘é€™é‚Šæ”¹æˆç”¨ Postman å»èª¿ç”¨ï¼Œé€™æ¨£æ¯”è¼ƒå¥½é–±è®€å’Œè§€è¦½ï¼Œè«‹å¹«æˆ‘æ³¨æ„ä¸‹é¢å…©å¼µåœ–ç‰‡çš„ç´…æ¡†è™•:\nWith Lambda Proxy Integration Non Lambda Proxy Integration æ³¨æ„åˆ°äº†å—ï¼Ÿæœ‰æ²’æœ‰æ‰“é–‹ Lambda Proxy Integration å…¶è¡Œç‚ºå·®ç•°æœƒå¦‚æ­¤å¤§ï¼Œè‹¥æœ‰é–‹å•Ÿ Lambda Proxy Integrationï¼Œé‚£ä»–æœƒç›´æ¥æŠŠä½ åœ¨ Function å…§è¨­å®šçš„ statusCode æ˜ å°„åˆ° Response çš„ Status Codeï¼›è€Œæ²’æœ‰é–‹å•Ÿçš„è©±ï¼Œä»–æœƒæŠŠä½ çš„ statusCode åŒ…åœ¨ Response Body å…§ï¼Œé€™æ¨£çš„è¡Œç‚ºæ˜¯ä¸æ˜¯å¾ˆä¸ç›´è¦ºå‘¢ï¼Ÿ\nåŠ å…¥ Query Parameters æ¥è‘—æˆ‘ç¾åœ¨è¦åœ¨ API èª¿ç”¨æ™‚ï¼ŒåŠ ä¸Š Query Parameter name=Shiunï¼Œä¸¦ä¸”æˆ‘ä¹Ÿä¿®æ”¹äº†ç¨‹å¼ç¢¼:\nimport json def lambda_handler(event, context): name = event[\u0026#34;queryStringParameters\u0026#34;][\u0026#34;name\u0026#34;] # å¾ evnet object å–å¾— Query Parameter return { \u0026#39;statusCode\u0026#39;: 200, # æ”¹å› 200 \u0026#39;body\u0026#39;: json.dumps(f\u0026#39;Hello {name}!\u0026#39;) } ä¸€æ¨£æˆ‘å†æ¬¡åˆ†åˆ¥èª¿ç”¨å…©æ”¯ API\nWith Lambda Proxy Integration Non Lambda Proxy Integration å¯ä»¥æ³¨æ„åˆ°ï¼Œæœ‰ä½¿ç”¨ Lambda Proxy Integration çš„æ­£ç¢ºæ¥åˆ°å€¼äº†ï¼›è€Œå¦ä¸€å€‹æ²’æœ‰é–‹å•Ÿçš„å‰‡å‡ºç¾éŒ¯èª¤ï¼ŒéŒ¯èª¤å¾ˆæ˜é¡¯å°±æ˜¯ä»–æ‰¾ä¸åˆ°å°æ‡‰çš„ Key\nåŠ å…¥è‡ªå®šç¾© Header æ¥ä¸‹ä¾†æˆ‘è¦åœ¨Lambda Function ä¸­ return è‡ªå®šç¾©çš„ Header: X-Shiun-Custom-Header\u0026quot; : \u0026quot;test\u0026quot;\nä¹Ÿæ˜¯ä¸€æ¨£ï¼Œæˆ‘æœƒåˆ†åˆ¥èª¿ç”¨é€™å…©æ”¯ APIï¼Œæˆ‘å€‘ä¾†è§€å¯Ÿ Response Headers\nWith Lambda Proxy Integration Non Lambda Proxy Integration è§€å¯Ÿåˆ°å…©è€…çš„å·®ç•°äº†å—ï¼Ÿæœ‰å•Ÿç”¨ Lambda Proxy Integration çš„é‚£æ”¯ API æœƒçœ‹åˆ° Response Headers è£¡é¢çœŸçš„æœ‰å›å‚³ X-Shiun-Custom-Header\u0026quot; : \u0026quot;test\u0026quot;\nLambda Proxy Integration çš„å·¥ä½œåŸç† åˆ°åº•æ˜¯ä»€éº¼åŸå› æœƒå‡ºç¾é€™æ¨£çš„è¡Œç‚ºå·®ç•°å‘¢ï¼Ÿæ‰€ä»¥æˆ‘å€‘ä¾†çœ‹çœ‹ Lambda Proxy Integration çš„å·¥ä½œåŸç†\nå•Ÿç”¨ Lambda Proxy Integration å¾Œï¼ŒAPI Gateway æœƒå°‡æ•´å€‹ HTTP è«‹æ±‚(åŒ…æ‹¬request headers, query string parameters, URL path variables, payload å’Œ API configuration data) æ‰“åŒ…æˆå–®ä¸€çš„ event objectï¼Œä¸¦å‚³éçµ¦ Lambda å‡½æ•¸ã€‚é€™ä¹Ÿè§£é‡‹ç‚ºä»€éº¼æˆ‘ call API å¦‚æœå¸¶äº† Query Param ï¼Œæˆ‘ä½¿ç”¨é€™ç¨®å¯«æ³• name = event[\u0026quot;queryStringParameters\u0026quot;][\u0026quot;name\u0026quot;] èƒ½æŠ“åˆ° API è«‹æ±‚çš„ Query Parameter\nè€Œé€™å€‹ event object å¯¦éš›é•·é€™æ¨£:\n{ \u0026#34;resource\u0026#34;: \u0026#34;/my/path\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;/my/path\u0026#34;, \u0026#34;httpMethod\u0026#34;: \u0026#34;GET\u0026#34;, \u0026#34;headers\u0026#34;: { \u0026#34;header1\u0026#34;: \u0026#34;value1\u0026#34;, \u0026#34;header2\u0026#34;: \u0026#34;value1,value2\u0026#34; }, \u0026#34;multiValueHeaders\u0026#34;: { \u0026#34;header1\u0026#34;: [ \u0026#34;value1\u0026#34; ], \u0026#34;header2\u0026#34;: [ \u0026#34;value1\u0026#34;, \u0026#34;value2\u0026#34; ] }, \u0026#34;queryStringParameters\u0026#34;: { \u0026#34;parameter1\u0026#34;: \u0026#34;value1,value2\u0026#34;, \u0026#34;parameter2\u0026#34;: \u0026#34;value\u0026#34; }, \u0026#34;multiValueQueryStringParameters\u0026#34;: { \u0026#34;parameter1\u0026#34;: [ \u0026#34;value1\u0026#34;, \u0026#34;value2\u0026#34; ], \u0026#34;parameter2\u0026#34;: [ \u0026#34;value\u0026#34; ] }, \u0026#34;requestContext\u0026#34;: { \u0026#34;accountId\u0026#34;: \u0026#34;123456789012\u0026#34;, \u0026#34;apiId\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;authorizer\u0026#34;: { \u0026#34;claims\u0026#34;: null, \u0026#34;scopes\u0026#34;: null }, \u0026#34;domainName\u0026#34;: \u0026#34;id.execute-api.us-east-1.amazonaws.com\u0026#34;, \u0026#34;domainPrefix\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;extendedRequestId\u0026#34;: \u0026#34;request-id\u0026#34;, \u0026#34;httpMethod\u0026#34;: \u0026#34;GET\u0026#34;, \u0026#34;identity\u0026#34;: { \u0026#34;accessKey\u0026#34;: null, \u0026#34;accountId\u0026#34;: null, \u0026#34;caller\u0026#34;: null, \u0026#34;cognitoAuthenticationProvider\u0026#34;: null, \u0026#34;cognitoAuthenticationType\u0026#34;: null, \u0026#34;cognitoIdentityId\u0026#34;: null, \u0026#34;cognitoIdentityPoolId\u0026#34;: null, \u0026#34;principalOrgId\u0026#34;: null, \u0026#34;sourceIp\u0026#34;: \u0026#34;IP\u0026#34;, \u0026#34;user\u0026#34;: null, \u0026#34;userAgent\u0026#34;: \u0026#34;user-agent\u0026#34;, \u0026#34;userArn\u0026#34;: null, \u0026#34;clientCert\u0026#34;: { \u0026#34;clientCertPem\u0026#34;: \u0026#34;CERT_CONTENT\u0026#34;, \u0026#34;subjectDN\u0026#34;: \u0026#34;www.example.com\u0026#34;, \u0026#34;issuerDN\u0026#34;: \u0026#34;Example issuer\u0026#34;, \u0026#34;serialNumber\u0026#34;: \u0026#34;a1:a1:a1:a1:a1:a1:a1:a1:a1:a1:a1:a1:a1:a1:a1:a1\u0026#34;, \u0026#34;validity\u0026#34;: { \u0026#34;notBefore\u0026#34;: \u0026#34;May 28 12:30:02 2019 GMT\u0026#34;, \u0026#34;notAfter\u0026#34;: \u0026#34;Aug 5 09:36:04 2021 GMT\u0026#34; } } }, \u0026#34;path\u0026#34;: \u0026#34;/my/path\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;HTTP/1.1\u0026#34;, \u0026#34;requestId\u0026#34;: \u0026#34;id=\u0026#34;, \u0026#34;requestTime\u0026#34;: \u0026#34;04/Mar/2020:19:15:17 +0000\u0026#34;, \u0026#34;requestTimeEpoch\u0026#34;: 1583349317135, \u0026#34;resourceId\u0026#34;: null, \u0026#34;resourcePath\u0026#34;: \u0026#34;/my/path\u0026#34;, \u0026#34;stage\u0026#34;: \u0026#34;$default\u0026#34; }, \u0026#34;pathParameters\u0026#34;: null, \u0026#34;stageVariables\u0026#34;: null, \u0026#34;body\u0026#34;: \u0026#34;Hello from Lambda!\u0026#34;, \u0026#34;isBase64Encoded\u0026#34;: false } æ­¤å¤–ï¼Œå•Ÿç”¨ Lambda Proxy Integrationï¼Œä½ ä¹Ÿå¿…é ˆéµå®ˆç‰¹å®šçš„ Output Formatï¼Œä½ æ‰èƒ½æ­£ç¢ºåœ°æŠŠ Response å‚³éå‡ºå»:\n{ \u0026#34;isBase64Encoded\u0026#34;: true|false, \u0026#34;statusCode\u0026#34;: httpStatusCode, \u0026#34;headers\u0026#34;: { \u0026#34;headerName\u0026#34;: \u0026#34;headerValue\u0026#34;, ... }, \u0026#34;multiValueHeaders\u0026#34;: { \u0026#34;headerName\u0026#34;: [\u0026#34;headerValue\u0026#34;, \u0026#34;headerValue2\u0026#34;, ...], ... }, \u0026#34;body\u0026#34;: \u0026#34;...\u0026#34; } æ‰€ä»¥é€™é‚Šä¹Ÿè§£é‡‹äº†ï¼Œç‚ºä»€éº¼è¨­å®šå¥½ statusCodeã€headersï¼Œæˆ‘å°±èƒ½æ§åˆ¶æ•´å€‹ Response å›æ‡‰çš„ Status Code å’Œ Headersï¼Œé€™ä¸­é–“éƒ½æ˜¯å› ç‚ºæœ‰äº† Lambda Proxy Integration å¹«æˆ‘å€‘ç°¡åŒ–äº†é€™ä¸­é–“ç¹é›œçš„é…ç½®ï¼Œå¦‚æœæ²’æœ‰ Lambda Proxy Integrationï¼Œé‚£æˆ‘å€‘å°±å¿…é ˆæ‰‹å‹•å» API Gateway é‚£é‚Šè¨­å®š Mapping Templateï¼Œé…ç½®èµ·ä¾†ç›¸ç•¶éº»ç…©ã€‚\né‚£æˆ‘åˆ°åº•è¦ä¸è¦æ‰“é–‹ Lambda Proxy Integration? æˆ‘æœƒé«˜åº¦æ¨è–¦æ‰“é–‹ï¼Œå› ç‚ºä½ å¯ä»¥åœ¨ç¨‹å¼ç¢¼é‚£é‚Šæ§åˆ¶ Responseï¼Œé€™æˆ‘ä¸èªç‚ºä¸åªæ˜¯ã€Œç°¡åŒ–ã€ï¼Œè€Œæ˜¯ã€Œå¤§å¤§é™ä½ç®¡ç†è¤‡é›œåº¦ã€ï¼Œæˆ‘èªç‚ºé€™æ˜¯ä¸€å€‹æ›´ä½³çš„ç®¡ç†æ–¹å¼ (é€™é‚Šæ˜¯æˆ‘çš„ä¸»è§€æ„Ÿå—ï¼Œä¸¦ä¸ä»£è¡¨å®Œå…¨æ­£ç¢º)ã€‚\nç”šè‡³æœ‰æ™‚å€™æˆ‘éƒ½æœƒç›´æ¥æœæ–·å•Ÿç”¨ Lambda Proxy Integrationï¼Œç„¶å¾Œåœ¨ API Gateway å¾Œé¢åŠ ä¸€å±¤ Lambda å°ˆé–€åšåƒæ•¸é©—è­‰å†è½‰ç™¼åˆ°å¯¦éš›å¾Œç«¯çš„ Lambda Functionï¼Œè€Œéé¸æ“‡åœ¨ API Gateway é‚£é‚Šåšè«‹æ±‚é è™•ç†æˆ–æ˜¯åƒæ•¸é©—è­‰ã€‚ä½†å¯¦éš›ä»éœ€è¦ä»¥æœ¬èº«çš„æ¥­å‹™éœ€æ±‚å»æŒ‘å‡ºæœ€ä½³çš„è§£æ±ºæ–¹æ¡ˆï¼Œé€™é‚Šåªæ˜¯æä¾›ä¸€å€‹æˆ‘èªç‚ºå°é–‹ç™¼äººå“¡å¾ˆå‹å–„çš„è™•ç†æ–¹å¼ï¼Œè€Œä¸”é€™ç¨®æ–¹å¼ä½ ä¹Ÿå¯ä»¥åœ¨ç¨‹å¼ç¢¼å…§åšå‡ºé«˜åº¦å®¢è£½åŒ–\nç¸½è€Œè¨€ä¹‹ï¼Œå¦‚æœä½ æ²’æœ‰ä½¿ç”¨ Lambda Proxy Integrationï¼Œå‰‡éœ€è¦åœ¨ API Gateway ä¸­é…ç½®é¡å¤–çš„è½‰æ›æ¨¡æ¿ä¾†è™•ç†è¼¸å…¥å’Œè¼¸å‡ºæ ¼å¼ã€‚\nå¸Œæœ›é€™ç¯‡æ–‡ç« æœ‰å¹«åŠ©ä½ æ›´åŠ äº†è§£ Lambda Proxy Integration çš„åŠŸèƒ½å’Œè¡Œç‚ºï¼Œä¸¦ä¸”èƒ½å¤ åœ¨å¯¦éš›æ‡‰ç”¨ä¸­æ›´å¥½åœ°ä½¿ç”¨é€™å€‹åŠŸèƒ½ï¼\nResources Using AWS API Gateway as Proxy to other HTTP Endpoints Set up Lambda proxy integrations in API Gateway - Amazon API Gateway ","permalink":"https://shiun.me/blog/understanding-lambda-proxy-integration/","summary":"\u003cp\u003eåœ¨ AWS API Gateway å‰µå»º method æ™‚ï¼Œæˆ‘å€‘å¯ä»¥æŒ‡å®šä»–è¦æŠŠè«‹æ±‚å‚³åˆ°å“ªå€‹ AWS æœå‹™æˆ–æ˜¯å…¶ä»– HTTP Endpoint\u0026hellip;ç­‰ç­‰ï¼Œè€Œå¦‚æœä½ é¸æ“‡ Lambdaï¼Œä½ æœƒçœ‹åˆ°æœ‰ä¸€å€‹é¸é …æ˜¯ Lambda Proxy Integrationï¼Œé‚£æˆ‘æŠŠå®ƒå‹¾é¸èµ·ä¾†æœƒæ€æ¨£å‘¢ï¼Ÿ\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/95b1fe3d-a93c-4563-80bb-36ad8ff3b6c8\" alt=\"image\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"tldr\"\u003eTL;DR\u003c/h2\u003e\n\u003cp\u003eå¦‚æœæœ‰æ‰“é–‹ Lambda Proxy Integrationï¼Œæ¥è‘—æˆ‘å€‘åˆ°é‚£å€‹ Resource çš„ Method é é¢çœ‹ä¸€ä¸‹ï¼Œæœƒçœ‹åˆ°ä¸‹åœ–çš„æç¤º\n\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/47c6b110-9431-4181-b584-9ab14db865c5\" alt=\"image\"  /\u003e\n\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eProxy integration\u003c/strong\u003e\nFor proxy integrations, API Gateway automatically passes the backend output to the caller as the complete payload.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eä½†ä¹Ÿè¨±æ²’æœ‰å¾ˆå¥½ç†è§£ï¼Œæ‰€ä»¥æˆ‘å€‘å¾Œé¢æœƒå¯¦éš›æ‰“ Code ä¾†ç¤ºç¯„ï¼Œä½†æˆ‘é€™é‚Šå…ˆç¨å¾®è§£é‡‹ä¸€ä¸‹æ‰“é–‹é€™å€‹åŠŸèƒ½çš„å½±éŸ¿:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eå®Œæ•´çš„ HTTP è«‹æ±‚è³‡è¨Š\u003c/strong\u003eï¼šå•Ÿç”¨ Lambda Proxy Integration å¾Œï¼ŒAPI Gateway æœƒå°‡æ•´å€‹ HTTP è«‹æ±‚æ‰“åŒ…æˆå–®ä¸€çš„ \u003ca href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html#api-gateway-simple-proxy-for-lambda-input-format\"\u003eevent object\u003c/a\u003eï¼Œä¸¦å‚³éçµ¦ Lambda Function\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eç°¡åŒ–çš„è™•ç†æµç¨‹\u003c/strong\u003eï¼šLambda Function æ¥æ”¶åˆ°çš„æ˜¯ä¸€å€‹åŒ…å«äº†æ‰€æœ‰è«‹æ±‚è³‡è¨Šçš„ event objectï¼Œå› æ­¤ä¸éœ€è¦å†é€šéæ¨¡æ¿æˆ–è½‰æ›å°±å¯ä»¥ç›´æ¥è™•ç†è«‹æ±‚ã€‚é€™æ¨£ç°¡åŒ–äº†å‡½æ•¸çš„è¼¸å…¥è™•ç†ï¼Œå› ç‚º Lambda Function å·²ç¶“åŒ…å«äº†æ‰€æœ‰å¿…è¦çš„è«‹æ±‚è³‡è¨Š\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ§åˆ¶ HTTP Response\u003c/strong\u003eï¼šLambda Function éœ€è¦è¿”å›ä¸€å€‹ç‰¹å®šæ ¼å¼çš„ç‰©ä»¶ï¼Œé€™å€‹ç‰©ä»¶åŒ…æ‹¬ Status Codeã€Response Headers å’Œ Response Bodyã€‚ç”±æ–¼ Response æ˜¯ç›´æ¥ç”± Lambda Function ç”Ÿæˆçš„ï¼Œæ‰€ä»¥é–‹ç™¼è€…å¯ä»¥å®Œå…¨æ§åˆ¶ Response çš„æ ¼å¼å’Œå…§å®¹\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ•ˆèƒ½å’Œæˆæœ¬æ•ˆç›Š\u003c/strong\u003eï¼šç”±æ–¼è«‹æ±‚è™•ç†çš„éç¨‹æ›´åŠ ç›´æ¥ï¼Œæ¸›å°‘äº†ä¸­é–“çš„è™•ç†å’Œè½‰æ›æ­¥é©Ÿï¼Œå¯ä»¥æé«˜è™•ç†æ•ˆç‡ï¼Œå¯èƒ½ä¹Ÿæœƒåœ¨æŸç¨®ç¨‹åº¦ä¸Šé™ä½æˆæœ¬\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eç¸½ä¹‹ï¼Œé¸æ“‡ Lambda Proxy Integration å¯ä»¥ä½¿å¾—èˆ‡ AWS Lambda çš„æ•´åˆæ›´åŠ ç·Šå¯†ã€ç›´æ¥å’Œé«˜æ•ˆã€‚é€™é©åˆéœ€è¦ç²¾ç´°æ§åˆ¶ HTTP éŸ¿æ‡‰çš„å ´æ™¯ï¼Œæˆ–è€…å¸Œæœ›ç°¡åŒ– API èˆ‡ Lambda ä¹‹é–“äº¤äº’çš„æ¶æ§‹è¨­è¨ˆ\u003c/p\u003e","title":"æ·±åº¦è§£æ AWS API Gateway çš„ Lambda Proxy Integration åŠŸèƒ½"},{"content":" Terraform Import ç°¡ä»‹ Terraform Import æ˜¯ Terraform ä¸­çš„ä¸€å€‹åŠŸèƒ½ï¼Œå…è¨±ä½ å°‡ç¾æœ‰çš„åŸºç¤è¨­æ–½è³‡æºå°å…¥åˆ° Terraform çš„ç‹€æ…‹æ–‡ä»¶ä¸­ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥å°‡å·²æœ‰çš„åŸºç¤è¨­æ–½èˆ‡ Terraform çš„é…ç½®æ–‡ä»¶åŒæ­¥ï¼Œä¸¦é–‹å§‹ä½¿ç”¨ Terraform ä¾†ç®¡ç†é€™äº›è³‡æº\nä»€éº¼æ™‚å€™éœ€è¦ç”¨åˆ° terraform importï¼Ÿ terraform import ä¸¦ä¸æ˜¯ä¸€å€‹è‡ªå‹•åµæ¸¬ AWS è³‡æºä¸Šçš„æ±è¥¿ï¼Œç„¶å¾Œè‡ªå‹•å¹«å¿™å¯«ç¨‹å¼ç¢¼çš„å·¥å…· å¦‚æœä½ ä»¥å‰æ²’æœ‰ä½¿ç”¨ä»»ä½• IaC çš„å·¥å…·ï¼Œéƒ½æ˜¯ç›´æ¥åœ¨ AWS Console ä¸Šç®¡ç†å’Œå‰µå»ºè³‡æºï¼Œä½†ç¾åœ¨æƒ³è¦å°å…¥ IaCï¼Œç„¶å¾ŒæŠŠé‚£äº›ã€Œç¾æœ‰è³‡æºã€å°å…¥åˆ° Terraform ä¾†ç®¡ç†ï¼Œé‚£ä½ å°±æœƒéœ€è¦ç”¨åˆ° terraform import\nterraform import çš„ä¸»è¦ç›®çš„æ˜¯å°‡å·²ç¶“å­˜åœ¨çš„åŸºç¤è¨­æ–½è³‡æºå°å…¥åˆ° Terraform çš„ç‹€æ…‹æ–‡ä»¶ä¸­ï¼Œé€™æ¨£ä½ å°±å¯ä»¥ç”¨ Terraform ä¾†ç®¡ç†é€™äº›è³‡æºã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€å€‹å·²ç¶“å­˜åœ¨çš„ AWS EC2 å¯¦ä¾‹ï¼Œè€Œä½ ç¾åœ¨æƒ³é–‹å§‹ç”¨ Terraform ä¾†ç®¡ç†å®ƒï¼Œä½ éœ€è¦å°å…¥é€™å€‹å¯¦ä¾‹ä»¥ä¾¿ Terraform çŸ¥é“å®ƒçš„å­˜åœ¨å’Œç•¶å‰ç‹€æ…‹\nSynopsis $ terraform import [options] ADDRESS ID ADDRESS æ˜¯ Terraform é…ç½®ä¸­è³‡æºçš„åœ°å€ã€‚ä¾‹å¦‚ï¼Œaws_instance.my_instance ID æ˜¯è³‡æºçš„å”¯ä¸€æ¨™è­˜ç¬¦ï¼Œé€™å€‹å€¼æ ¹æ“šä¸åŒçš„è³‡æºé¡å‹æœƒæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼Œå°æ–¼ AWS EC2 å¯¦ä¾‹ï¼Œé€™å€‹ ID æ˜¯å¯¦ä¾‹çš„ IDï¼ˆä¾‹å¦‚ i-1234567890abcdef0ï¼‰ Example $ terraform import aws_instance.my_instance i-1234567890abcdef0 data.aws_region.current: Reading... data.aws_availability_zones.available: Reading... data.aws_ami.ubuntu: Reading... aws_instance.aws_linux: Import prepared! Prepared aws_instance for import aws_instance.aws_linux: Refreshing state... [id=i-00066e5627229c90e] data.aws_region.current: Read complete after 0s [id=us-east-1] data.aws_availability_zones.available: Read complete after 1s [id=us-east-1] data.aws_ami.ubuntu: Read complete after 1s [id=ami-0f81732f07ce19b1c] Import successful! The resources that were imported are shown above. These resources are now in your Terraform state and will henceforth be managed by Terraform. Hands-on åˆ° AWS Console å‰µå»ºè³‡æº\næˆ‘é€™é‚Šå‰µå»ºäº†ä¸€å° EC2 Instance\næ¥è‘—åœ¨ main.tf åŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼:\nresource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { } æ‰“é–‹ Terminal ä½¿ç”¨ terraform import ä¾† import ç¾æœ‰çš„è³‡æº\n$ terraform import aws_instance.aws_linux i-00066e5627229c90e data.aws_region.current: Reading... data.aws_availability_zones.available: Reading... data.aws_ami.ubuntu: Reading... aws_instance.aws_linux: Import prepared! Prepared aws_instance for import aws_instance.aws_linux: Refreshing state... [id=i-00066e5627229c90e] data.aws_region.current: Read complete after 0s [id=us-east-1] data.aws_availability_zones.available: Read complete after 1s [id=us-east-1] data.aws_ami.ubuntu: Read complete after 1s [id=ami-0f81732f07ce19b1c] Import successful! The resources that were imported are shown above. These resources are now in your Terraform state and will henceforth be managed by Terraform. ç”¨ terraform state list æŸ¥çœ‹ä¸€ä¸‹ç¾åœ¨çš„ stateï¼Œæœƒçœ‹åˆ°æˆ‘å€‘çš„ aws_instance.aws_linux\nè¼¸å…¥çœ‹çœ‹ terraform plan :\n$ terrafomr plan â•· â”‚ Error: Missing required argument â”‚ â”‚ with aws_instance.aws_linux, â”‚ on main.tf line 263, in resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34;: â”‚ 263: resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { â”‚ â”‚ \u0026#34;launch_template\u0026#34;: one of `ami,instance_type,launch_template` must be specified â•µ â•· â”‚ Error: Missing required argument â”‚ â”‚ with aws_instance.aws_linux, â”‚ on main.tf line 263, in resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34;: â”‚ 263: resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { â”‚ â”‚ \u0026#34;ami\u0026#34;: one of `ami,launch_template` must be specified â•µ â•· â”‚ Error: Missing required argument â”‚ â”‚ with aws_instance.aws_linux, â”‚ on main.tf line 263, in resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34;: â”‚ 263: resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { â”‚ â”‚ \u0026#34;instance_type\u0026#34;: one of `instance_type,launch_template` must be specified å‡ºç¾ ERROR å¾ˆæ­£å¸¸ï¼Œç•¢ç«Ÿå°±æ˜¯çœ‹è‘—æˆ‘å€‘çš„ç¨‹å¼ç¢¼å»åŸ·è¡Œè©²æŒ‡ä»¤ï¼Œè€Œæˆ‘å€‘çš„ resource \u0026quot;aws_instance\u0026quot; \u0026quot;aws_linux\u0026quot; {} è£¡é¢éƒ½æ²’é…ç½®ä»»ä½•åƒæ•¸ç•¶ç„¶æœƒå‡ºéŒ¯ï¼Œè¦è§£æ±ºå¯ä»¥ç”¨ terraform state show ä¾†è™•ç†ï¼ŒæŠŠé€™å€‹è³‡æºçš„è©³ç´°è³‡è¨Šé…ç½®åˆ°æˆ‘å€‘ç¨‹å¼ç¢¼ï¼Œå› ç‚ºæˆ‘å€‘å·²ç¶“çŸ¥é“ä»–è¢«å¯«å…¥ state\nä½¿ç”¨ terraform state show ä¾†æŸ¥çœ‹è³‡æºçš„è©³ç´°è³‡è¨Š:\n$ terraform state show aws_instance.aws_linux # aws_instance.aws_linux: resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { ami = \u0026#34;ami-00beae93a2d981137\u0026#34; arn = \u0026#34;arn:aws:ec2:us-east-1:058264428816:instance/i-00066e5627229c90e\u0026#34; associate_public_ip_address = true availability_zone = \u0026#34;us-east-1b\u0026#34; cpu_core_count = 1 cpu_threads_per_core = 1 disable_api_stop = false disable_api_termination = false ebs_optimized = false get_password_data = false hibernation = false host_id = null # ç•¥... ç„¶å¾Œæ ¹æ“šä¸Šé¢é¢ terraform state show è¼¸å‡ºçš„çµæœæŠŠç¨‹å¼ç¢¼æ”¹æˆå¦‚ä¸‹:\n# main.tf resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { instance_type = \u0026#34;t2.micro\u0026#34; ami = \u0026#34;ami-00beae93a2d981137\u0026#34; } æ¥è‘—å†è¼¸å…¥ terraform plan å°±ä¸æœƒå ±éŒ¯äº†ï¼Œæ­¤æ™‚æˆ‘å€‘åŸå…ˆåœ¨ AWS Console ä¸Šæ‰‹å‹•å»ºç«‹äº†è³‡æºå°±è¢« Terraform æ‰€ç®¡\nå¦‚æœæˆ‘å€‘è¦åˆªæ‰é‚£å€‹è³‡æºä¹Ÿå¯ä»¥é€é terraform ä¾†åˆªé™¤ï¼Œæˆ‘å€‘æŠŠåŸå…ˆé‚£è¡Œè¨»è§£æ‰:\n# main.tf # resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { # instance_type = \u0026#34;t2.micro\u0026#34; # ami = \u0026#34;ami-00beae93a2d981137\u0026#34; # } æ¥è‘—æˆ‘å€‘å†ä¾†åŸ·è¡Œ terraform plan :\n$ terraform plan # ç•¥... # aws_instance.aws_linux will be destroyed # (because aws_instance.aws_linux is not in configuration) - resource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { - ami = \u0026#34;ami-00beae93a2d981137\u0026#34; -\u0026gt; null - arn = \u0026#34;arn:aws:ec2:us-east-1:058264428816:instance/i-00066e5627229c90e\u0026#34; -\u0026gt; null - associate_public_ip_address = true -\u0026gt; null - availability_zone = \u0026#34;us-east-1b\u0026#34; -\u0026gt; null - cpu_core_count = 1 -\u0026gt; null è£œå…… - ç›´æ¥å¯«åœ¨ç¨‹å¼ç¢¼å…§ï¼Œimport block åœ¨ Terraform v1.5.0 ä¹‹å¾Œï¼Œå¼•å…¥äº†æ–°çš„ import blockï¼Œimport block å¯ä»¥ç›´æ¥åœ¨ Terraform é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå“ªäº›è³‡æºéœ€è¦è¢«å°å…¥ï¼Œè€Œä¸éœ€è¦å–®ç¨åŸ·è¡Œ terraform import å‘½ä»¤\né€™å€‹æ–°åŠŸèƒ½çš„å¥½è™•åœ¨æ–¼ï¼Œç•¶ä½ å’Œä½ çš„åœ˜éšŠéœ€è¦å¤šæ¬¡æˆ–ç³»çµ±åœ°å°å…¥è³‡æºæ™‚ï¼Œå¯ä»¥å°‡é€™äº›å°å…¥æ“ä½œç‰ˆæœ¬åŒ–ä¸¦åŒ…å«åœ¨åŸºç¤è¨­æ–½å³ç¨‹å¼ç¢¼ (IaC) é…ç½®ä¸­\nä¸€å€‹ import block çš„åŸºæœ¬èªæ³•å¦‚ä¸‹:\nimport { to = aws_instance.example id = \u0026#34;i-12345678\u0026#34; } to æŒ‡å®šäº†è¦å°å…¥åˆ°çš„ Terraform è³‡æºå¡Š id æ˜¯ç¾æœ‰è³‡æºçš„ ID æ‰€ä»¥å‰›æ‰æˆ‘å€‘ç”¨ CLI æ‰€ç¤ºç¯„çš„å…§å®¹ï¼Œä½ å¯ä»¥æ”¹æˆç”¨ä»¥ä¸‹æ–¹å¼ä¾†æ’°å¯«\nresource \u0026#34;aws_instance\u0026#34; \u0026#34;aws_linux\u0026#34; { # ä½ çš„è³‡æºé…ç½® } import { to = aws_instance.example id = \u0026#34;i-00066e5627229c90e\u0026#34; } Resources Import | Terraform | HashiCorp Developer Shiun\u0026rsquo;s Learning Journal - 20240605 ","permalink":"https://shiun.me/blog/how-to-use-terraform-import-to-import-existing-resources-into-iac/","summary":"\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/e2027f5e-d58b-4c4b-983a-ad9a8b76ce63\" alt=\"Blog  Cover - Terraform Import (WhiteBG)\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"terraform-import\"\u003eTerraform Import\u003c/h2\u003e\n\u003ch3 id=\"ç°¡ä»‹\"\u003eç°¡ä»‹\u003c/h3\u003e\n\u003cp\u003eTerraform Import æ˜¯ Terraform ä¸­çš„ä¸€å€‹åŠŸèƒ½ï¼Œå…è¨±ä½ å°‡ç¾æœ‰çš„åŸºç¤è¨­æ–½è³‡æºå°å…¥åˆ° Terraform çš„ç‹€æ…‹æ–‡ä»¶ä¸­ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥å°‡å·²æœ‰çš„åŸºç¤è¨­æ–½èˆ‡ Terraform çš„é…ç½®æ–‡ä»¶åŒæ­¥ï¼Œä¸¦é–‹å§‹ä½¿ç”¨ Terraform ä¾†ç®¡ç†é€™äº›è³‡æº\u003c/p\u003e\n\u003ch3 id=\"ä»€éº¼æ™‚å€™éœ€è¦ç”¨åˆ°-terraform-import\"\u003eä»€éº¼æ™‚å€™éœ€è¦ç”¨åˆ° \u003ccode\u003eterraform import\u003c/code\u003eï¼Ÿ\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eterraform import ä¸¦ä¸æ˜¯ä¸€å€‹è‡ªå‹•åµæ¸¬ AWS è³‡æºä¸Šçš„æ±è¥¿ï¼Œç„¶å¾Œè‡ªå‹•å¹«å¿™å¯«ç¨‹å¼ç¢¼çš„å·¥å…·\nå¦‚æœä½ ä»¥å‰æ²’æœ‰ä½¿ç”¨ä»»ä½• IaC çš„å·¥å…·ï¼Œéƒ½æ˜¯ç›´æ¥åœ¨ AWS Console ä¸Šç®¡ç†å’Œå‰µå»ºè³‡æºï¼Œä½†ç¾åœ¨æƒ³è¦å°å…¥ IaCï¼Œç„¶å¾ŒæŠŠé‚£äº›ã€Œç¾æœ‰è³‡æºã€å°å…¥åˆ° Terraform ä¾†ç®¡ç†ï¼Œé‚£ä½ å°±æœƒéœ€è¦ç”¨åˆ° \u003ccode\u003eterraform import\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ccode\u003eterraform import\u003c/code\u003e çš„ä¸»è¦ç›®çš„æ˜¯å°‡å·²ç¶“å­˜åœ¨çš„åŸºç¤è¨­æ–½è³‡æºå°å…¥åˆ° Terraform çš„ç‹€æ…‹æ–‡ä»¶ä¸­ï¼Œé€™æ¨£ä½ å°±å¯ä»¥ç”¨ Terraform ä¾†ç®¡ç†é€™äº›è³‡æºã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€å€‹å·²ç¶“å­˜åœ¨çš„ AWS EC2 å¯¦ä¾‹ï¼Œè€Œä½ ç¾åœ¨æƒ³é–‹å§‹ç”¨ Terraform ä¾†ç®¡ç†å®ƒï¼Œä½ éœ€è¦å°å…¥é€™å€‹å¯¦ä¾‹ä»¥ä¾¿ Terraform çŸ¥é“å®ƒçš„å­˜åœ¨å’Œç•¶å‰ç‹€æ…‹\u003c/p\u003e\n\u003ch3 id=\"synopsis\"\u003eSynopsis\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ terraform import \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003eoptions\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e ADDRESS ID\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eADDRESS\u003c/code\u003e æ˜¯ Terraform é…ç½®ä¸­è³‡æºçš„åœ°å€ã€‚ä¾‹å¦‚ï¼Œ\u003ccode\u003eaws_instance.my_instance\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eID\u003c/code\u003e æ˜¯è³‡æºçš„å”¯ä¸€æ¨™è­˜ç¬¦ï¼Œé€™å€‹å€¼æ ¹æ“šä¸åŒçš„è³‡æºé¡å‹æœƒæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼Œå°æ–¼ AWS EC2 å¯¦ä¾‹ï¼Œé€™å€‹ ID æ˜¯å¯¦ä¾‹çš„ IDï¼ˆä¾‹å¦‚ \u003ccode\u003ei-1234567890abcdef0\u003c/code\u003eï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"example\"\u003eExample\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ terraform import aws_instance.my_instance i-1234567890abcdef0\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edata.aws_region.current: Reading...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edata.aws_availability_zones.available: Reading...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edata.aws_ami.ubuntu: Reading...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws_instance.aws_linux: Import prepared!\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  Prepared aws_instance \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e import\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws_instance.aws_linux: Refreshing state... \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003eid\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003ei-00066e5627229c90e\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edata.aws_region.current: Read complete after 0s \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003eid\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eus-east-1\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edata.aws_availability_zones.available: Read complete after 1s \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003eid\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eus-east-1\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edata.aws_ami.ubuntu: Read complete after 1s \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003eid\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eami-0f81732f07ce19b1c\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eImport successful!\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eThe resources that were imported are shown above. These resources are now in\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyour Terraform state and will henceforth be managed by Terraform.\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"hands-on\"\u003eHands-on\u003c/h3\u003e\n\u003cp\u003eåˆ° AWS Console å‰µå»ºè³‡æº\u003c/p\u003e","title":"è¦å°å…¥ IaCï¼Ÿç”¨ Terraform Import å°å…¥ç¾æœ‰è³‡æº"},{"content":" æ¯”è³½ç°¡ä»‹ é€™å ´æ¯”è³½æ˜¯ DIGITIMES ä¸»è¾¦ï¼ŒAWS ä½œç‚ºæŠ€è¡“æ”¯æ´ï¼Œç¸½å…±é‚€è«‹å…­å€‹ä¼æ¥­ä¾†å‘½é¡Œï¼Œåˆ†ç‚ºé»‘å®¢çµ„å’Œå‰µæ„äº¤æµçµ„ï¼ˆç°¡å–®ä¾†èªªå°±æ˜¯æŠ€è¡“å’ŒéæŠ€è¡“çµ„ï¼‰ï¼Œè€Œé»‘å®¢çµ„åœ¨é€™å ´æ¯”è³½å¿…é ˆä½¿ç”¨ AWS ç›¸é—œçš„æœå‹™å’Œæ¨¡å‹ä¾ç…§ä¼æ¥­å‘½é¡Œæ‰“é€ å‡º LLM Application æ¯”è³½å‰ è³½å‰å·¥ä½œåŠ åœ¨æ¯”è³½å‰ï¼Œæ¯”è³½ä¸»è¾¦æ–¹æœ‰èˆ‰è¾¦å¤šå ´è³½å‰å·¥ä½œåŠï¼Œè®“æˆ‘å€‘ç†Ÿæ‚‰ AI æŠ€è¡“ï¼Œè€Œæˆ‘åªè¦æœ‰ç©ºéƒ½æœ‰å»åƒåŠ ï¼Œæˆ‘æŠŠæˆ‘åœ¨çš„å·¥ä½œåŠçš„å­¸ç¿’ç­†è¨˜éƒ½å¯«åœ¨æˆ‘çš„ Notion æ—¥èªŒ\n2024/04/27 - åŸºç¤ AI å·¥ä½œåŠ 2024/04/28 - åŸºç¤ AI å·¥ä½œåŠ 2024/05/05 - é€²éš AI å·¥ä½œåŠ (é€™å ´æœ‰ GameDay) 2024/05/07 - Gogoro ä¼æ¥­æ•¸æ“šå·¥ä½œåŠ å…¶å¯¦ AI é€™é ˜åŸŸçœŸçš„ä¸æ˜¯æˆ‘çš„å°ˆé•·é ˜åŸŸï¼Œæˆ‘è‡ªå·±æœƒé–‹å§‹é–‹ç™¼ GenAI æ‡‰ç”¨æ˜¯å¾åŠ å…¥ä¼Šé›²è°·å¾Œé–‹å§‹çš„ï¼Œåœ¨ä¼Šé›²è°·åŸ·æ‰‹çš„å°ˆæ¡ˆå°±æ˜¯ä¸€å€‹ LLM Applicationï¼ŒåŠ ä¸Š GenAI è©±é¡ŒçœŸçš„æ˜¯æ™‚ä¸‹æœ€ç«ç†±çš„è©±é¡Œï¼Œæ´»åœ¨é€™æ™‚ä»£ï¼Œé–‹ç™¼çš„æ—¥å¸¸è¦ä¸ç¢°åˆ° AI çœŸçš„è »é›£çš„\nè€Œè³½å‰å·¥ä½œåŠçš„ä¸»è¬›è€…å€‘çœŸçš„äººéƒ½å¾ˆå¥½ï¼Œè¬›è§£çš„ä¹Ÿéƒ½å¾ˆæ¸…æ¥šï¼Œç‰¹åˆ¥æ„Ÿè¬ Roger å’Œ Ginny åœ¨å·¥ä½œåŠçš„æ•™å°ï¼Œä»¥åŠ Scott åœ¨ GameDay ç•¶å¤©è³½å¾Œçš„æ”¯æ´ï¼Œåœ¨è³½å‰å·¥ä½œåŠä¹Ÿå’Œç¾å ´çš„äººäº¤æµï¼Œèªè­˜äº†ä¸å°‘æŠ€è¡“é«˜æ‰‹ï¼\næ¯”è³½é‚„æ²’é–‹å§‹ï¼Œä½†å…‰æ˜¯å‰é¢çš„å·¥ä½œåŠå°±è¦ºå¾—é€™æ¬¡çš„åƒè³½é«”é©—çœŸçš„å¾ˆæ£’ï¼Œè³½å‰èƒ½è·Ÿé€™äº›æŠ€è¡“å¤§ç¥å­¸ç¿’ï¼ŒçœŸçš„æ˜¯ä¸€æ¬¡é›£å¾—çš„æ©Ÿæœƒã€‚\næ¯”è³½é¡Œç›®å…¬å¸ƒ åœ¨å ±åæ™‚æ˜¯è¦å¡«å¯«ç«¶è³½ä¸»é¡Œçš„å¿—é¡˜åºçš„ï¼Œæˆ‘å€‘ç•¶åˆæŠ•çš„ç¬¬ä¸€å€‹å¿—é¡˜æ˜¯ã€Œæ™ºæ…§æ‡‰ç”¨ã€ç¬¬äºŒç‚ºã€Œæ™ºæ…§ç§»å‹• - Gogoroã€ï¼Œæœ€çµ‚æˆ‘å€‘è¢«å®‰æ’åœ¨æ™ºæ…§ç§»å‹•çš„çµ„åˆ¥ã€‚\nè€Œæˆ‘å€‘é€™çµ„çš„é¡Œç›®å¦‚ä¸‹: å®˜æ–¹æä¾›çš„æ•¸æ“šå°±æ˜¯ Gogoro å®˜ç¶²ä¸Šçš„è»Šä¸»æ‰‹å†Š: https://support.gogoro.com/tw/manual/collections/236738689176894/\nåŸºæœ¬ä¸Šé€™å€‹å‘½é¡Œçµ•å°é€ƒä¸é \u0026ldquo;RAG\u0026rdquo;\né€™å€‹é¡Œç›®æœ‰å¹¾å€‹é›£é»:\nå¦‚ä½•è®“ LLM å›æ‡‰åœ–ç‰‡ä¸¦ä¸”é¡¯ç¤ºå‡ºä¾†? è»Šä¸»æ‰‹å†Šæœ‰å¾ˆå¤§çš„æ¯”ä¾‹æ˜¯åœ–ç‰‡ï¼Œå¦‚ä½•æŠŠåœ–ç‰‡ Embed? è»Šä¸»æ‰‹å†Šå…¨æ˜¯ pdf æª”ï¼Œå¦‚ä½•èƒå–å‡º pdf æª”å…§çš„åœ–ç‰‡ ç•¶ä½¿ç”¨è€…æä¾›çš„è³‡è¨Šä¸å¤ è©³ç´°ï¼ŒLLM é€™é‚Šæ‡‰è¦æ±‚ä½¿ç”¨è€…æä¾›æ›´å¤šè³‡è¨Š ä½•è¬‚è³‡è¨Šè¶³å¤ è©³ç´°? è©²å¦‚ä½•å®šç¾©ã€Œæ˜¯å¦è©³ç´°ã€ LLM è¦æ€éº¼çŸ¥é“é‚„éœ€è¦è«‹ä½¿ç”¨è€…æä¾›å“ªäº›é¡å¤–è³‡è¨Š? ä½œæˆ°æœƒè­° è€Œåœ¨ 2024/05/07 Gogoro æ•¸æ“šå·¥ä½œåŠä¸€çµæŸï¼Œæˆ‘å€‘éšŠä¼å°±é¦¬ä¸Šä¾†é–‹äº†ç¬¬ä¸€å ´ä½œæˆ°æœƒè­°ï¼Œä¸€ç›´åˆ°æ¯”è³½é–‹å§‹å‰ï¼Œç¸½å…±é–‹äº†ä¸‰æ¬¡æœƒè­°ï¼Œæˆ‘å€‘å¤§è‡´æŠŠæ•´å€‹æ‡‰ç”¨çš„æ¶æ§‹æƒ³å‡ºä¾†ï¼Œä»¥åŠè¦ä½¿ç”¨çš„æŠ€è¡“æ£§éƒ½å®šç¾©å‡ºä¾†ä¸¦åšå¥½åˆ†å·¥ã€‚\nåˆ†å·¥éƒ¨åˆ†:\nYuna (éšŠé•·): è³‡æ–™å‰è™•ç†åŠæ§‹å»º Data Pipeline Richie: è³‡æ–™å‰è™•ç†åŠæ§‹å»º Data Pipeline Eason: Presentaion åŠ Prompt ç ”ç©¶ Toby: è‡ªå‹•åŒ–å°‡è³‡æ–™ Embedding ï¼Œç„¶å¾Œè‡ªå‹•åŒ–å°‡å‘é‡å„²å­˜åˆ° OpenSearchï¼Œä»¥åŠåˆ©ç”¨ Gradio æ§‹å»ºä»‹é¢ Shiun (æˆ‘): LangChain é–‹ç™¼åŠéƒ¨ç½² LLM æ‡‰ç”¨ æ¶æ§‹éƒ¨åˆ†æ‡‰è©²çœ‹å¾—å‡ºä¾†æˆ‘åœ¨éƒ¨è½æ ¼é€™è£¡å¡ä¸ä¸‹ï¼Œå› æ­¤ç›´æ¥é™„ä¸Šé€£çµ (é€£çµé»æˆ‘)ï¼Œé€™é‚Šæ‰€çœ‹åˆ°çš„æ¶æ§‹åœ–åªæ˜¯æˆ‘å€‘æœƒè­°è¨è«–æ™‚æ–¹ä¾¿è¨è«–è€Œç•«å‡ºä¾†çš„ï¼Œä½†æœ€å¾Œæˆå“çš„æ¶æ§‹å…¶å¯¦è·Ÿé€™é‚Šä¸å¤ªä¸€æ¨£ï¼Œå¾Œé¢æœƒæåˆ°æœ€çµ‚çš„æ¶æ§‹ å¦å¤–æƒ³æä¸€ä¸‹ï¼Œå…¶å¯¦è‡ªå·±åœ¨é–‹ç™¼ LLM æ‡‰ç”¨æ™‚ï¼Œæˆ‘å¾ˆå–œæ­¡ä½¿ç”¨ Prompt Flow ä¾†æ§‹å»ºæ•´å€‹ Flowï¼Œé›–ç„¶é€™æ˜¯é–‹æºçš„ï¼Œä½†é€™å€‹çµ‚ç©¶æ˜¯å¾®è»Ÿçš„ï¼Œæ‰€ä»¥æœ€å¾Œé€™å ´æ¯”è³½æ²’é¸æ“‡ä½¿ç”¨ Prompt Flow XDï¼Œæ”¹æˆä½¿ç”¨ LangGraph\næ¯”è³½å‰å¤• æˆ‘åŸæœ¬æ‰“ç®—è¦ç”¨ LangGraph + LangChain çš„çµ„åˆä¾†é–‹ç™¼ï¼Œä½†æˆ‘èŠ±äº†ä¸‰å¤©å­¸å®Œ LangGraph ä¹‹å¾Œï¼Œç™¼ç¾è‡ªå·±çœŸçš„æ²’æœ‰é ­ç·’ï¼Œç”¨èµ·ä¾†å¾ˆåŠ›ä¸å¾å¿ƒï¼Œæ‰€ä»¥åœ¨æ¯”è³½çš„å‰ä¸€æ™šæˆ‘æ”¾æ£„ä½¿ç”¨ LangGraphï¼Œæ”¹æˆç´”ç”¨ Lambda ä¾†æ§‹å»ºå‡ºä¸€å€‹ Flowã€‚\nè€Œæˆ‘æ“”å¿ƒé»‘å®¢æ¾ 30 å€‹å°æ™‚åšä¸å®Œï¼Œæˆ‘åœ¨æ¯”è³½çš„å‰ä¸€æ™šç›®æ¨™å°±æ˜¯å…ˆé–‹ç™¼å‡ºä¸€å€‹å¯ä»¥å‹•çš„æ‡‰ç”¨ï¼Œç„¶å¾Œåœ¨é»‘å®¢æ¾å…©å¤©ä¸²éšŠå‹å€‘çš„è³‡æºã€‚\nç°¡å–®ä¾†èªªï¼Œæ¯”è³½å‰ä¸€æ™šæˆ‘çš„ç›®æ¨™æ˜¯:\nä¸²æ¥ OpenSearch å¯¦ç¾ RAG ç”¨ DynamoDB å„²å­˜èŠå¤©ç´€éŒ„ï¼Œä¸¦ç¢ºä¿ LLM æ‡‰ç”¨æ˜¯å…·ä¸Šä¸‹æ–‡è¨˜æ†¶èƒ½åŠ› IaCï¼Œç¢ºä¿é»‘å®¢æ¾ç•¶å¤©ç›´æ¥ä¸€éµéƒ¨ç½²ï¼Œæˆ‘æ˜¯ä½¿ç”¨ AWS SAM ç­‰æœ€å¾Œå¼„å®Œä¹‹å¾Œï¼Œå¤§æ¦‚æ—©ä¸Š 6:00 äº†ï¼Œç•¶æ™‚èº«é«”æ˜¯ç´¯çš„ä½†æ˜¯ç¡ä¸å¤ªè‘—ï¼Œç„¶å¾Œå°±å»è²·æ—©é¤ï¼Œå’ŒéšŠå‹é›†åˆï¼Œç„¶å¾Œå»æ¯”è³½å•¦\nå…¶å¯¦ç•¶å¤©æˆ‘æœ‰é–‹ Youtube ç·šä¸Šç›´æ’­æƒ³è¦æŠŠé»‘å®¢æ¾å‰ä¸€æ™šçš„éç¨‹è¨˜éŒ„èµ·ä¾†\u0026hellip; æ²’æƒ³åˆ°æˆ‘ OBS ä¸²æµæ‰“é–‹äº†ï¼Œä½†æ˜¯å»å¿˜äº†æŒ‰ä¸‹ã€Œé–‹å§‹ç›´æ’­ã€\u0026hellip;ä¸€ç›´åˆ°æ—©ä¸Šå’ŒéšŠå‹é›†åˆï¼ŒéšŠå‹æ‰å‘Šè¨´æˆ‘æˆ‘çš„ Youtube ç•«é¢éƒ½æ˜¯ã€Œç­‰å¾…ä¸­ã€\u0026hellip;\næ¯”è³½ Day1 - ä¸€æ•´å¤©åœ¨ 502 Bad Gateway åº¦é æ—©ä¸Šå’ŒéšŠå“¡ä¸€åŒé€²å ´å ±åˆ° ææ¡ˆ åœ¨æ¯”è³½å‰›é–‹å§‹æ™‚ï¼Œè©•å¯©æœƒåˆ°å„éšŠå…ˆçœ‹æˆ‘å€‘çš„åˆæ­¥ææ¡ˆçµ¦äºˆæˆ‘å€‘å»ºè­°ï¼Œä»¥æˆ‘å€‘é€™çµ„ã€Œæ™ºæ…§ç§»å‹• - Gogoroã€ä¾†èªªï¼Œè©•å¯©æœ‰: Gogoro å‰¯ç¸½, Gogoro è³‡è¨ŠæŠ€è¡“ç¸½ç›£, Gogoro è³‡æ–™ç§‘å­¸å®¶, AWS Sr. SAï¼Œä½† Day1 ææ¡ˆçš„æ™‚å€™å°è±¡ä¸­æ˜¯æ²’çœ‹åˆ°å‰¯ç¸½å‡ºå¸­ï¼Œè€Œæˆ‘å€‘é€™éšŠå°±æ˜¯æŠŠæ¶æ§‹åœ–å±•ç¤ºçµ¦è©•å¯©çœ‹ï¼ŒåŒæ™‚ä¹Ÿå‘Šè¨´æˆ‘å€‘é‡åˆ°çš„é›£é»ã€‚\né€™å€‹é¡Œç›®æœ‰å¹¾å€‹é›£é»:\nå¦‚ä½•è®“ LLM å›æ‡‰åœ–ç‰‡ä¸¦ä¸”é¡¯ç¤ºå‡ºä¾†? è»Šä¸»æ‰‹å†Šæœ‰å¾ˆå¤§çš„æ¯”ä¾‹æ˜¯åœ–ç‰‡ï¼Œå¦‚ä½•æŠŠåœ–ç‰‡ Embed? è»Šä¸»æ‰‹å†Šå…¨æ˜¯ pdf æª”ï¼Œå¦‚ä½•èƒå–å‡º pdf æª”å…§çš„åœ–ç‰‡ ç•¶ä½¿ç”¨è€…æä¾›çš„è³‡è¨Šä¸å¤ è©³ç´°ï¼ŒLLM é€™é‚Šæ‡‰è¦æ±‚ä½¿ç”¨è€…æä¾›æ›´å¤šè³‡è¨Š ä½•è¬‚è³‡è¨Šè¶³å¤ è©³ç´°? è©²å¦‚ä½•å®šç¾©ã€Œæ˜¯å¦è©³ç´°ã€ LLM è¦æ€éº¼çŸ¥é“é‚„éœ€è¦è«‹ä½¿ç”¨è€…æä¾›å“ªäº›é¡å¤–è³‡è¨Š? ç•¶æ™‚æˆ‘å€‘åªæœ‰è«‹æ•™è©•å¯©å€‘é›£é» 4 çš„å»ºè­°è™•ç†æ–¹å¼ï¼Œè€Œè©•å¯©å»ºè­°æˆ‘çš„å¯ä»¥ä½¿ç”¨ Chain of Thought (CoT)\né–‹å§‹å¡åœ¨ 502 Bad Gateway åœ¨æ¯”è³½æ‰å‰›é–‹å§‹ï¼Œæˆ‘ä¾¿é‡åˆ° 502 Bad Gatewayï¼Œæ˜æ˜æ—©ä¸Š 6.7 é»å·¦å³éƒ½é‚„ run å¾—å¥½å¥½çš„ï¼Œç¾åœ¨ run å°±æœƒ 502 Bad Gatewayï¼Œ ç•¶æ™‚æˆ‘é‡åˆ°çš„ ERROR å¦‚ä¸‹:\n# 2024-05-18T01:29:19.802+-8:00 [ERROR] TypeError: not all arguments converted during string formatting Traceback (most recent call last): File \u0026#34;/var/task/is_question_relevant.py\u0026#34;, line 186, in lambda_handler response = retrieval_chain.invoke( # ç•¥ ç•¶æ™‚æˆ‘å°è±¡ä¸­æˆ‘æ˜¯ç‚ºäº†ä½¿ç”¨ LangSmith ä¾†æ–¹ä¾¿è¿½è¹¤æˆ‘çš„ Chainï¼Œæ‰€ä»¥åœ¨ template.yaml ç‚º Lambda Function é…ç½®äº†ä¸€äº› LangChain ç›¸é—œçš„ç’°å¢ƒè®Šé‡ï¼Œæ‰€ä»¥æˆ‘ç•¶æ™‚å°æ–¼ç¨‹å¼ç¢¼æ˜¯æ²’æœ‰ä»»ä½•æ”¹å‹•çš„ï¼Œå®Œå…¨å°±æ˜¯åœ¨é…ç½®ä¸€äº›é¡å¤–çš„ç’°å¢ƒè®Šé‡ï¼Œæˆ‘å®Œå…¨ä¸è¦ºå¾—è¨­ç’°å¢ƒè®Šé‡æœƒé€ æˆéŒ¯èª¤ã€‚\næ–¼æ˜¯æˆ‘å°±é–‹å§‹é€€ commitï¼Œä¸€å€‹ä¸€å€‹æ…¢æ…¢å¾€å‰è¿½æº¯æ˜¯å“ªé‚Šé–‹å§‹é€ æˆçš„ï¼Œæœ€å¾ŒæŠŠ template.yaml çš„è®Šæ›´éƒ½æ¨æ£„ (ä¹Ÿå°±æ˜¯æˆ‘é…ç½®ç’°å¢ƒè®Šé‡é‚£éƒ¨åˆ†)ï¼Œæ‰ç™¼ç¾å°±æ˜¯çœŸçš„å› ç‚ºé…ç½®äº† LangChain çš„ç’°å¢ƒè®Šé‡å°è‡´ç™¼ç”ŸéŒ¯èª¤\nä»¥ OpenSearch Similarity Score Threshold æ±ºå®šå•é¡Œæ˜¯å¦ç›¸é—œ åœ¨æˆ‘å€‘çš„æ¶æ§‹ä¸­ï¼Œæœ‰ä¸€å€‹ç¯€é»è² è²¬åˆ¤æ–·ç”¨æˆ¶çš„å•é¡Œæ˜¯å¦èˆ‡ Gogoro çš„ä¸»é¡Œç›¸é—œã€‚å¦‚æœå•é¡Œä¸ç›¸é—œï¼Œæˆ‘å€‘æœƒç¦®è²Œåœ°æ‹’çµ•å›ç­”ã€‚æˆ‘å€‘çš„ç­–ç•¥æ˜¯ï¼Œç•¶ç”¨æˆ¶çš„æå•é€²ä¾†æ™‚ï¼Œå°±æˆ‘å€‘æœƒçµåˆ Chat History ä¸€èµ·å»åš Embedding ç„¶å¾Œé€²è¡Œ Retrievalã€‚æˆ‘å€‘è¨­å®šäº†ä¸€å€‹ç›¸ä¼¼åº¦åˆ†æ•¸é–¾å€¼ (Similarity Score Threshold)ï¼Œåªæœ‰ç•¶æ–‡æª”çš„ Similarity Score é«˜æ–¼é€™å€‹é–¾å€¼æ™‚ï¼Œæ–‡æª”æ‰æœƒè¢«æª¢ç´¢å‡ºä¾†ã€‚å› æ­¤ç•¶æ²’æœ‰æª¢ç´¢åˆ°ä»»ä½•æ–‡æª”ï¼Œæˆ‘å€‘å°±å¯ä»¥åˆ¤å®šç”¨æˆ¶çš„æå•æ˜¯ä¸ç›¸é—œçš„ã€‚\nè€Œæˆ‘å€‘åœ¨ LangChain å®˜æ–¹æ–‡æª”æœ‰çœ‹åˆ°é€™éƒ¨åˆ†æœ‰ API å¯ä»¥ç”¨ï¼Œå¯«æ³•æœƒé•·é€™æ¨£:\nretriever = db.as_retriever( search_type=\u0026#34;similarity_score_threshold\u0026#34;, search_kwargs={\u0026#34;k\u0026#34;: 3, \u0026#34;score_threshold\u0026#34;: 0.8}, ) docs_retrieved = retriever.invoke(query) for doc in docs_retrieved: print(\u0026#34;-\u0026#34; * 80) print(doc.page_content) print(\u0026#34;-\u0026#34; * 80) ä½†æ˜¯å¾ˆå¯æƒœæˆ‘å€‘ç¨æ—©å·²ç¶“æ¸¬è©¦éï¼Œå¯¦éš›ç”¨ä¸‹å»å°±æ˜¯æœƒçœ‹åˆ° NotImplementedErrorï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ LangChain é‚„æ²’æœ‰æ”¯æ´ OpenSearch ä½¿ç”¨é€™å€‹ similarity_score_threshold:\nBased on the information you\u0026rsquo;ve provided and the context from the LangChain repository, it seems like you\u0026rsquo;re encountering a NotImplementedError when trying to use the similarity_score_threshold search type with the OpenSearch retriever in LangChain. This is likely because the similarity_score_threshold search type is not currently supported in the OpenSearch retriever in the LangChain framework, as mentioned in this issue.\nè³‡æ–™ä¾†æº: https://github.com/langchain-ai/langchain/issues/13007\næ‰€ä»¥åœ¨é€™éƒ¨åˆ†ï¼Œåªèƒ½æ”¾æ£„ä½¿ç”¨ LangChainï¼Œæ”¹æˆç”¨åŸç”Ÿçš„ Python åº« opensearch-pyï¼Œè€Œå¾ˆæ„Ÿè¬æˆ‘å€‘éšŠå“¡ Toby å°é€™éƒ¨åˆ†é‚„ç®—ç†Ÿæ‚‰ï¼ŒToby åœ¨æ¯”è³½å‰å¹¾æ—¥å°±æœ‰ç”¨é opensearch-py å¯¦è¸ RAG (Toby çš„ GitHub Repo é€£çµ)ï¼Œæ‰€ä»¥æˆ‘çœäº†å¾ˆå¤šç ”ç©¶æ™‚é–“ã€‚\nè€Œåˆ¥ä»¥ç‚ºæˆ‘å€‘ç¾åœ¨çœ‹èµ·ä¾†å¾ˆé †åˆ©ï¼Œæˆ‘å€‘é›–ç„¶ Retrieval é€™éƒ¨åˆ†å·²ç¶“æ²’å•é¡Œäº†ï¼Œä½†æ¥ä¸‹ä¾†è¦å†æŠŠé€™éƒ¨åˆ†ç”¨ LangChain çš„ chain.invoke() åˆé–‹å§‹å¡é—œäº†ï¼Œé€™æ¬¡ç¢°åˆ°çš„ ERROR æ˜¯:\n[ERROR] ValueError: Invalid input type \u0026lt;class \u0026#39;langchain_core.prompts.chat.ChatPromptTemplate\u0026#39;\u0026gt;. Must be a PromptValue, str, or list of BaseMessages. Traceback (most recent call last): File \u0026#34;/var/task/is_question_rpy\u0026#34;, line 219, in lambda_handler answer = bedrock_llm.invoke(prompt) File \u0026#34;/var/task/langchalanguage_models/chat_models.py159, in invoke [self._convert_input(input)], File \u0026#34;/var/task/langchalanguage_models/chat_models.py142, in _convert_input raise ValueError( ä½†å¯æƒœåˆ°é€™é‚Šï¼Œå·²ç¶“æ™šä¸Š 6:30 å·¦å³äº†ï¼Œæ‰€ä»¥åƒè³½è€…å°±å…ˆå›å®¶äº†ï¼Œè€Œæˆ‘ä»Šå¤©ä¸€æ•´å¤©å°±æ˜¯ã€Œå§‹æ–¼ 502, çµ‚æ–¼ 502ã€ï¼Œäººé‚„æ²’ç¡è¦ºç„¶å¾Œç¬¬ä¸€å¤©æ±è¥¿é‚„æ²’è¾¦æ³•æ­£å¸¸ run å¿ƒæ…‹ç°¡ç›´å¿«å´©æ½°\u0026hellip;\nä¸€å›åˆ°å®¶å¿ƒè£¡æƒ³è‘—ä¸€å®šè¦æŠŠé€™è§£æ±ºæ‰èƒ½ç¡ï¼Œçµæœä¸€åˆ°å®¶ä¸€ç¢°åˆ°åºŠä¹‹å¾Œçœé–‹çœ¼å·²ç¶“æ˜¯ Day2 æ—©ä¸Š 6:00\næ¯”è³½ Day2 - å¯æ•¬çš„å°æ‰‹ ä¸€æ™‚ä¾†çš„éˆæ„Ÿ é»‘å®¢çµ„é è¨ˆæœƒåœ¨ Day2 14:40 çµæŸæ¯”è³½\nDay2 æˆ‘æ—©ä¸Š 6:00 é†’ä¾†ï¼Œæ¢³æ´—ä¸€ä¸‹ï¼Œä¹Ÿä¸çŸ¥é“ç‚ºä»€éº¼\u0026hellip; éˆæ„Ÿå¾ˆè‡¨æ™‚ä¾†ï¼Œçªç„¶è¦ºå¾—æˆ‘æƒ³åˆ° Day1 Bug çš„è§£æ³•äº†ï¼Œé¦¬ä¸Šæ‰“é–‹é›»è…¦è©¦äº†ä¸€ä¸‹ï¼Œé‚„çœŸçš„è§£å‡ºä¾†äº†ã€‚\nçœŸçš„å¹³å¸¸å·¥ä½œä¹Ÿæ˜¯é€™æ¨£ï¼Œå¡äº†ä¸€æ•´å¤©çš„ Bugï¼Œç¸½æ˜¯æœƒåœ¨ç„¡æ„é–“æƒ³åˆ°è§£æ³•ï¼Œæˆ‘ä¹Ÿç®—é€™æ¬¡å¾ˆå¹¸é‹é€™å€‹è‡¨æ„Ÿä¾†çš„é‚£éº¼å¿«ï¼Œåœ¨ Day2 çš„ä¸€æ—©å°±é¦¬ä¸Šè§£æ±ºæ˜¨å¤©çš„å¤§é›£é—œï¼Œçµ¦ Day2 åšäº†ä¸€å€‹ç¾å¥½çš„é–‹å§‹ã€‚\nç¾åœ¨æˆ‘å€‘çš„ç³»çµ±å¯ä»¥èªªæ˜¯å¯ä»¥å‹•äº†ï¼Œæ”¾ä¸‹èº«ä¸Šçš„é‡æ“”å¾Œï¼Œæˆ‘å°±è¶•ç·Šæ­è»Šå»é»‘å®¢æ¾æ¯”è³½ç¾å ´èˆ‡éšŠå‹æœƒåˆäº†ã€‚\nå°‡è³‡æºéƒ¨ç½²åˆ°é»‘å®¢æ¾çš„ AWS å¸³è™Ÿ å…¶å¯¦åœ¨ Day1 æ‰€æœ‰é–‹ç™¼çš„æ±è¥¿æˆ‘éƒ½éƒ¨ç½²åœ¨è‡ªå·±çš„ AWS å¸³è™Ÿï¼Œå› ç‚ºæ•´å€‹å°ˆæ¡ˆæˆ‘éƒ½æ˜¯ç”¨ AWS SAMä¾†å»ºç½®å’Œéƒ¨ç½²è³‡æºçš„ï¼Œæ‰€ä»¥è¦æŠŠåŒæ¨£çš„æ±è¥¿éƒ¨ç½²åˆ°åˆ¥çš„ AWS å¸³è™Ÿç›¸ç•¶å®¹æ˜“ã€‚\nä½†ç•¶ç„¶ä¹Ÿæ˜¯æ²’é‚£éº¼é †åˆ©ï¼Œéç¨‹æˆ‘çŠ¯äº†ä¸€å€‹å¾ˆå‚»çš„éŒ¯èª¤ï¼Œå°±æ˜¯å¿˜è¨˜æŠŠ samconfig.toml è£¡é¢çš„ image_repositories æ›æ‰ï¼Œæ‰€ä»¥æˆ‘åˆ‡æ›åˆ°é»‘å®¢æ¾çš„ç’°å¢ƒå¾Œï¼Œè¼¸å…¥ sam deployï¼Œæˆ‘æ ¹æœ¬æ²’è¾¦æ³• Push æ–°çš„ Image ä¸Šå» ECRï¼Œå› ç‚ºæˆ‘ç¾åœ¨çš„ Credential å°±æ˜¯æ²’æ¬Šé™å» Push Image åˆ°æˆ‘è‡ªå·± AWS å¸³è™Ÿçš„ ECR\næˆ‘ä»¥ç‚ºæ˜¯é»‘å®¢æ¾çš„ AWS ç’°å¢ƒçµ¦çš„ Credential æœ‰å•é¡Œï¼Œæ‰€ä»¥é‚„è·‘å»è«‹æ•™ AWS SA - Scottï¼Œçµæœ SA ä¸€æé»æˆ‘å°±çŸ¥é“è‡ªå·±çŠ¯è ¢ XDï¼ŒçœŸçš„å¾ˆæŠ±æ­‰ä¸å°å¿ƒæ‰“æ“¾åˆ° SA\nç™¼ç¾è‡ªå·±çŠ¯è ¢å¾Œè³‡æºç•¶ç„¶ä¹Ÿéƒ¨ç½²ä¸Šå»äº†ï¼Œåªèƒ½èªª IaC çœŸçš„è®šï¼\nPresentation æ¥ä¸‹ä¾†æˆ‘å€‘æŠŠè³‡æºå…¨éƒ½éƒ¨ç½²å¥½ï¼ŒToby ç”¨ Gradio åˆ‡äº†ä¸€å€‹ç°¡å–®çš„å‰ç«¯ä»‹é¢ç„¶å¾Œæˆ‘å†æŠŠå‰ç«¯éƒ¨ç½²ä¸Šå»æˆ‘å€‘çš„å°ˆæ¡ˆå°±å¤§åŠŸå‘Šæˆäº†ï¼\nEason å°‡æœƒè² è²¬ä¸Šå°ç°¡å ±ï¼Œè€Œæˆ‘æœƒè² è²¬æ“æ§é›»è…¦\nåœ¨é€™å…©å¤©çš„é»‘å®¢æ¾ï¼ŒEason ä¸€ç›´åœ¨æ—é‚Šç ”ç©¶æˆ‘å€‘çš„ç³»çµ±ä»¥åŠè·Ÿæˆ‘å€‘é‡æ¸…å¾ˆå¤šæŠ€è¡“æ¶æ§‹ï¼Œç„¶å¾Œç‚ºæˆ‘å€‘é€™å…©å¤©çš„æˆå“åšäº†ä¸€å€‹å¾ˆæ£’çš„ç°¡å ±\næ¯”è³½ 14:40 çµæŸå¾Œï¼Œæˆ‘å€‘æ”¶åˆ°äº† Gogoro æŒ‡å®šçš„å•é¡Œï¼Œå¿…é ˆåœ¨ç­‰ä¸‹çš„ Presentation ä¸­é€²è¡Œ Live Demoã€‚è€Œæˆ‘å€‘ã€Œå¤§ä½¿å¤¢ä¹‹éšŠã€æ˜¯ã€Œæ™ºæ…§ç§»å‹•ã€ç¬¬ä¸€å€‹è¦ä¸Šå°å ±å‘Šçš„éšŠä¼ã€‚\næ²’éå¤šä¹…å¾Œï¼Œå°±é–‹å§‹ä¸Šå°ç°¡å ±äº†ï¼Œåªèƒ½èªª Eason çš„å°é¢¨çœŸçš„å¾ˆç©©ï¼Œé‚è¼¯æ¸…æ™°ï¼ŒæŠŠæˆ‘å€‘ç³»çµ±çš„åƒ¹å€¼å’Œæ¶æ§‹è¡¨é”å¾—å¾ˆæ¸…æ¥šã€‚å¦å¤–ç•¶æ™‚å¾ˆå¤šå¤§ä½¿ä¾†æ—é‚Šå¹«æˆ‘å€‘åŠ æ²¹ï¼Œåˆ°äº† Live Demo ç’°ç¯€ï¼Œæˆ‘å€‘ç¬¬ä¸€é¡Œä¸çŸ¥ä»€éº¼åŸå› å°± Timeout äº†ï¼Œä½†ç¶²é é‡æ•´å¾Œåˆæ­£å¸¸äº†ï¼ŒçœŸçš„æœ‰ Live Demo å°±ä¸€å®šè¦æ“ºç¶ è‰²ä¹–ä¹–\u0026hellip;è€Œå¾Œé¢çš„å¹¾å€‹å•é¡Œï¼Œæˆ‘è¦ºå¾—éƒ½ç¬¦åˆæˆ‘å€‘é æœŸï¼Œä½†å°±æ˜¯æœ‰ç™¼ç¾æˆ‘å€‘ç³»çµ±çš„å›æ‡‰æ™‚é–“å…¶å¯¦å¤ªä¹…äº†ï¼Œå¹¾ä¹éƒ½ 20 ç§’ä¸Šä¸‹æ‰å®Œæˆã€‚\nä½†æ•´é«”ä¾†èªªï¼Œæˆ‘è¦ºå¾—æˆ‘å€‘å·²ç¶“æŠŠæˆ‘å€‘æƒ³å±•ç¤ºçš„æ±è¥¿éƒ½å±•ç¤ºå‡ºä¾†äº†ã€‚\nå¯æ•¬çš„å°æ‰‹ åœ¨æ™ºæ…§ç§»å‹•é€™çµ„ä¸­ï¼Œæˆ‘å€‘é‡åˆ°äº†ä¸€å€‹å‹æ•µâ€”â€”ã€Œå¯Œè²´æ€éº¼å…ˆèµ°äº†ã€ã€‚ä»–å€‘çš„ç³»çµ±æ¶æ§‹å¤§æ¦‚è·Ÿæˆ‘å€‘æœ‰ä¸ƒå…«æˆç›¸ä¼¼ï¼Œä½†åœ¨å‰ç«¯çš„è¡¨ç¾ä»¥åŠ LLM çš„å›æ‡‰é€Ÿåº¦ä¸Šï¼Œä»–å€‘æ˜é¡¯å‹å‡ºå¾ˆå¤šã€‚ç•¶ä»–å€‘ä¸Šå°å±•ç¤ºæ™‚ï¼Œæˆ‘å€‘éƒ½éå¸¸ä½©æœä»–å€‘ LLM çš„å›æ‡‰é€Ÿåº¦å¦‚æ­¤ä¹‹å¿«ï¼Œå‰ç«¯é é¢åšå¾—æ—¢èˆ’æœåˆæœ‰æµæš¢çš„ Steamingï¼Œé‚£å€‹ç¬¬ä¸€å°è±¡çµ•å°æ˜¯è¶…è¶Šæˆ‘å€‘çš„ã€‚\nç•¶æ™‚æˆ‘å°±çŸ¥é“ï¼Œä»–å€‘å¾ˆå¯èƒ½æ˜¯é€™æ¬¡æ¯”è³½çš„ç¬¬ä¸€åã€‚æ¯”è³½çµæœå‡ºçˆå‰ï¼Œå°æ–¹ä¹Ÿä¾†å’Œæˆ‘å€‘äº¤æµä»–å€‘ä½¿ç”¨çš„æŠ€è¡“ã€‚æˆ‘å€‘å¾è³½å‰å·¥ä½œåŠçš„ GameDay å°±çŸ¥é“ä»–å€‘å¯¦åŠ›é›„åšï¼Œå› ç‚ºä»–å€‘é‚£çµ„åœ¨ GameDay ä¹Ÿæ‹¿äº†ç¬¬ä¸€ï¼\nä¸Šåœ–ç‚ºã€Œå¯Œè²´æ€éº¼å…ˆèµ°äº†ã€ç•¶å¤©çš„ Presentation\næœ€çµ‚çµæœä¹Ÿä¸å‡ºæ‰€æ–™ï¼Œã€Œå¯Œè²´æ€éº¼å…ˆèµ°äº†ã€è´å¾—äº†æ™ºæ…§ç§»å‹•çµ„çš„å„ªå‹ï¼æ¯”è³½çµæŸå¾Œï¼Œæˆ‘å€‘å’Œä»–å€‘èŠäº†èŠï¼Œç™¼ç¾ä»–å€‘çœŸçš„å¾ˆå²å®³ï¼Œåˆ†å·¥ç›¸ç•¶æ˜ç¢ºï¼ŒéšŠå‹é–“å½¼æ­¤éƒ½å¾ˆä¿¡ä»»ã€‚é€™æ¬¡ç¶“é©—è®“æˆ‘å€‘å­¸åˆ°äº†å¾ˆå¤šï¼Œä¹Ÿå†æ¬¡æ­å–œä»–å€‘å–å¾—å„ªå‹ï¼\nçµèª é€™å ´æ¯”è³½èº«é‚Šçš„äººéƒ½å¾ˆçœ‹å¥½æˆ‘å€‘çš„å¤§ä½¿å¤¢ä¹‹éšŠï¼Œä¹Ÿå¾ˆæ„Ÿè¬å¤§å®¶ä¾†ç¾å ´åŠ æ²¹æ‰“æ°£å’Œé¤µé£Ÿï¼Œä¸éæœ€å¾Œæ²’èƒ½å–å¾—å„ªå‹ç¢ºå¯¦æœ‰äº›éºæ†¾ï¼å°¤å…¶æ˜¯ã€Œå¯Œè²´æ€éº¼å…ˆèµ°äº†ã€é€™éšŠçœŸçš„å¾ˆå¼·ï¼Œè®“æˆ‘èªè­˜åˆ°è‡ªå·±çš„å¯¦åŠ›é‚„æœ‰å¾…æå‡ã€‚ä»–å€‘çš„æˆå“ä¹Ÿçµ¦äº†æˆ‘å¾ˆå¤šå•Ÿç™¼ï¼Œè®“æˆ‘çŸ¥é“è‡ªå·±çš„ç³»çµ±æœ‰å“ªäº›å¯ä»¥æ”¹é€²çš„åœ°æ–¹ã€‚\né€™æ¬¡æ¯”è³½å­¸åˆ°äº†å¾ˆå¤šï¼Œä¸»è¾¦æ–¹çš„è³½å‰å·¥ä½œåŠéå¸¸ç´®å¯¦ï¼Œç¾å ´çš„ SA æŠ€è¡“æ”¯æ´ä¹Ÿéå¸¸åˆ°ä½ï¼Œé€éå’Œå„éšŠçš„äº¤æµï¼Œæˆ‘ä¹Ÿå­¸åˆ°äº†ä¸å°‘æ–°çš„æŠ€å·§ã€‚\næœ€å¾Œï¼ŒçœŸçš„è¶…æ„Ÿè¬éšŠå‹å€‘ã€‚è³‡æ–™å‰è™•ç†éƒ¨åˆ†ï¼ŒéšŠé•· Yuna å’Œ Richie çœŸçš„æ˜¯è¶…ç´šçµ¦åŠ›ï¼Toby æœ¬èº«åœ¨åš LLM æ–¹é¢çš„ç ”ç©¶ï¼Œä»–åœ¨æ•´å€‹éç¨‹ä¸­æä¾›äº†æˆ‘å¿ƒç›®ä¸­çš„ Best Practiceï¼Eason æ¯”è³½å…¨ç¨‹åœ¨ä¸€æ—è§€å¯Ÿæˆ‘å€‘çš„é–‹ç™¼ï¼Œç ”ç©¶ Prompt ä¸¦é‡æ¸…æ•´é«”çš„ç³»çµ±æ¶æ§‹ï¼Œç°¡å ±æ™‚ä»–æ›´æ˜¯æŠŠç³»çµ±å®Œæ•´å‘ˆç¾å‡ºä¾†ï¼æ¯å€‹éšŠå‹éƒ½æ˜¯æ ¸å¿ƒï¼Œèƒ½å’Œé€™æ¨£çš„éšŠå‹åœ¨ 30 å€‹å°æ™‚å…§æ‰“é€ å‡ºæ‡‰ç”¨ï¼ŒçœŸçš„æ˜¯ä¸€æ®µå¾ˆæœ‰é©å‘½æƒ…æ„Ÿçš„ç¶“æ­·ï¼Œå¸Œæœ›ä¹‹å¾Œé‚„æœ‰æ©Ÿæœƒèƒ½å†ä¸€èµ·çµ„éšŠåƒè³½ã€‚\n","permalink":"https://shiun.me/blog/2024-aws-genai-hackathon/","summary":"\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/d6ce61a1-3858-43b6-9c09-6ffb46c6c7f7\" alt=\"GroupPhoto-1\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"æ¯”è³½ç°¡ä»‹\"\u003eæ¯”è³½ç°¡ä»‹\u003c/h2\u003e\n\u003cp\u003eé€™å ´æ¯”è³½æ˜¯ DIGITIMES ä¸»è¾¦ï¼ŒAWS ä½œç‚ºæŠ€è¡“æ”¯æ´ï¼Œç¸½å…±é‚€è«‹å…­å€‹ä¼æ¥­ä¾†å‘½é¡Œï¼Œåˆ†ç‚ºé»‘å®¢çµ„å’Œå‰µæ„äº¤æµçµ„ï¼ˆç°¡å–®ä¾†èªªå°±æ˜¯æŠ€è¡“å’ŒéæŠ€è¡“çµ„ï¼‰ï¼Œè€Œé»‘å®¢çµ„åœ¨é€™å ´æ¯”è³½å¿…é ˆä½¿ç”¨ AWS ç›¸é—œçš„æœå‹™å’Œæ¨¡å‹ä¾ç…§ä¼æ¥­å‘½é¡Œæ‰“é€ å‡º LLM Application\n\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/0f15df93-d73e-4076-94fa-81573b57adde\" alt=\"image\"  /\u003e\n\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"æ¯”è³½å‰\"\u003eæ¯”è³½å‰\u003c/h2\u003e\n\u003ch3 id=\"è³½å‰å·¥ä½œåŠ\"\u003eè³½å‰å·¥ä½œåŠ\u003c/h3\u003e\n\u003cp\u003eåœ¨æ¯”è³½å‰ï¼Œæ¯”è³½ä¸»è¾¦æ–¹æœ‰èˆ‰è¾¦å¤šå ´è³½å‰å·¥ä½œåŠï¼Œè®“æˆ‘å€‘ç†Ÿæ‚‰ AI æŠ€è¡“ï¼Œè€Œæˆ‘åªè¦æœ‰ç©ºéƒ½æœ‰å»åƒåŠ ï¼Œæˆ‘æŠŠæˆ‘åœ¨çš„å·¥ä½œåŠçš„å­¸ç¿’ç­†è¨˜éƒ½å¯«åœ¨æˆ‘çš„ Notion æ—¥èªŒ\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://shiun.notion.site/20240427-198bb4068249447daccb651aa8ade714?pvs=4\"\u003e2024/04/27 - åŸºç¤ AI å·¥ä½œåŠ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://shiun.notion.site/20240428-9419901e5d47459e95ee99810479fc01?pvs=4\"\u003e2024/04/28 - åŸºç¤ AI å·¥ä½œåŠ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://shiun.notion.site/20240505-a9f4c32c17de4210959ffe3a57fcfbc4?pvs=4\"\u003e2024/05/05 - é€²éš AI å·¥ä½œåŠ\u003c/a\u003e (é€™å ´æœ‰ GameDay)\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://shiun.notion.site/20240507-748a1bcd059f4714b2bbb4d920333953?pvs=4\"\u003e2024/05/07 - Gogoro ä¼æ¥­æ•¸æ“šå·¥ä½œåŠ\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå…¶å¯¦ AI é€™é ˜åŸŸçœŸçš„ä¸æ˜¯æˆ‘çš„å°ˆé•·é ˜åŸŸï¼Œæˆ‘è‡ªå·±æœƒé–‹å§‹é–‹ç™¼ GenAI æ‡‰ç”¨æ˜¯å¾åŠ å…¥ä¼Šé›²è°·å¾Œé–‹å§‹çš„ï¼Œåœ¨ä¼Šé›²è°·åŸ·æ‰‹çš„å°ˆæ¡ˆå°±æ˜¯ä¸€å€‹ LLM Applicationï¼ŒåŠ ä¸Š GenAI è©±é¡ŒçœŸçš„æ˜¯æ™‚ä¸‹æœ€ç«ç†±çš„è©±é¡Œï¼Œæ´»åœ¨é€™æ™‚ä»£ï¼Œé–‹ç™¼çš„æ—¥å¸¸è¦ä¸ç¢°åˆ° AI çœŸçš„è »é›£çš„\u003c/p\u003e\n\u003cp\u003eè€Œè³½å‰å·¥ä½œåŠçš„ä¸»è¬›è€…å€‘çœŸçš„äººéƒ½å¾ˆå¥½ï¼Œè¬›è§£çš„ä¹Ÿéƒ½å¾ˆæ¸…æ¥šï¼Œç‰¹åˆ¥æ„Ÿè¬ Roger å’Œ Ginny åœ¨å·¥ä½œåŠçš„æ•™å°ï¼Œä»¥åŠ \u003ca href=\"https://shazi.info/\"\u003eScott\u003c/a\u003e åœ¨ GameDay ç•¶å¤©è³½å¾Œçš„æ”¯æ´ï¼Œåœ¨è³½å‰å·¥ä½œåŠä¹Ÿå’Œç¾å ´çš„äººäº¤æµï¼Œèªè­˜äº†ä¸å°‘æŠ€è¡“é«˜æ‰‹ï¼\u003c/p\u003e\n\u003cp\u003eæ¯”è³½é‚„æ²’é–‹å§‹ï¼Œä½†å…‰æ˜¯å‰é¢çš„å·¥ä½œåŠå°±è¦ºå¾—é€™æ¬¡çš„åƒè³½é«”é©—çœŸçš„å¾ˆæ£’ï¼Œè³½å‰èƒ½è·Ÿé€™äº›æŠ€è¡“å¤§ç¥å­¸ç¿’ï¼ŒçœŸçš„æ˜¯ä¸€æ¬¡é›£å¾—çš„æ©Ÿæœƒã€‚\u003c/p\u003e\n\u003ch3 id=\"æ¯”è³½é¡Œç›®å…¬å¸ƒ\"\u003eæ¯”è³½é¡Œç›®å…¬å¸ƒ\u003c/h3\u003e\n\u003cp\u003eåœ¨å ±åæ™‚æ˜¯è¦å¡«å¯«ç«¶è³½ä¸»é¡Œçš„å¿—é¡˜åºçš„ï¼Œæˆ‘å€‘ç•¶åˆæŠ•çš„ç¬¬ä¸€å€‹å¿—é¡˜æ˜¯ã€Œæ™ºæ…§æ‡‰ç”¨ã€ç¬¬äºŒç‚ºã€Œæ™ºæ…§ç§»å‹• - Gogoroã€ï¼Œæœ€çµ‚æˆ‘å€‘è¢«å®‰æ’åœ¨æ™ºæ…§ç§»å‹•çš„çµ„åˆ¥ã€‚\u003c/p\u003e\n\u003cp\u003eè€Œæˆ‘å€‘é€™çµ„çš„é¡Œç›®å¦‚ä¸‹:\n\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/be97638f-6e7c-4021-af85-eb453ffb2b4b\" alt=\"image\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå®˜æ–¹æä¾›çš„æ•¸æ“šå°±æ˜¯ Gogoro å®˜ç¶²ä¸Šçš„è»Šä¸»æ‰‹å†Š: \u003ca href=\"https://support.gogoro.com/tw/manual/collections/236738689176894/\"\u003ehttps://support.gogoro.com/tw/manual/collections/236738689176894/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eåŸºæœ¬ä¸Šé€™å€‹å‘½é¡Œçµ•å°é€ƒä¸é \u0026ldquo;RAG\u0026rdquo;\u003c/p\u003e","title":"å­¸ç”Ÿæ™‚æœŸçš„æœ€å¾Œä¸€å ´æ¯”è³½: 2024 GenAI Hackathon æ¯”è³½ç´€éŒ„"},{"content":" å‰å¹¾å¤©å¯«äº†ä¸€ç¯‡ Serverless Framework 101ï¼Œä»Šå¤©å°±ä¾†å¯«å¯« AWS SAM çš„æ•™å­¸ï¼Œé€™å…©å€‹éƒ½æ˜¯ç”¨ä¾†éƒ¨ç½²åŠç®¡ç† Serverless æ‡‰ç”¨çš„æ¡†æ¶ï¼Œå…©è€…å¯ä»¥èªªæ˜¯ç«¶çˆ­å°æ‰‹é—œä¿‚ï¼å¾…ä¹‹å¾Œæœ‰ç©ºå†ä¾†å¯«ä¸€ç¯‡é€™å…©å€‹ç”¢å“çš„æ¯”è¼ƒ\nPrerequisites è¨»å†Š AWS å¸³æˆ¶ å»ºç«‹ Admin IAM User å»ºç«‹ access key ID and secret access key å®‰è£ AWS CLI é…ç½® AWS credentials ä»¥ä¸Šè©³ç´°å…§å®¹è«‹æŸ¥çœ‹å®˜æ–¹æ–‡æª”: prerequisites\nå®‰è£ AWS SAM CLI Mac çš„ç”¨æˆ¶è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¾ 2023/9 é–‹å§‹ï¼ŒAWS ä¸æœƒåœ¨ç¶­è­· AWS SAM CLI çš„ Homebrew Installer\nç”±æ–¼æˆ‘ç¾åœ¨æ˜¯ä½¿ç”¨ Windows ä½œæ¥­ç³»çµ±çš„é›»è…¦ï¼Œä»Šå¤©ç¤ºç¯„å¦‚ä½•åœ¨ Windows å®‰è£ AWS SAM CLI\nWindows å®‰è£ Windows å®‰è£ç›¸ç•¶ç°¡å–®ï¼Œåªè¦å»å®˜æ–¹æ–‡æª”è£¡é¢ä¸‹è¼‰ MSI Fileï¼Œæ¥è‘—ç„¡è…¦çš„ Next æŒ‰æŒ‰æŒ‰å°±è£å¥½äº† XD\nä¸‹è¼‰å¥½ä¹‹å¾Œï¼Œè¼¸å…¥æŒ‡ä»¤ sam --version æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ\n$ sam --version SAM CLI, version 1.115.0 Windows å•Ÿç”¨ LongPathsEnabled åˆ°é€™é‚Šé‚„æ²’æœ‰çµæŸï¼Œå°æ–¼ Windows ç”¨æˆ¶ï¼ŒWindows ç³»çµ±çš„æœ€å¤§è·¯å¾‘é™åˆ¶ï¼ˆMAX_PATHï¼‰é€šå¸¸æ˜¯ 260 å€‹å­—ç¬¦ï¼Œè«‹ä¸€å®šè¦å•Ÿç”¨ LongPathsEnabled ï¼Œä¸ç„¶åœ¨ sam çš„æŸäº›æŒ‡ä»¤åŸ·è¡Œå¾Œæœƒå› ç‚ºæ–‡ä»¶è·¯å¾‘éé•·å‡ºç¾ Errorï¼Œä¾‹å¦‚: sam init\nStarting in Windows 10, version 1607,Â MAX_PATHÂ limitations have been removed from common Win32 file and directory functions. However, you must opt-in to the new behavior.\nè³‡æ–™ä¾†æº: Maximum Path Length Limitation - Win32 apps\nè«‹ä½ ä»¥ç³»çµ±ç®¡ç†å“¡èº«åˆ†æ‰“é–‹ä½ çš„ Powershellï¼Œé€™é‚Šæˆ‘ä½¿ç”¨ Powershell ç‰ˆæœ¬ç‚º 7.4.2\nè¼¸å…¥æŒ‡ä»¤:\n$ New-ItemProperty -Path \u0026#34;HKLM:\\SYSTEM\\CurrentControlSet\\Control\\FileSystem\u0026#34; -Name \u0026#34;LongPathsEnabled\u0026#34; -Value 1 -PropertyType DWORD -Force LongPathsEnabled : 1 PSPath : Microsoft.PowerShell.Core\\Registry::HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\FileSystem PSParentPath : Microsoft.PowerShell.Core\\Registry::HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control PSChildName : FileSystem PSDrive : HKLM PSProvider : Microsoft.PowerShell.Core\\Registry å› ç‚ºæœ‰äº› process å¯èƒ½åœ¨è¨­ç½®æ­¤éµä¹‹å‰å°±å·²ç¶“ç·©å­˜ï¼Œç‚ºäº†è®“ç³»çµ±ä¸Šçš„æ‰€æœ‰æ‡‰ç”¨ç¨‹åºè­˜åˆ¥é€™å€‹éµçš„å€¼ï¼Œè«‹é‡æ–°é–‹æ©Ÿï¼\nHello World Application å»ºç«‹ä¸€å€‹ Project é¦–å…ˆæˆ‘å€‘å…ˆå»ºç«‹ä¸€å€‹ Project\n$ sam init SAM CLI now collects telemetry to better understand customer needs. You can OPT OUT and disable telemetry collection by setting the environment variable SAM_CLI_TELEMETRY=0 in your shell. Thanks for your help! Learn More: https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-telemetry.html You can preselect a particular runtime or package type when using the `sam init` experience. Call `sam init --help` to learn more. Which template source would you like to use? 1 - AWS Quick Start Templates 2 - Custom Template Location Choice: 1 Choose an AWS Quick Start application template 1 - Hello World Example 2 - Data processing 3 - Hello World Example with Powertools for AWS Lambda 4 - Multi-step workflow 5 - Scheduled task 6 - Standalone function 7 - Serverless API 8 - Infrastructure event management 9 - Lambda Response Streaming 10 - Serverless Connector Hello World Example 11 - Multi-step workflow with Connectors 12 - GraphQLApi Hello World Example 13 - Full Stack 14 - Lambda EFS example 15 - DynamoDB Example 16 - Machine Learning Template: 1 Use the most popular runtime and package type? (Python and zip) [y/N]: y Would you like to enable X-Ray tracing on the function(s) in your application? [y/N]: Would you like to enable monitoring using CloudWatch Application Insights? For more info, please view https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch-application-insights.html [y/N]: Would you like to set Structured Logging in JSON format on your Lambda functions? [y/N]: Project name [sam-app]: aws-sam-101 Cloning from https://github.com/aws/aws-sam-cli-app-templates (process may take a moment) ----------------------- Generating application: ----------------------- Name: aws-sam-101 Runtime: python3.9 Architectures: x86_64 Dependency Manager: pip Application Template: hello-world Output Directory: . Configuration file: aws-sam-101\\samconfig.toml Next steps can be found in the README file at aws-sam-101\\README.md Commands you can use next ========================= [*] Create pipeline: cd aws-sam-101 \u0026amp;\u0026amp; sam pipeline init --bootstrap [*] Validate SAM template: cd aws-sam-101 \u0026amp;\u0026amp; sam validate [*] Test Function in the Cloud: cd aws-sam-101 \u0026amp;\u0026amp; sam sync --stack-name {stack-name} --watch ç¾åœ¨æˆ‘å€‘å·²ç¶“æˆåŠŸå»ºç«‹å¥½å°ˆæ¡ˆ\næˆ‘å€‘é€²åˆ°è£¡é¢çœ‹ä¸€ä¸‹\n$ cd aws-sam-101 $ tree â”‚ .gitignore â”‚ README.md â”‚ samconfig.toml # å­˜åƒæ•¸ â”‚ template.yaml # AWS æ ¹æ“šæ­¤æª”æ¡ˆé…ç½®ä½ çš„ Infra â”‚ __init__.py â”‚ â”œâ”€events â”‚ event.json â”‚ â”œâ”€hello_world â”‚ app.py # ä½ çš„ Lambda Function å¯«åœ¨é€™ â”‚ requirements.txt â”‚ __init__.py â”‚ â””â”€tests â”‚ requirements.txt â”‚ __init__.py â”‚ â”œâ”€integration â”‚ test_api_gateway.py â”‚ __init__.py â”‚ â””â”€unit test_handler.py __init__.py Build æ¥ä¸‹ä¾†æˆ‘å€‘å°±è¦ä¾†æ‰“åŒ…æˆ‘å€‘å°ˆæ¡ˆäº†ï¼Œä½†å› ç‚ºæˆ‘æƒ³è¦ä½¿ç”¨ Python 3.11ï¼Œæ‰€ä»¥æˆ‘å…ˆåˆ° template.yaml æŠŠ Runtime æ”¹æˆ 3.11\næ¥è‘—è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤\n$ sam build Starting Build use cache Manifest file is changed (new hash: 3298f13049d19cffaa37ca931dd4d421) or dependency folder (.aws-sam\\deps\\ab6747e1-a68c-4fab-ae91-fa1c4dcd23e1) is missing for (HelloWorldFunction), downloading dependencies and copying/building source Building codeuri: C:\\GitHub\\aws-sam-101\\hello_world runtime: python3.11 metadata: {} architecture: x86_64 functions: HelloWorldFunction Running PythonPipBuilder:CleanUp Running PythonPipBuilder:ResolveDependencies Running PythonPipBuilder:CopySource Running PythonPipBuilder:CopySource Build Succeeded Built Artifacts : .aws-sam\\build Built Template : .aws-sam\\build\\template.yaml Commands you can use next ========================= [*] Validate SAM template: sam validate [*] Invoke Function: sam local invoke [*] Test Function in the Cloud: sam sync --stack-name {{stack-name}} --watch [*] Deploy: sam deploy --guided å¦‚æŒ‡ä»¤ output æ‰€ç¤ºï¼Œä½ æœƒç™¼ç¾ä½ çš„ .aws-sam ç›®éŒ„ä¸‹å¤šäº† build é€™å€‹ç›®éŒ„\n.aws-sam â”œâ”€â”€ build â”‚ â”œâ”€â”€ HelloWorldFunction â”‚ â”‚ â”œâ”€â”€ __init__.py â”‚ â”‚ â”œâ”€â”€ app.py # Lambda Function â”‚ â”‚ â””â”€â”€ requirements.txt â”‚ â””â”€â”€ template.yaml â””â”€â”€ build.toml Deploy åœ¨é€™å€‹éƒ¨ä»½ï¼Œä½ éœ€è¦é…ç½®ä½ çš„ AWS Credentialsï¼Œæˆ‘å·²ç¶“äº‹å…ˆå‰µå»ºå¥½ä¸€å€‹ IAM User ä¾†æš«æ™‚ç”¨ï¼Œè©³ç´°å¦‚ä½•é…ç½®ä½ çš„ AWS Credentials è«‹è‡ªè¡Œç¿»é–±å®˜æ–¹æ–‡æª”ï¼Œæœ¬æ–‡é è¨­è®€è€…å·²å…·å‚™æ“ä½œ AWS çš„åŸºæœ¬èƒ½åŠ›\nè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ä¾†éƒ¨ç½²ä½ çš„ Lambda\n$ sam deploy --guided Configuring SAM deploy ====================== Looking for config file [samconfig.toml] : Found Reading default arguments : Success Setting default arguments for \u0026#39;sam deploy\u0026#39; ========================================= Stack Name [aws-sam-101]: AWS Region [ap-northeast-1]: #Shows you resources changes to be deployed and require a \u0026#39;Y\u0026#39; to initiate deploy Confirm changes before deploy [Y/n]: n #SAM needs permission to be able to create roles to connect to the resources in your template Allow SAM CLI IAM role creation [Y/n]: #Preserves the state of previously provisioned resources when an operation fails Disable rollback [y/N]: HelloWorldFunction has no authentication. Is this okay? [y/N]: y Save arguments to configuration file [Y/n]: SAM configuration file [samconfig.toml]: SAM configuration environment [default]: Looking for resources needed for deployment: Creating the required resources... Successfully created! Managed S3 bucket: aws-sam-cli-managed-default-samclisourcebucket-jptiw4noplqk A different default S3 bucket can be set in samconfig.toml and auto resolution of buckets turned off by setting resolve_s3=False Parameter \u0026#34;stack_name=aws-sam-101\u0026#34; in [default.deploy.parameters] is defined as a global parameter [default.global.parameters]. This parameter will be only saved under [default.global.parameters] in C:\\GitHub\\aws-sam-101\\samconfig.toml. Saved arguments to config file Running \u0026#39;sam deploy\u0026#39; for future deployments will use the parameters saved above. The above parameters can be changed by modifying samconfig.toml Learn more about samconfig.toml syntax at https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-config.html Uploading to aws-sam-101/37624213qqc910da9321690a64a28 554765 / 554765 (100.00%) Deploying with following values =============================== Stack name : aws-sam-101 Region : ap-northeast-1 Confirm changeset : False Disable rollback : False Deployment s3 bucket : aws-sam-cli-managed-default-samclisourcebucket-jptiw4noplqk Capabilities : [\u0026#34;CAPABILITY_IAM\u0026#34;] Parameter overrides : {} Signing Profiles : {} Initiating deployment ===================== Uploading to aws-sam-101/dbd54debe319zaa19577cbf2egaj4.template 1257 / 1257 (100.00%) Waiting for changeset to be created.. CloudFormation stack changeset ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Operation LogicalResourceId ResourceType Replacement ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- + Add HelloWorldFunctionHelloWorldPermissionPro AWS::Lambda::Permission N/A d + Add HelloWorldFunctionRole AWS::IAM::Role N/A + Add HelloWorldFunction AWS::Lambda::Function N/A + Add ServerlessRestApiDeployment47fcad5f9d AWS::ApiGateway::Deployment N/A + Add ServerlessRestApiProdStage AWS::ApiGateway::Stage N/A + Add ServerlessRestApi AWS::ApiGateway::RestApi N/A ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Changeset created successfully. arn:aws:cloudformation:ap-northeast-1:1234556781:changeSet/samcli-deploy17144221345/7ac52521a5-34ce-432f-bb1e-64521743e8g 2024-04-28 21:27:31 - Waiting for stack create/update to complete CloudFormation events from stack operations (refresh every 5.0 seconds) ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ResourceStatus ResourceType LogicalResourceId ResourceStatusReason ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- CREATE_IN_PROGRESS AWS::CloudFormation::Stack aws-sam-101 User Initiated CREATE_IN_PROGRESS AWS::IAM::Role HelloWorldFunctionRole - CREATE_IN_PROGRESS AWS::IAM::Role HelloWorldFunctionRole Resource creation Initiated CREATE_COMPLETE AWS::IAM::Role HelloWorldFunctionRole - CREATE_IN_PROGRESS AWS::Lambda::Function HelloWorldFunction - CREATE_IN_PROGRESS AWS::Lambda::Function HelloWorldFunction Resource creation Initiated CREATE_IN_PROGRESS AWS::Lambda::Function HelloWorldFunction Eventual consistency check initiated CREATE_IN_PROGRESS AWS::ApiGateway::RestApi ServerlessRestApi - CREATE_IN_PROGRESS AWS::ApiGateway::RestApi ServerlessRestApi Resource creation Initiated CREATE_COMPLETE AWS::ApiGateway::RestApi ServerlessRestApi - CREATE_IN_PROGRESS AWS::ApiGateway::Deployment ServerlessRestApiDeployment432d5f9d - CREATE_IN_PROGRESS AWS::Lambda::Permission HelloWorldFunctionHelloWorldPermissionPro - d CREATE_COMPLETE AWS::Lambda::Function HelloWorldFunction - CREATE_IN_PROGRESS AWS::Lambda::Permission HelloWorldFunctionHelloWorldPermissionPro Resource creation Initiated d CREATE_IN_PROGRESS AWS::ApiGateway::Deployment ServerlessRestApiDeployment4715f9d Resource creation Initiated CREATE_COMPLETE AWS::Lambda::Permission HelloWorldFunctionHelloWorldPermissionPro - d CREATE_COMPLETE AWS::ApiGateway::Deployment ServerlessRestApiDeployment12d5f9d - CREATE_IN_PROGRESS AWS::ApiGateway::Stage ServerlessRestApiProdStage - CREATE_IN_PROGRESS AWS::ApiGateway::Stage ServerlessRestApiProdStage Resource creation Initiated CREATE_COMPLETE AWS::ApiGateway::Stage ServerlessRestApiProdStage - CREATE_COMPLETE AWS::CloudFormation::Stack aws-sam-101 - ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- CloudFormation outputs from deployed stack -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Outputs -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Key HelloWorldFunctionIamRole Description Implicit IAM Role created for Hello World function Value arn:aws:iam::1234566781:role/aws-sam-101-HelloWorldFunctionRole-WAAUK9mx1X1E Key HelloWorldApi Description API Gateway endpoint URL for Prod stage for Hello World function Value https://ffj14dx1k.execute-api.ap-northeast-1.amazonaws.com/Prod/hello/ Key HelloWorldFunction Description Hello World Lambda Function ARN Value arn:aws:lambda:ap-northeast-1:1234567890:function:aws-sam-101-HelloWorldFunction-714agg15dlfg -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Successfully created/updated stack - aws-sam-101 in ap-northeast-1 ç•¶ä½ çœ‹åˆ° Successfully created/updated stack - aws-sam-101 in ap-northeast-1 å°±æ˜¯å®Œæˆå›‰\næˆ‘å€‘åˆ° AWS Console æŸ¥çœ‹ä¸€ä¸‹ Lambda å’Œ CloudFormation\nè€Œ sam deploy é€™å€‹æŒ‡ä»¤èƒŒå¾ŒåŸ·è¡Œçš„å…·é«”æ­¥é©Ÿå¦‚ä¸‹:\nå‰µå»º S3 Bucket ä¸¦ä¸Šå‚³ .aws-sam ç›®éŒ„ï¼š AWS SAM CLI é¦–å…ˆå‰µå»ºä¸€å€‹ S3 Bucketï¼ˆå¦‚æœæ²’æœ‰æŒ‡å®šç¾æœ‰çš„ Bucketï¼‰ã€‚é€™å€‹ Bucket ç”¨æ–¼å­˜å„²éƒ¨ç½²éç¨‹ä¸­éœ€è¦çš„æ‰€æœ‰æ–‡ä»¶ã€‚ æ¥è‘—ï¼ŒAWS SAM CLI å°‡ä½ çš„ .aws-sam ç›®éŒ„ä¸Šå‚³åˆ°é€™å€‹æ–°å»ºçš„ S3 Bucket ä¸­ã€‚.aws-sam ç›®éŒ„é€šå¸¸åŒ…å«ç·¨è­¯å’Œæ‰“åŒ…å¾Œçš„æ‡‰ç”¨ç¨‹å¼ç¢¼åŠå…¶ä¾è³´æ–‡ä»¶ï¼Œé€™äº›æ˜¯éƒ¨ç½²åˆ° AWS çš„å¿…éœ€è³‡æºã€‚ å°‡ AWS SAM æ¨¡æ¿è½‰æ›ç‚º AWS CloudFormation ä¸¦ä¸Šå‚³ï¼š AWS SAM æ¨¡æ¿æ˜¯ä¸€ç¨®æè¿°ä½ çš„æœå‹™å™¨ç„¡æ‡‰ç”¨æ¶æ§‹çš„æ–‡ä»¶ï¼Œå®ƒä½¿ç”¨ YAML æˆ– JSON æ ¼å¼ç·¨å¯«ã€‚AWS SAM CLI æœƒå°‡é€™å€‹æ¨¡æ¿è½‰æ›æˆ AWS CloudFormation æ¨¡æ¿ã€‚CloudFormation æ˜¯ AWS æä¾›çš„ä¸€å€‹æœå‹™ï¼Œå…è¨±ç”¨æˆ¶é€šéç·¨å¯«æ¨¡æ¿ä¾†æ¨¡å‹åŒ–å’Œè¨­å®šæ•´å€‹ AWS è³‡æºå †æ£§ã€‚ è½‰æ›å¾Œçš„æ¨¡æ¿éš¨å¾Œè¢«ä¸Šå‚³åˆ° AWS CloudFormation æœå‹™ã€‚é€™å€‹æ­¥é©Ÿæ˜¯ç‚ºäº†æº–å‚™è³‡æºçš„é…ç½®å’Œç®¡ç†ã€‚ AWS CloudFormation ä½ˆç½®è³‡æºï¼š ä¸€æ—¦æ¨¡æ¿ä¸Šå‚³åˆ° AWS CloudFormation æœå‹™ï¼ŒCloudFormation ä¾¿é–‹å§‹æ ¹æ“šæ¨¡æ¿ä¸­çš„å®šç¾©ä¾†å‰µå»ºå’Œé…ç½®æ‰€éœ€çš„ AWS è³‡æºã€‚é€™åŒ…æ‹¬è¨­å®šå¦‚å‡½æ•¸ã€è³‡æ–™åº«ã€ç¶²è·¯è¨­ç½®ç­‰å¿…è¦çš„çµ„ä»¶ã€‚ CloudFormation ç¢ºä¿æ‰€æœ‰è³‡æºéƒ½æŒ‰ç…§æ¨¡æ¿ä¸­å®šç¾©çš„ä¾è³´é—œä¿‚å’Œåƒæ•¸è¨­å®šæ­£ç¢ºéƒ¨ç½²ï¼Œä¸¦ç®¡ç†è³‡æºçš„æ•´å€‹ç”Ÿå‘½å‘¨æœŸã€‚ èª¿ç”¨éƒ¨ç½²ä¸Šå»çš„ Lambda Function ç¾åœ¨æˆ‘å€‘å¯ä»¥ä¾†æ¸¬è©¦çœ‹çœ‹ API Endpointï¼Œåˆ°å‰›å‰›çš„ Lambdaï¼Œé»æ“Š API Gateway æ‰¾åˆ° Endpoint\n$ curl {YOUR_API_ENDPOINT} {\u0026#34;message\u0026#34;: \u0026#34;hello world\u0026#34;} é™¤äº†ç›´æ¥åˆ° AWS Console æŸ¥çœ‹ API Endpoint ä¹‹å¤–ï¼Œsam é‚„æœ‰æä¾›æŒ‡ä»¤ä¾†æŸ¥çœ‹ API Endpoints\n$ sam list endpoints --output json [ { \u0026#34;LogicalResourceId\u0026#34;: \u0026#34;HelloWorldFunction\u0026#34;, \u0026#34;PhysicalResourceId\u0026#34;: \u0026#34;aws-sam-101-HelloWorldFunction-7111ffa\u0026#34;, \u0026#34;CloudEndpoint\u0026#34;: \u0026#34;-\u0026#34;, \u0026#34;Methods\u0026#34;: \u0026#34;-\u0026#34; }, { \u0026#34;LogicalResourceId\u0026#34;: \u0026#34;ServerlessRestApi\u0026#34;, \u0026#34;PhysicalResourceId\u0026#34;: \u0026#34;123j013dx3i\u0026#34;, \u0026#34;CloudEndpoint\u0026#34;: [ \u0026#34;https://12313d13i.execute-api.ap-northeast-1.amazonaws.com/Prod\u0026#34;, \u0026#34;https://12313d13i.execute-api.ap-northeast-1.amazonaws.com/Stage\u0026#34; ], \u0026#34;Methods\u0026#34;: [ \u0026#34;/hello[\u0026#39;get\u0026#39;]\u0026#34; ] } ] å¦å¤–æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ sam remote invoke æŒ‡ä»¤ä¾†èª¿ç”¨éƒ¨ç½² AWS ä¸Šçš„ Lambda\nä½†è«‹ç‰¹åˆ¥æ³¨æ„ï¼Œinvoke å¾Œé¢æ‰€æ¥çš„åƒæ•¸ï¼Œæ˜¯ä½ åœ¨ template.yaml ä¸­æ‰€å®šç¾©çš„ Resources åç¨±ï¼Œä¹Ÿå°±æ˜¯ HelloWorldFunctionï¼Œé€™è·Ÿ Serverless Framework çš„ serverless invoke æŒ‡ä»¤æ¦‚å¿µä¸€æ¨£\né—œæ–¼ä¸Šè¿°æåˆ°çš„ Serverless Frameworkï¼Œæˆ‘æœ‰å¯«ä¸€ç¯‡æ•™å­¸æ–‡ç« ï¼Œè£¡é¢æœ‰æåˆ° serverless invoke æŒ‡ä»¤ (é€£çµ)\n$ sam remote invoke HelloWorldFunction Invoking Lambda Function HelloWorldFunction START RequestId: 1ec7cb08-1066-4f23-b4fd-b542a97ef27b Version: $LATEST END RequestId: 1ec7cb08-1066-4f23-b4fd-b542a97ef27b REPORT RequestId: 1ec7cb08-1066-4f23-b4fd-b542a97ef27b Duration: 2.30 ms Billed Duration: 3 ms Memory Size: 128 MB Max Memory Used: 33 MB Init Duration: 85.18 ms {\u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;: \\\u0026#34;hello world\\\u0026#34;}\u0026#34;} å°ç¨‹å¼ç¢¼åšå€‹å°æ›´æ”¹ï¼Œä¸¦å¿«é€Ÿéƒ¨ç½²æœ€æ–°è®Šæ›´è‡³ AWS ç¾åœ¨æˆ‘å€‘ä¾†ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ Lambda ç¨‹å¼ç¢¼ï¼Œæˆ‘æŠŠ hello world æ”¹æˆ â†’ hello shiun\nä¹Ÿè¨±ç¬¬ä¸€æ™‚é–“æˆ‘å€‘æœƒæƒ³èªªå¯ä»¥ç”¨ sam deploy é€™å€‹æŒ‡ä»¤æŠŠæœ€æ–°çš„è®Šæ›´éƒ¨ç½²ä¸Šå»ï¼Œä½†æ˜¯ AWS SAM CLI é‚„æä¾›äº†ä¸€å€‹æŒ‡ä»¤ â€” sam snyc ï¼Œç•¶æ­£åœ¨é–‹ç™¼ AWS Lambda å‡½æ•¸æˆ–å…¶ä»– AWS è³‡æºä¸¦ä¸”éœ€è¦é »ç¹é€²è¡Œå°çš„æ›´æ”¹æ™‚ï¼Œsam sync å¯ä»¥è®“æ‚¨å¿«é€Ÿå°‡é€™äº›æ›´æ”¹æ¨é€åˆ° AWS\nsam deploy vs sam sync sam sync å…è¨±é–‹ç™¼è€…å¿«é€Ÿå°‡æœ¬åœ°æ›´æ”¹åŒæ­¥åˆ°å·²éƒ¨ç½²çš„æ‡‰ç”¨ï¼Œç‰¹åˆ¥æ˜¯å°æ–¼ä»£ç¢¼å’Œé…ç½®çš„å°ä¿®æ”¹ã€‚é€™å°æ–¼å¿«é€Ÿé–‹ç™¼å‘¨æœŸéå¸¸æœ‰ç”¨ï¼Œå› ç‚ºå®ƒå¤§å¹…æ¸›å°‘äº†ç­‰å¾…æ™‚é–“ï¼Œé–‹ç™¼è€…å¯ä»¥å³æ™‚çœ‹åˆ°ä»–å€‘æ›´æ”¹çš„æ•ˆæœ åªæ›´æ–°æœ‰è®Šæ›´çš„è³‡æºï¼Œé¿å…äº†ä¸å¿…è¦çš„é‡è¤‡éƒ¨ç½²éç¨‹ï¼Œé€™æ¨£å¯ä»¥ç¯€çœæ™‚é–“å’Œæˆæœ¬ï¼Œå°¤å…¶æ˜¯åœ¨é–‹ç™¼éšæ®µçš„é »ç¹æ›´æ–°ä¸­ sam deployï¼š é€²è¡Œå®Œæ•´çš„éƒ¨ç½²ï¼ŒåŒ…æ‹¬é‡æ–°æ‰“åŒ…æ‡‰ç”¨ã€ä¸Šå‚³åˆ° S3ï¼Œä¸¦é€šé AWS CloudFormation æ›´æ–°æ•´å€‹ Stackã€‚é€™å€‹éç¨‹é€šå¸¸æ¯”è¼ƒè€—æ™‚ï¼Œå°æ–¼å°å¹…åº¦çš„è¿­ä»£ä¾†èªªå¯èƒ½æ•ˆç‡ä¸é«˜ æ¯æ¬¡éƒ¨ç½²éƒ½å¯èƒ½æ¶‰åŠé‡å»ºå’Œé‡å•Ÿæ‰€æœ‰è³‡æºï¼Œå³ä½¿æ˜¯æœªæ›´æ”¹çš„éƒ¨åˆ†ä¹Ÿä¸€æ¨£ï¼Œé€™æœƒå°è‡´æ›´é«˜çš„æ™‚é–“å’Œæˆæœ¬æ¶ˆè€— ç¶œåˆä»¥ä¸Šï¼Œæˆ‘å€‘é€™è£¡ä¿®æ”¹äº†ç¨‹å¼ç¢¼ï¼Œæ¯”è¼ƒå¥½çš„åšæ³•æ˜¯ä½¿ç”¨ sam sync æŒ‡ä»¤ä¾†éƒ¨ç½²æœ€æ–°è®Šæ›´\n$ sam sync --watch The SAM CLI will use the AWS Lambda, Amazon API Gateway, and AWS StepFunctions APIs to upload your code without performing a CloudFormation deployment. This will cause drift in your CloudFormation stack. **The sync command should only be used against a development stack**. Confirm that you are synchronizing a development stack. Enter Y to proceed with the command, or enter N to cancel: [Y/n]: Y Queued infra sync. Waiting for in progress code syncs to complete... Starting infra sync. Manifest is not changed for (HelloWorldFunction), running incremental build Building codeuri: C:\\GitHub\\aws-sam-101\\hello_world runtime: python3.11 metadata: {} architecture: x86_64 functions: HelloWorldFunction Running PythonPipBuilder:CopySource Build Succeeded Successfully packaged artifacts and wrote output template to file C:\\Users\\Shiun\\AppData\\Local\\Temp\\tmpve9a9m2j. Execute the following command to deploy the packaged template sam deploy --template-file C:\\Users\\Shiun\\AppData\\Local\\Temp\\tmpveam2j --stack-name \u0026lt;YOUR STACK NAME\u0026gt; Deploying with following values =============================== Stack name : aws-sam-101 Region : ap-northeast-1 Disable rollback : False Deployment s3 bucket : aws-sam-cli-managed-default-samclisourcebucket-jptialqk Capabilities : [\u0026#34;CAPABILITY_NAMED_IAM\u0026#34;, \u0026#34;CAPABILITY_AUTO_EXPAND\u0026#34;] Parameter overrides : {} Signing Profiles : null Initiating deployment ===================== 2024-04-28 22:15:56 - Waiting for stack create/update to complete CloudFormation events from stack operations (refresh every 0.5 seconds) ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ResourceStatus ResourceType LogicalResourceId ResourceStatusReason ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- UPDATE_IN_PROGRESS AWS::CloudFormation::Stack aws-sam-101 User Initiated UPDATE_IN_PROGRESS AWS::CloudFormation::Stack aws-sam-101 Transformation succeeded CREATE_IN_PROGRESS AWS::CloudFormation::Stack AwsSamAutoDependencyLayerNestedStack - CREATE_IN_PROGRESS AWS::CloudFormation::Stack AwsSamAutoDependencyLayerNestedStack Resource creation Initiated CREATE_COMPLETE AWS::CloudFormation::Stack AwsSamAutoDependencyLayerNestedStack - UPDATE_IN_PROGRESS AWS::Lambda::Function HelloWorldFunction - UPDATE_COMPLETE AWS::Lambda::Function HelloWorldFunction - UPDATE_COMPLETE_CLEANUP_IN_PROGRESS AWS::CloudFormation::Stack aws-sam-101 - UPDATE_COMPLETE AWS::CloudFormation::Stack aws-sam-101 - ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- CloudFormation outputs from deployed stack -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Outputs -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Key HelloWorldFunctionIamRole Description Implicit IAM Role created for Hello World function Value arn:aws:iam::1234567890:role/aws-sam-101-HelloWorldFunctionRole-WAAUK9mx1X1E Key HelloWorldApi Description API Gateway endpoint URL for Prod stage for Hello World function Value https://g13i1111.execute-api.ap-northeast-1.amazonaws.com/Prod/hello/ Key HelloWorldFunction Description Hello World Lambda Function ARN Value arn:aws:lambda:ap-northeast-1:1234567890:function:aws-sam-101-HelloWorldFunction-7i6w81lfg -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- Stack update succeeded. Sync infra completed. CodeTrigger not created as CodeUri or DefinitionUri is missing for ServerlessRestApi. Infra sync completed. ç¾åœ¨æˆ‘å€‘ä¸Šå» AWS Console æŸ¥çœ‹ä¸€ä¸‹ Lambda å’Œ CloudFormation çš„è®Šæ›´\nLambda å·²ç¶“æˆåŠŸä¿®æ”¹é€™éƒ¨åˆ†æˆ‘æƒ³æ²’ä»€éº¼å•é¡Œï¼Œé‚£ CloudFormation çš„ Stack é¡¯ç¤º \u0026ldquo;NESTEDâ€ é€™æ˜¯ä»€éº¼ï¼Ÿç”±æ–¼æ­¤æ–‡ç« ä¸»è¦ä»¥ AWS SAM å…¥é–€æ•™å­¸ç‚ºä¸»ï¼Œæˆ‘é€™é‚Šç°¡å–®è§£é‡‹ï¼š\nåœ¨ AWS CloudFormation ä¸­ï¼ŒNested Stack å°±æ˜¯åœ¨ä¸€å€‹ä¸»è¦çš„ Stackï¼ˆæƒ³åƒæˆä¸€å€‹å¤§çš„é …ç›®åˆ—è¡¨ï¼‰è£¡é¢ï¼Œå¯ä»¥å‰µå»ºå’Œç®¡ç†å¤šå€‹å° Stackï¼ˆå°±åƒæ˜¯é …ç›®åˆ—è¡¨ä¸­çš„å­åˆ—è¡¨ï¼‰ã€‚é€™æ¨£åšçš„å¥½è™•æ˜¯ï¼Œç•¶ä½ æœ‰å¾ˆå¤šç›¸ä¼¼çš„è¨­ç½®æˆ–é…ç½®éœ€è¦é‡è¤‡ä½¿ç”¨æ™‚ï¼Œä½ å¯ä»¥æŠŠé€™äº›é…ç½®åšæˆä¸€å€‹å° Stackï¼Œç„¶å¾Œåœ¨å…¶ä»–é …ç›®ä¸­å¼•ç”¨å®ƒï¼Œé€™æ¨£å°±ä¸éœ€è¦æ¯æ¬¡éƒ½é‡å¯«ç›¸åŒçš„é…ç½®ï¼Œå¯ä»¥è®“æ•´å€‹çµæ§‹æ›´æ¸…æ™°ï¼Œä¹Ÿæ›´å®¹æ˜“ç®¡ç†ã€‚\næ‰¿ä¸Šï¼Œç”±æ–¼é€™å€‹ç‰¹æ€§ï¼Œæˆ‘å€‘å¯ä»¥é‡ç”¨é…ç½®ï¼Œé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼ sam sync æ¯”è¼ƒé©åˆé–‹ç™¼å¿«é€Ÿè¿­ä»£ï¼Œè€Œä¸”éƒ¨ç½²é€Ÿåº¦è¼ƒå¿«\nè©³ç´°è«‹è¦‹ AWS å®˜æ–¹æ–‡æª”: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-nested-stacks.html\nå†æ¬¡èª¿ç”¨ä¸€æ¬¡ï¼Œçœ‹çœ‹è®Šæ›´\n$ curl {YOUR_API_ENDPOINT} {\u0026#34;message\u0026#34;: \u0026#34;hello shiun\u0026#34;} é€é AWS SAM CLI åˆªé™¤éƒ¨ç½²åœ¨ AWS ä¸Šçš„è³‡æº CloudFormation çš„ç‰¹æ€§å°±æ˜¯å¯ä»¥åˆªé™¤ Stack ä¾†æŠŠç•¶åˆé€éé€™å€‹ Stack å‰µå»ºå‡ºä¾†çš„è³‡æºåˆªä¹¾æ·¨ï¼Œè€Œ AWS SAM èº«ç‚º CloudFormation çš„æ‹“å±•ï¼Œä¹Ÿæä¾›äº† sam delete é€™å€‹æŒ‡ä»¤ä¾†åˆªé™¤è©²å°ˆæ¡ˆéƒ¨ç½²åœ¨é›²ç«¯ä¸Šçš„è³‡æº\n$ sma delete Are you sure you want to delete the stack aws-sam-101 in the region ap-northeast-1 ? [y/N]: y Do you want to delete the template file 3141123123abc82d45ef55faf04.template in S3? [y/N]: y - Deleting S3 object with key 4c36d2ab78169da9e38fe8339b80626a - Deleting S3 object with key bd8e9f5130e915b480c3b2279a8baedb.template - Deleting S3 object with key 21410647a9e8cabc82d45e5556b6a804.template - Deleting Cloudformation stack aws-sam-101 Deleted successfully å…¶ä»–è³‡æº Shiun Blog - Serverless Framework 101 - è¼•é¬†é–‹ç™¼ä¸¦å¿«é€Ÿéƒ¨ç½²ä½ çš„ AWS Lambda AWS Workshop Studio - AWS SAM Serverless Patterns Collection AWS Docs - Working with nested stacks ","permalink":"https://shiun.me/blog/aws-sam-101/","summary":"\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/443687d7-a59a-4da7-8167-ec9121f7b276\" alt=\"image\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå‰å¹¾å¤©å¯«äº†ä¸€ç¯‡ \u003ca href=\"https://shiun.me/blog/serverless-framework-101/\"\u003eServerless Framework 101\u003c/a\u003eï¼Œä»Šå¤©å°±ä¾†å¯«å¯« AWS SAM çš„æ•™å­¸ï¼Œé€™å…©å€‹éƒ½æ˜¯ç”¨ä¾†éƒ¨ç½²åŠç®¡ç† Serverless æ‡‰ç”¨çš„æ¡†æ¶ï¼Œå…©è€…å¯ä»¥èªªæ˜¯ç«¶çˆ­å°æ‰‹é—œä¿‚ï¼å¾…ä¹‹å¾Œæœ‰ç©ºå†ä¾†å¯«ä¸€ç¯‡é€™å…©å€‹ç”¢å“çš„æ¯”è¼ƒ\u003c/p\u003e\n\u003ch2 id=\"prerequisites\"\u003ePrerequisites\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eè¨»å†Š AWS å¸³æˆ¶\u003c/li\u003e\n\u003cli\u003eå»ºç«‹ Admin IAM User\u003c/li\u003e\n\u003cli\u003eå»ºç«‹ access key ID and secret access key\u003c/li\u003e\n\u003cli\u003eå®‰è£ AWS CLI\u003c/li\u003e\n\u003cli\u003eé…ç½® AWS credentials\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eä»¥ä¸Šè©³ç´°å…§å®¹è«‹æŸ¥çœ‹å®˜æ–¹æ–‡æª”: \u003ca href=\"https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/prerequisites.html\"\u003eprerequisites\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"å®‰è£-aws-sam-cli\"\u003eå®‰è£ AWS SAM CLI\u003c/h2\u003e\n\u003cp\u003eMac çš„ç”¨æˆ¶è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¾ 2023/9 é–‹å§‹ï¼Œ\u003ca href=\"https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-sam-cli.html\"\u003eAWS ä¸æœƒåœ¨ç¶­è­· AWS SAM CLI çš„ Homebrew Installer\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eç”±æ–¼æˆ‘ç¾åœ¨æ˜¯ä½¿ç”¨ Windows ä½œæ¥­ç³»çµ±çš„é›»è…¦ï¼Œä»Šå¤©ç¤ºç¯„å¦‚ä½•åœ¨ Windows å®‰è£ AWS SAM CLI\u003c/p\u003e\n\u003ch3 id=\"windows-å®‰è£\"\u003eWindows å®‰è£\u003c/h3\u003e\n\u003cp\u003eWindows å®‰è£ç›¸ç•¶ç°¡å–®ï¼Œåªè¦å»\u003ca href=\"https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-sam-cli.html#install-sam-cli-instructions\"\u003eå®˜æ–¹æ–‡æª”\u003c/a\u003eè£¡é¢ä¸‹è¼‰ MSI Fileï¼Œæ¥è‘—ç„¡è…¦çš„ Next æŒ‰æŒ‰æŒ‰å°±è£å¥½äº† XD\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/3d2faa5c-b813-4fe3-bc72-bbae3d2c9ccd\" alt=\"Untitled 13\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eä¸‹è¼‰å¥½ä¹‹å¾Œï¼Œè¼¸å…¥æŒ‡ä»¤ \u003ccode\u003esam --version\u003c/code\u003e æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ\u003c/p\u003e","title":"AWS SAM 101 - æ–‡é•·åœ–å¤šï¼å¾å®‰è£åˆ°éƒ¨ç½²ä½ çš„ AWS Lambda"},{"content":"Serverless Framework ç°¡ä»‹ Serverless Framework æ˜¯ä¸€å€‹é–‹æºçš„ç„¡æœå‹™å™¨æ‡‰ç”¨æ¡†æ¶ï¼Œå®ƒå…è¨±é–‹ç™¼è€…å¿«é€Ÿå»ºç«‹ã€éƒ¨ç½²å’Œç®¡ç†åœ¨ AWS Lambdaã€Google Cloud Functionsã€Azure Functions ç­‰é›²å¹³å°ä¸Šé‹è¡Œçš„ç„¡æœå‹™å™¨æ‡‰ç”¨ã€‚é€™å€‹æ¡†æ¶ä½¿ç”¨ä¸€å€‹ç°¡æ½”çš„é…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ serverless.ymlï¼‰ï¼Œåœ¨å…¶ä¸­å®šç¾©äº†æ‡‰ç”¨çš„æ‰€æœ‰è³‡æºå’Œè¨­å®šï¼Œè®“é–‹ç™¼è€…å¯ä»¥å°ˆæ³¨æ–¼ç·¨å¯«æ¥­å‹™é‚è¼¯è€Œéç®¡ç†åŸºç¤è¨­æ–½ã€‚\nå®‰è£ Serverless Framework Prerequisites:\néœ€è¦æœ‰ npmï¼Œè‹¥ä½ çš„é›»è…¦æ²’æœ‰ npmï¼Œè«‹å»ä¸‹è¼‰ NodeJS $ npm install -g serverless å‰µå»ºä¸€å€‹ Service $ serverless ? What do you want to make? AWS - Node.js - Starter AWS - Node.js - HTTP API AWS - Node.js - Scheduled Task AWS - Node.js - SQS Worker AWS - Node.js - Express API AWS - Node.js - Express API with DynamoDB AWS - Python - Starter \u0026gt; AWS - Python - HTTP API AWS - Python - Scheduled Task AWS - Python - SQS Worker AWS - Python - Flask API AWS - Python - Flask API with DynamoDB Other è¼¸å…¥æŒ‡ä»¤å¾Œé€éæ–¹å‘éµé¸å–ä½ è¦çš„ Templateï¼Œæœ¬æ–‡å°‡å·² AWS - Python HTTP API ç¤ºç¯„\nå¦‚æœé€™äº›æ¨¡æ¿æ²’æœ‰ä½ æ»¿æ„çš„ï¼Œå¯ä»¥åˆ° serverless/examples æ‰¾ä½ è¦çš„æ¨¡æ¿ï¼Œç„¶å¾ŒæŒ‡ä»¤è¼¸å…¥ serverless --template-url=https://github.com/serverless/examples/tree/v3/...\n? What do you want to call this project? serverless-framework-101 âœ” Project successfully created in serverless-framework-101 folder ? Register or Login to Serverless Framework Yes Logging into the Serverless Framework via the browser If your browser does not open automatically, please open this URL: https://app.serverless.com?client=cli\u0026amp;transactionId=x6r7NmzVa-ExeVdCyQZV2 âœ” You are now logged into the Serverless Framework âœ” Your project is ready to be deployed to Serverless Dashboard (org: \u0026#34;shiunchiu\u0026#34;, app: \u0026#34;serverless-framework-101\u0026#34;) é€²å…¥ä½ çš„å·¥ä½œç›®éŒ„ï¼Œç„¶å¾Œé–‹å•Ÿ VS Code\n$ cd your-service-name $ code . ç¾åœ¨çš„ç›®éŒ„æ¶æ§‹æ‡‰è©²æœƒé•·é€™æ¨£\nC:. .gitignore handler.py README.md serverless.yml é…ç½® Provider ç™»å…¥ AWS å¸³è™Ÿ è«‹å…ˆç™»å…¥ä½ çš„ AWS å¸³è™Ÿ\nåˆ° Serverless Framework Dashboard é…ç½® Provider æŒ‰ä¸‹ \u0026ldquo;Connect AWS Provider\u0026rdquo; å¾Œï¼Œæœƒè·³è½‰åˆ° AWS CloudFormation é é¢ï¼Œç›´æ¥ä¸‹æ»‘åˆ°åº•ï¼Œæ‰“å‹¾ â€œI acknowledge that AWS CloudFormation might create IAM resources with custom names.â€ â†’ Create Stack ç­‰å¾…ä¸€ä¸‹ï¼Œç­‰ Stack å‰µå»ºå¥½æˆ‘å€‘å¯ä»¥å»çœ‹ä¸€ä¸‹é€™å€‹ Stackï¼Œå…¶å¯¦ä»–å°±æ˜¯å¹«ä½ è‡ªå‹•å‰µå»ºä¸€å€‹ IAM Role Stack å‰µå»ºå¥½å¾Œï¼Œè·³è½‰åˆ° Serverless Framework Dashboardï¼Œå°±æœƒçœ‹åˆ°å‰µå»ºå¥½çš„ Provider\nå¯«å¥½ Codeï¼ŒæŠŠä½ çš„ Code éƒ¨ç½²åˆ° AWS ç•¶æˆ‘å€‘å¯«å¥½ Code ä¹‹å¾Œï¼Œå°±è¦æŠŠ Code éƒ¨ç½²åˆ° AWS ä¸Šé¢ï¼Œé€™éƒ¨åˆ†å°±ä¾†æ•™å­¸å¦‚ä½•é€é Serverless Framework CLI ä¾†éƒ¨ç½²\n$ serverless deploy # or sls deploy Deploying serverless-framework-101 to stage dev (us-east-1, \u0026#34;serverless-framework-101-dev\u0026#34; provider) Warning: Serverless Framework observability features do not support the following runtime: python3.11 âœ” Serverless Framework\u0026#39;s Observability features being set up on your AWS account (one-time set-up). An email will be sent upon completion, or view progress within the Dashboard: https://app.serverless.com/shiunchiu/settings/integrations âœ” Serverless Framework Observability is enabled âœ” Service deployed to stack serverless-framework-101-dev (173s) dashboard: https://app.serverless.com/shiunchiu/apps/serverless-framework-101/serverless-framework-101/dev/us-east-1 endpoint: GET - https://1ibju7jfc9.execute-api.us-east-1.amazonaws.com/ functions: hello: serverless-framework-101-dev-hello (2 kB) å¦‚æœæ¯”è¼ƒæ‡¶æƒ³ä½¿ç”¨ sls deploy æŒ‡ä»¤ï¼Œä½†ä½ åˆä½¿ç”¨ Powershell ï¼Œæœ‰å¯èƒ½æœƒå¦‚æœçœ‹åˆ°é€™ç¨®è¼¸å‡ºï¼Œé€™æ˜¯å› ç‚º PowerShell å°‡ sls èª¤èªç‚ºæ˜¯ Select-String çš„åˆ¥åï¼Œé€™æ˜¯ PowerShell ä¸­ç”¨æ–¼æœç´¢å­—ç¬¦ä¸²çš„å…§å»ºå‘½ä»¤ã€‚å»ºè­°æ›å€‹ git bash æˆ–æ˜¯å°±ä¹–ä¹–æ‰“å®Œæ•´æŒ‡ä»¤\n$ sls deploy cmdlet Select-String at command pipeline position 1 Supply values for the following parameters: Path[0]: åˆ° AWS Console æŸ¥çœ‹éƒ¨ç½²çµæœ æˆ‘å€‘å¯ä»¥å…ˆåˆ° Lambda é é¢ï¼Œå¯ä»¥çœ‹åˆ°éƒ¨ç½²ä¸Šå»çš„ function\nå› ç‚º Serverless Framework å…¶å¯¦æ˜¯é€é CloudFormation ä¾†éƒ¨ç½²ï¼Œç¾åœ¨æˆ‘å€‘åˆ° CloudFormation é é¢æŸ¥çœ‹ï¼Œä¹Ÿæœƒçœ‹åˆ°æœ‰æ–°çš„ Stack\nèª¿ç”¨ Lambda Function ç•¶æˆ‘å€‘éƒ¨ç½²å¥½ä¹‹å¾Œï¼Œå°±å¯ä»¥ä¾†èª¿ç”¨çœ‹çœ‹!\n$ serverless invoke -f hello { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;: \\\u0026#34;Go Serverless v3.0! Your function executed successfully!\\\u0026#34;, \\\u0026#34;input\\\u0026#34;: {}}\u0026#34; } é€é serverless invoke æŒ‡ä»¤å°±å¯ä»¥èª¿ç”¨æˆ‘å€‘éƒ¨ç½²ä¸Šå»çš„ Lambda\nä½†éœ€è¦ç‰¹åˆ¥æ³¨æ„ -f å¾Œé¢çš„å€¼æ˜¯è¦æ ¹æ“šä½ åœ¨ serverless.yml ä¸Šé¢æ‰€é…ç½®çš„ function name ä¾†è¨­å®šï¼Œä¸¦éå·²ç¶“éƒ¨ç½²ä¸Šå»çš„ Lambda Function name\nç¾åœ¨æˆ‘å€‘ä¸Šå» CloudWatch çœ‹ Logï¼Œæœƒçœ‹åˆ°æˆ‘å€‘å‰›å‰›çš„èª¿ç”¨\næœ‰æ™‚å€™æˆ‘å€‘æœƒæƒ³è¦ç›´æ¥åœ¨ Local çœ‹åˆ° logï¼Œé‚£å¯ä»¥å‰›å‰›çš„ serverless invoke æŒ‡ä»¤åŠ ä¸Š --log ï¼Œé€™æ¨£å°±ä¸ç”¨åˆ° AWS Console æŸ¥çœ‹äº†\n$ serverless invoke -f hello --log { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;: \\\u0026#34;Go Serverless v3.0! Your function executed successfully!\\\u0026#34;, \\\u0026#34;input\\\u0026#34;: {}}\u0026#34; } -------------------------------------------------------------------- START SERVERLESS_TELEMETRY.TZ.H4sIAPFVLWYC/43QMUoDQRTGcSO4wpYBEbcxhIAYmGVmZ+bNTDoFG7EzlSA6+2aWhGyyYTduIuIhvELO4B0EC4/gBSy8glELLYTYveLBx+8f1mEHEETmPRLDJCUCHRAjE0pMmjqQjnKPNmpXvqx9mfuqIllpx35elCPCKCPO12Tg87zodsO9X192XpHcjlNnSeVGzS0a8ziJguntbFBMoqdG2NKWKp6i4AoFGOtQayW4BKe4FYkRzVaK4JGjlhI48NRpzsAw7TMJic5k1g5XK/H3yuHB69v+Y+95l928vH8dPVwG18vgMgwWGq5AHP8DcdqRzBoEikQ50ESwhBNNVzkSoaSXVFum+MV25+yof3Lenzaih08JNZDwjHMljKCrmg5TipkU1BrnwKyXRGtrtHd+rPFwUhdoZ8Ni8gd7o7t5d/8BvrD25toBAAA= END Duration: 4.13 ms Memory Used: 57 MB Stream Logs å…¶å¯¦æˆ‘å€‘é‚„å¯ä»¥è®“æˆ‘å€‘çš„ Log åœ¨ Terminal ä¸²æµï¼Œæˆ‘æœƒåœ¨ VS Code é–‹å•Ÿå…©å€‹ Terminal ä¾†ç¤ºç¯„\nåœ¨ VS Code æ‰“é–‹ä¸€å€‹ Terminal ( å¿«æ·éµ: Ctrl + `)ï¼Œç„¶å¾Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤\n$ serverless logs -f hello --tail æˆ‘å€‘å†æ¥è‘—å»ºç«‹ä¸€å€‹æ–°çš„ Terminalï¼Œä¾ç…§ä¸‹åœ–æ‰€ç¤ºæŒ‰ä¸‹ \u0026ldquo;+\u0026rdquo;\né…ç½®ä¸€ä¸‹ VS Code ç‰ˆé¢ï¼Œä¾ç…§ä¸‹åœ–æ‹–æ›³ Terminal åˆ°ä¸Šé¢\né…ç½®å¥½ç‰ˆé¢ï¼Œæˆ‘å€‘å°‡ä½¿ç”¨ä¸‹æ–¹çš„ Terminal ä¾†èª¿ç”¨ Lambda Function\n$ serverless invoke -f hello { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;: \\\u0026#34;Go Serverless v3.0! Your function executed successfully!\\\u0026#34;, \\\u0026#34;input\\\u0026#34;: {}}\u0026#34; } ç›´æ¥çœ‹ä¸‹æ–¹çš„ gif åœ–æ„Ÿå—ä¸€ä¸‹å§ï¼ (é€™ gif åœ–é•·é” 27s æ•¬è«‹è€å¿ƒç­‰å¾…)\né€éä»Šå¤©çš„æ•™å­¸ï¼Œæˆ‘å€‘å­¸ç¿’åˆ°å¦‚ä½•é€é Serverless Framework ä¾†éƒ¨ç½²åŠé–‹ç™¼ AWS Lambdaï¼ŒServerless Framework æä¾›äº†ä¸€ç¨®é«˜æ•ˆä¸”éˆæ´»çš„æ–¹å¼ä¾†é‹è¡Œå’Œç®¡ç†ç„¡æœå‹™å™¨æ‡‰ç”¨ï¼\nåƒè€ƒè³‡æ–™ Serverless Framework - Setting Up Serverless Framework With AWS Serverless Framework - Providers GitHub - serverless/examples ","permalink":"https://shiun.me/blog/serverless-framework-101/","summary":"\u003ch2 id=\"serverless-framework-ç°¡ä»‹\"\u003eServerless Framework ç°¡ä»‹\u003c/h2\u003e\n\u003cp\u003eServerless Framework æ˜¯ä¸€å€‹é–‹æºçš„ç„¡æœå‹™å™¨æ‡‰ç”¨æ¡†æ¶ï¼Œå®ƒå…è¨±é–‹ç™¼è€…å¿«é€Ÿå»ºç«‹ã€éƒ¨ç½²å’Œç®¡ç†åœ¨ AWS Lambdaã€Google Cloud Functionsã€Azure Functions ç­‰é›²å¹³å°ä¸Šé‹è¡Œçš„ç„¡æœå‹™å™¨æ‡‰ç”¨ã€‚é€™å€‹æ¡†æ¶ä½¿ç”¨ä¸€å€‹ç°¡æ½”çš„é…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ \u003ccode\u003eserverless.yml\u003c/code\u003eï¼‰ï¼Œåœ¨å…¶ä¸­å®šç¾©äº†æ‡‰ç”¨çš„æ‰€æœ‰è³‡æºå’Œè¨­å®šï¼Œè®“é–‹ç™¼è€…å¯ä»¥å°ˆæ³¨æ–¼ç·¨å¯«æ¥­å‹™é‚è¼¯è€Œéç®¡ç†åŸºç¤è¨­æ–½ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"å®‰è£-serverless-framework\"\u003eå®‰è£ Serverless Framework\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003ePrerequisites:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eéœ€è¦æœ‰ npmï¼Œè‹¥ä½ çš„é›»è…¦æ²’æœ‰ npmï¼Œè«‹å»ä¸‹è¼‰ \u003ca href=\"https://nodejs.org/en\"\u003eNodeJS\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ npm install -g serverless\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"å‰µå»ºä¸€å€‹-service\"\u003eå‰µå»ºä¸€å€‹ Service\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ serverless\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e? What \u003cspan style=\"color:#66d9ef\"\u003edo\u003c/span\u003e you want to make?\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Node.js - Starter\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Node.js - HTTP API\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Node.js - Scheduled Task\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Node.js - SQS Worker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Node.js - Express API\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Node.js - Express API with DynamoDB\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Python - Starter\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026gt; AWS - Python - HTTP API\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Python - Scheduled Task\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Python - SQS Worker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Python - Flask API\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  AWS - Python - Flask API with DynamoDB\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  Other\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè¼¸å…¥æŒ‡ä»¤å¾Œé€éæ–¹å‘éµé¸å–ä½ è¦çš„ Templateï¼Œæœ¬æ–‡å°‡å·² AWS - Python HTTP API ç¤ºç¯„\u003c/p\u003e","title":"Serverless Framework 101 - è¼•é¬†é–‹ç™¼ä¸¦å¿«é€Ÿéƒ¨ç½²ä½ çš„ AWS Lambda"},{"content":"åœ¨æº–å‚™ SAA çš„éç¨‹ä¸­ï¼Œæˆ‘è¦ºå¾—æœ€é›£çš„éƒ¨åˆ†å°±æ˜¯ç¶²è·¯ï¼Œé€™ç¯‡æ–‡ç« ä¸»è¦å…ˆä»‹ç´¹ä¸€ä¸‹ IGW å’Œ NAT Gateway çš„å·®ç•°ï¼Œæ¥è‘—ä»‹ç´¹ä¸€äº›ä½¿ç”¨å¿ƒå¾—ã€‚\nå¦å¤–åˆ†äº«ä¸€ä¸‹æ´»å‹•ï¼Œæœ€è¿‘æˆ‘å€‘å¤§ä½¿æ¨å‡ºäº†ä¸€å€‹ã€Œè­‰ç…§é™ªè·‘è¨ˆç•«ã€ï¼Œå¯ä»¥é€éé€™å€‹æ´»å‹•æ‹¿åˆ° 50% æŠ˜åƒ¹åˆ¸ã€AWS è´ˆå“ã€è€ƒç…§å­¸ç¿’è³‡æºä»¥åŠåŠ å…¥ DC ç¤¾ç¾¤ï¼Œä¸€ç›´æ‹›å‹Ÿåˆ° 2024/04/28ï¼Œæœ‰èˆˆè¶£çš„è®€è€…å¯ä»¥ä¾†å ±åï¼(å ±åè¡¨å–®é€£çµ)\nInternet Gateway (IGW) IGW æ˜¯ä¸€ç¨®å…è¨± VPC èˆ‡ Internet ä¹‹é–“é€šè¨Šçš„ VPC çµ„ä»¶ã€‚å®ƒèƒ½è®“ VPC å…§çš„è³‡æºå¦‚ EC2 Instance ç›´æ¥è¨ªå• Internetï¼ŒåŒæ™‚ä¹Ÿèƒ½è®“ Internet ä¸Šçš„ä½¿ç”¨è€…è¨ªå• VPC å…§çš„è³‡æºã€‚\nä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\né›™å‘é€šè¨Šæ”¯æŒï¼šå…è¨±é…æœ‰ Public IP çš„ Instance è¨ªå• Internetï¼ŒåŒæ™‚ä¹Ÿèƒ½æ¥æ”¶ä¾†è‡ª Internet çš„æ•¸æ“šã€‚ é«˜åº¦çš„å¯é æ€§å’Œæ“´å±•æ€§ï¼šç¢ºä¿ç„¡éœ€ç”¨æˆ¶å¹²é å³å¯ç¶­æŒæœå‹™çš„æŒçºŒå¯ç”¨ã€‚ NAT Gateway NAT Gateway æ˜¯ä¸€ç¨®ç¶²è·¯åœ°å€è½‰æ›æœå‹™ï¼Œå…è¨± Private Subnet ä¸­çš„ Instance é€£æ¥åˆ° VPC å¤–éƒ¨çš„æœå‹™ï¼ŒåŒæ™‚é˜»æ­¢å¤–éƒ¨æœå‹™ä¸»å‹•é€£æ¥é€™äº›å¯¦ä¾‹ã€‚é€™ç¨®è¨­è¨ˆç‰¹åˆ¥é©åˆéœ€è¦è¨ªå• Internet ä½†ä¸éœ€è¦å¾ Internet æ¥å—ç›´æ¥è¨ªå•çš„æ•æ„Ÿæˆ–ä¿å¯†ç’°å¢ƒã€‚\nNAT Gateway åƒ¹éŒ¢:\nNAT Gateway æ”¶è²» = NAT Gateway é–‹å•Ÿæ™‚é–“ USD 0.062 per Hour + ç¶“é NAT è³‡æ–™è™•ç†è²»ç”¨ USD 0.062 per GB + (Optional) è·¨ AZ å‚³è¼¸è²»ç”¨ 0.02 per GB (ç™¼é€+æ¥æ”¶) ç¸½è€Œè¨€ä¹‹å¾ˆè²´ï¼Œæœ€æ–°åƒ¹éŒ¢è«‹åƒè€ƒ AWS å®˜æ–¹\nä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\nå–®å‘é€£æ¥ï¼šä¿è­·å¯¦ä¾‹ä¸è¢«ç›´æ¥å¾äº’è¯ç¶²è¨ªå•ï¼ŒåŒæ™‚å…è¨±å®ƒå€‘å®‰å…¨åœ°è¨ªå•å¿…è¦çš„å¤–éƒ¨è³‡æºã€‚ é«˜æ•ˆçš„åœ°å€è½‰æ›ï¼šå°‡å‡ºç«™æµé‡å¾ Private IP åœ°å€è½‰æ›ç‚º NAT Gateway çš„å…¬å…±IPåœ°å€ã€‚ å¦‚æœä½ è¦ºå¾—é‚„æ˜¯å¾ˆé›£æ‡‚ NAT æ˜¯ä»€éº¼ï¼Œæˆ‘é€™é‚Šå°±ä»¥ä¸€å€‹å­¸ç”Ÿå®¿èˆåšå€‹æ¯”å–»å§ï¼å¦‚æœä½ æ˜¯å­¸ç”Ÿï¼Œä½ ç¾åœ¨ä½åœ¨å­¸ç”Ÿå®¿èˆçš„ 0413 æˆ¿ï¼Œä½ ä¸æƒ³çµ¦åˆ¥äººçŸ¥é“ä½ çš„æˆ¿è™Ÿæ˜¯å¹¾è™Ÿã€‚\nä½ å¦‚æœæƒ³è¦å¯„ä¿¡çµ¦èŠ¬è˜­çš„è–èª•è€å…¬å…¬ï¼Œé‚£ä½ é€™æ™‚å€™æœƒå¯«å¥½ä¿¡ï¼Œæ”¶ä»¶åœ°å€æ˜¯è–èª•è€å…¬å…¬çš„ä½å€é€™ç„¡åº¸ç½®ç–‘ï¼Œä½†æ˜¯å¯„ä»¶äººåœ°å€ï¼Œä½ æœƒä»¥å­¸æ ¡è­¦è¡›å®¤åšç‚ºåœ°å€ï¼Œä½ æœƒé€éè­¦è¡›å®¤çš„åç¾©ä¾†å¯„å‡ºï¼Œæ‰€ä»¥ç•¶è–èª•è€å…¬å…¬æ”¶åˆ°ä¿¡ä»¶æ™‚ï¼Œä»–æœƒçœ‹åˆ°å¯„ä¿¡ä¾†çš„æ˜¯å­¸æ ¡è­¦è¡›å®¤å¯„å‡ºçš„ï¼›æ¥è‘—è–èª•è€å…¬å…¬è¦å›ä¿¡çµ¦ä½ ï¼Œä»–æœƒå¯„åˆ°å­¸ç”Ÿå®¿èˆçš„è­¦è¡›å®¤æ”¶ï¼Œè­¦è¡›å®¤æœƒå†æŠŠé€™å°ä¿¡è½‰å‚³çµ¦ä½ ï¼Œç¸½è€Œè¨€ä¹‹ä½ å¯„å‡ºå»çš„ä¿¡ï¼Œéƒ½æœƒä»¥å­¸æ ¡è­¦è¡›å®¤çš„åç¾©ç™¼å‡ºå» (è‡³æ–¼è­¦è¡›ç‚ºä»€éº¼æœƒçŸ¥é“é€²ä¾†çš„ä¿¡è¦è½‰ç™¼çµ¦èª°ï¼Ÿé—œéµå­—: NAT Translation table)\næ ¸å¿ƒå·®ç•°èˆ‡é¸æ“‡è€ƒé‡ è¨ªå•æ¬Šé™ï¼šIGW å…è¨±é›™å‘é€šè¨Šï¼Œé©åˆéœ€è¦èˆ‡ Internet é›™å‘äº¤äº’çš„ Public Subnet æ‡‰ç”¨ï¼Œè€Œ NAT Gateway åªæ”¯æŒå‡ºç«™è¨ªå•ï¼Œé©ç”¨æ–¼éœ€è¦ä¿è­·çš„ Private Subnet ç’°å¢ƒã€‚ å¯¦ä¾‹éœ€æ±‚ï¼šæ¯å€‹ VPC åƒ…éœ€ä¸€å€‹ IGWï¼Œè€Œæ¯å€‹ AZ å¯èƒ½éœ€è¦ä¸€å€‹ NAT Gateway ä¾†ä¿è­‰æœå‹™çš„é«˜å¯ç”¨æ€§ã€‚ æˆæœ¬å½±éŸ¿ï¼šä½¿ç”¨ IGW ä¸æœƒç”¢ç”Ÿé¡å¤–è²»ç”¨ï¼Œè€Œ NAT Gateway å‰‡æ ¹æ“šå‰µå»ºå’Œä½¿ç”¨æƒ…æ³æ”¶å–è²»ç”¨ã€‚ ä¸€äº›ä½¿ç”¨å¿ƒå¾— å¦‚æœä½ çš„è³‡æºä¸æ€•åˆ¥äººçœ‹æˆ–æ˜¯çµ¦åˆ¥äººç›´æ¥è¨ªå•ä¹Ÿæ²’ä»€éº¼å·®ï¼Œå°±åˆ¥ç”¨ NAT Gateway äº†ï¼Œå› ç‚ºå¾ˆè²´ï¼ï¼ï¼ Public IP 0.12/å¤©ï¼Œé™¤é Instances é”åˆ°ä¸€å€‹æ•¸é‡ ï¼Œå¤§ç´„æ˜¯ 25 å° Instancesï¼Œæ‰æœƒè·Ÿ 2 å€‹ NAT Gateway æ‰“å¹³ï¼Œé‚£æ™‚å†ä¾†è€ƒæ…®æ”¹æˆ NAT Gateway å¯èƒ½å°±æœƒåˆ’ç®—ä¸€é» æœ€æ–°åƒ¹éŒ¢è«‹åƒè€ƒ AWS å®˜æ–¹\nçœŸçš„éœ€è¦æ¯å€‹ AZ éƒ½é–‹ NAT Gateway å—ï¼Ÿä»¥ Tokyo é€™ Region ä¾†èªªï¼Œä½ æœ‰éœ€è¦ 3 å€‹ AZ éƒ½é–‹å—? æˆ‘è‡ªå·±æ˜¯è¦ºå¾—è¦é”åˆ°é«˜å¯ç”¨æ€§ï¼Œå…©å€‹å°±å¤ äº†ï¼Œä¸ç„¶çœŸçš„å¾ˆèŠ±éŒ¢ï¼Œå°æ–¼ä¸€äº›å°å°ˆæ¡ˆæˆ–æ˜¯ PoCï¼Œåªè¦ä¸€å€‹ NAT ç„¶å¾ŒèƒŒå¾Œçš„ Instance å…±ç”¨åŒä¸€å€‹ NAT Gateway å³å¯ æ¨è–¦æ–‡ç« : AWS NAT Gateway ä½ˆå±€å’Œè¨­å®š\n","permalink":"https://shiun.me/blog/internet-gateway-vs-nat-gateway/","summary":"\u003cp\u003eåœ¨æº–å‚™ SAA çš„éç¨‹ä¸­ï¼Œæˆ‘è¦ºå¾—æœ€é›£çš„éƒ¨åˆ†å°±æ˜¯ç¶²è·¯ï¼Œé€™ç¯‡æ–‡ç« ä¸»è¦å…ˆä»‹ç´¹ä¸€ä¸‹ IGW å’Œ NAT Gateway çš„å·®ç•°ï¼Œæ¥è‘—ä»‹ç´¹ä¸€äº›ä½¿ç”¨å¿ƒå¾—ã€‚\u003c/p\u003e\n\u003cp\u003eå¦å¤–åˆ†äº«ä¸€ä¸‹æ´»å‹•ï¼Œæœ€è¿‘æˆ‘å€‘å¤§ä½¿æ¨å‡ºäº†ä¸€å€‹ã€Œè­‰ç…§é™ªè·‘è¨ˆç•«ã€ï¼Œå¯ä»¥é€éé€™å€‹æ´»å‹•æ‹¿åˆ° 50% æŠ˜åƒ¹åˆ¸ã€AWS è´ˆå“ã€è€ƒç…§å­¸ç¿’è³‡æºä»¥åŠåŠ å…¥ DC ç¤¾ç¾¤ï¼Œä¸€ç›´æ‹›å‹Ÿåˆ° 2024/04/28ï¼Œæœ‰èˆˆè¶£çš„è®€è€…å¯ä»¥ä¾†å ±åï¼(\u003ca href=\"https://www.surveycake.com/s/nvwem\"\u003eå ±åè¡¨å–®é€£çµ\u003c/a\u003e)\u003c/p\u003e\n\u003ch2 id=\"internet-gateway-igw\"\u003eInternet Gateway (IGW)\u003c/h2\u003e\n\u003cp\u003eIGW æ˜¯ä¸€ç¨®å…è¨± VPC èˆ‡ Internet ä¹‹é–“é€šè¨Šçš„ VPC çµ„ä»¶ã€‚å®ƒèƒ½è®“ VPC å…§çš„è³‡æºå¦‚ EC2 Instance ç›´æ¥è¨ªå• Internetï¼ŒåŒæ™‚ä¹Ÿèƒ½è®“ Internet ä¸Šçš„ä½¿ç”¨è€…è¨ªå• VPC å…§çš„è³‡æºã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eä¸»è¦åŠŸèƒ½åŒ…æ‹¬\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eé›™å‘é€šè¨Šæ”¯æŒ\u003c/strong\u003eï¼šå…è¨±é…æœ‰ Public IP çš„ Instance è¨ªå• Internetï¼ŒåŒæ™‚ä¹Ÿèƒ½æ¥æ”¶ä¾†è‡ª Internet çš„æ•¸æ“šã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eé«˜åº¦çš„å¯é æ€§å’Œæ“´å±•æ€§\u003c/strong\u003eï¼šç¢ºä¿ç„¡éœ€ç”¨æˆ¶å¹²é å³å¯ç¶­æŒæœå‹™çš„æŒçºŒå¯ç”¨ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"nat-gateway\"\u003eNAT Gateway\u003c/h2\u003e\n\u003cp\u003eNAT Gateway æ˜¯ä¸€ç¨®ç¶²è·¯åœ°å€è½‰æ›æœå‹™ï¼Œå…è¨± Private Subnet ä¸­çš„ Instance é€£æ¥åˆ° VPC å¤–éƒ¨çš„æœå‹™ï¼ŒåŒæ™‚é˜»æ­¢å¤–éƒ¨æœå‹™ä¸»å‹•é€£æ¥é€™äº›å¯¦ä¾‹ã€‚é€™ç¨®è¨­è¨ˆç‰¹åˆ¥é©åˆéœ€è¦è¨ªå• Internet ä½†ä¸éœ€è¦å¾ Internet æ¥å—ç›´æ¥è¨ªå•çš„æ•æ„Ÿæˆ–ä¿å¯†ç’°å¢ƒã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNAT Gateway åƒ¹éŒ¢:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNAT Gateway æ”¶è²» = NAT Gateway é–‹å•Ÿæ™‚é–“ USD 0.062 per Hour + ç¶“é NAT è³‡æ–™è™•ç†è²»ç”¨ USD 0.062 per GB + (Optional) è·¨ AZ å‚³è¼¸è²»ç”¨ 0.02 per GB (ç™¼é€+æ¥æ”¶)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eç¸½è€Œè¨€ä¹‹å¾ˆè²´ï¼Œæœ€æ–°åƒ¹éŒ¢è«‹åƒè€ƒ \u003ca href=\"https://aws.amazon.com/vpc/pricing/\"\u003eAWS å®˜æ–¹\u003c/a\u003e\u003c/p\u003e","title":"AWS Internet Gateway vs NAT Gateway åŠä½¿ç”¨å¿ƒå¾—åˆ†äº«"},{"content":"EventBridge ç°¡ä»‹ EventBridge Scheduler æ˜¯ AWS åœ¨ 2022/11 æ¨å‡ºçš„æ–°æœå‹™ï¼Œç›¸è¼ƒæ–¼å‚³çµ±äº‹ä»¶é©…å‹•çš„ EventBridgeï¼Œæ–°æ¨å‡ºçš„ Scheduler æ˜¯æ™‚é–“é©…å‹•çš„ä¸€å€‹æœå‹™ï¼Œä½ å¯ä»¥å¾ˆè¼•æ˜“çš„åœ¨ä¸Šé¢è¨­ç½®ä¸€äº›æ’ç¨‹ä»»å‹™å»èª¿ç”¨ AWS çš„å…¶ä»–æœå‹™ï¼Œæˆªè‡³ 2024/04/06ï¼Œå®˜æ–¹æ–‡ä»¶æ˜¯é¡¯ç¤ºå¯ä»¥èª¿ç”¨ AWS è¶…é 270 ç¨®æœå‹™ï¼Œå°±æˆ‘ç›®å‰ä½¿ç”¨ä¸‹ä¾†çš„å¿ƒå¾—ï¼ŒçœŸçš„æ˜¯ç›¸ç•¶æ˜“ç”¨ï¼\nå¸¸è¦‹çš„ä½¿ç”¨å ´æ™¯:\nè‡ªå‹•èª¿æ•´æœå‹™å®¹é‡: å¦‚ Amazon ECS ä»»å‹™çš„æ•¸é‡æˆ–ä»Šå¤©è¦ä»‹ç´¹çš„ Aurora Serverless V2 ACU (ä»Šå¤©è¦ç¤ºç¯„çš„) è‡ªå‹•åŒ–ç¶­è­·ä»»å‹™: å®šæ™‚å•Ÿå‹•æˆ–åœæ­¢ EC2 Instanceï¼Œä»¥ç¯€çœæˆæœ¬æˆ–é€²è¡Œç³»çµ±ç¶­è­·ã€‚ SasS è¨‚é–±å³å°‡åˆ°æœŸé€šçŸ¥: è »å¤š SaaS ç³»çµ±å¯èƒ½æœƒéœ€è¦åœ¨ç”¨æˆ¶å¿«åˆ°æœŸæ™‚ç™¼é€ä¿¡ä»¶é€šçŸ¥å®¢æˆ¶çºŒè¨‚ æ¶æ§‹èªªæ˜ é—œæ–¼æœ¬æ–‡ï¼Œæˆ‘æœƒé è¨­è®€è€…å€‘å°æ–¼ AWS æœ‰åŸºæœ¬çš„æ“ä½œèƒ½åŠ›å’Œèªè­˜ï¼Œå°æ–¼ä¸€äº›è¼ƒç‘£ç¢çš„å‹•ä½œæœƒçœç•¥ä¸è¬›è§£\næœ¬æ–‡è¦æ•™å­¸çš„æ˜¯æ’ç¨‹æ¯å¤©å›ºå®šæ™‚é–“ï¼Œæœƒé€é EventBridge Scheduler èª¿ç”¨ Lambda Function ç„¶å¾Œå°‡ Aurora Serverless V2 çš„ ACU é™ä½ã€‚\né—œæ–¼é€™å€‹å‹•ä½œï¼Œæˆ‘å€‘å…¶å¯¦è¦æ‹†è§£æˆå…©å€‹éƒ¨åˆ†:\nç”¨ Lambda å»èª¿æ•´ Aurora Serverless v2 ACU ç”¨ EventBridge å» Trigger Lambda ä¸‹åœ–æ˜¯å¾ AWS å®˜æ–¹ Blog ä¸‹è¼‰ä¸‹ä¾†çš„æ¶æ§‹åœ–ï¼Œç´”ç¤ºæ„åœ–å¤§æ¦‚è®“å„ä½èªè­˜ EventBridge å’Œ Lambda çš„é…åˆ æ•´é«”çš„æ­¥é©Ÿå¤§æ¦‚æœƒæ˜¯\nå‰µå»º IAM Role å‰µå»º Lambda Function å‰µå»º EventBridge Scheduler å‰µå»º IAM Policy åŠ IAM Role é€™å€‹ IAM Role å°‡æœƒçµ¦æˆ‘å€‘çš„ Lambda Function å¯ä»¥å»è®€å–å’Œä¿®æ”¹ Aurora\nå‰µå»º IAM Policy { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;rds:DescribeDBClusters\u0026#34;, \u0026#34;rds:ModifyDBCluster\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;logs:CreateLogGroup\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:ap-northeast-1:784523829721:*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;logs:CreateLogStream\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:ap-northeast-1:784523829721:log-group:/aws/lambda/AdjustAuroraACU:*\u0026#34; }, { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;logs:PutLogEvents\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:logs:ap-northeast-1:784523829721:log-group:/aws/lambda/AdjustAuroraACU:log-stream:*\u0026#34; } ] } å‰µå»º IAM Roleï¼Œç„¶å¾Œ Attach å‰›æ‰æ‰€å‰µå»ºçš„ Policy å‰µå»ºå®Œç•¢æ‡‰è©²æœƒé¡ä¼¼ä¸‹åœ– å‰µå»º Lambda Function Runtime: Python 3.12 IAM Role: {ä½ å‰›æ‰å‰µå»ºçš„ IAM Role} import boto3 def lambda_handler(event, context): # Extract ACU configuration and cluster identifier from the event min_capacity = event.get(\u0026#39;min_capacity\u0026#39;) max_capacity = event.get(\u0026#39;max_capacity\u0026#39;) cluster_identifier = event.get(\u0026#39;cluster_identifier\u0026#39;) # Ensure cluster_identifier is provided if not cluster_identifier: print(\u0026#34;Error: \u0026#39;cluster_identifier\u0026#39; not provided in the event.\u0026#34;) return { \u0026#39;statusCode\u0026#39;: 400, \u0026#39;body\u0026#39;: \u0026#34;\u0026#39;cluster_identifier\u0026#39; is required.\u0026#34; } # Modify the capacity for Aurora Serverless v2 modify_aurora_serverless_v2_capacity(cluster_identifier, min_capacity, max_capacity) def modify_aurora_serverless_v2_capacity(cluster_identifier, min_capacity, max_capacity): # Initialize the RDS client rds_client = boto3.client(\u0026#39;rds\u0026#39;) try: response = rds_client.modify_db_cluster( DBClusterIdentifier=cluster_identifier, ServerlessV2ScalingConfiguration={ \u0026#39;MinCapacity\u0026#39;: min_capacity, \u0026#39;MaxCapacity\u0026#39;: max_capacity }, ApplyImmediately=True ) print(f\u0026#34;Capacity update successful: {response}\u0026#34;) return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: f\u0026#34;Capacity updated to Min: {min_capacity}, Max: {max_capacity} for {cluster_identifier}\u0026#34; } except Exception as e: print(f\u0026#34;Error updating capacity: {e}\u0026#34;) return { \u0026#39;statusCode\u0026#39;: 500, \u0026#39;body\u0026#39;: f\u0026#34;Error updating capacity for {cluster_identifier}: {e}\u0026#34; } é€²åˆ° Configuration - General Configuration èª¿æ•´ Lambda Timeoutï¼Œæˆ‘é€™é‚Šæ˜¯æ”¹æˆ 10s å‰µå»º EventBridge Scheduler æœå°‹ EventBridge å¾Œé€²å…¥è©²é é¢ï¼Œå´é‚Šé¸å–®é»é¸ Scheduler/Schedules\né»æ“Š \u0026ldquo;Create Schedule\u0026rdquo;\né¸æ“‡ \u0026ldquo;Recurring schedule\u0026rdquo;\nTimezone: (UTC+8) Asia/Taipei Schedule Type: Cron-based schedule Cron Expression: 02 4 * * ? * (é€™é‚Šè«‹ä¾ç…§ä½ æƒ³è§¸ç™¼çš„ç‰¹å®šæ™‚é–“å»æ›´å‹•) Next\nTarget Detail\nTarget API: Lambda Invoke: {é¸æ“‡ä½ å‰›æ‰å‰µå»ºçš„ Lambda Function} Payload\n{ \u0026#34;cluster_identifier\u0026#34;: \u0026#34;demoAurora\u0026#34;, \u0026#34;min_capacity\u0026#34;: 1, \u0026#34;max_capacity\u0026#34;: 1.5 } Next\nPermisison: Create new role for this schedule\nCreate\nç…§è‘—ä»¥ä¸Šçš„æ­¥é©Ÿåšåˆ°é€™è£¡å°±å®Œæˆï¼Œç…§ç†ä¾†èªªæ‡‰è©²å°±æ²’å•é¡Œäº†\nTroubleshooting InvalidParameterCombination é€™æ˜¯æˆ‘å‰›é–‹å§‹è¸©åˆ°çš„å‘ï¼ŒåŸå› æ˜¯ Aurora Serverless V2 å¿…é ˆæŒ‡å®š ServerlessV2ScalingConfiguration\nYou can set the capacity of an Aurora DB instance with the ModifyDBCluster API operation. Specify the ServerlessV2ScalingConfiguration parameter.\nAWS Docs - What is Amazon EventBridge Scheduler?\nç›¸é—œè³‡æ–™ AWS Docs - What is Amazon EventBridge Scheduler? AWS Docs - Managing Aurora Serverless v2 DB clusters ","permalink":"https://shiun.me/blog/how-to-schedule-aurora-serverless-v2-acu-adjustments-using-aws-lambda-and-eventbridge-scheduler/","summary":"\u003ch2 id=\"eventbridge-ç°¡ä»‹\"\u003eEventBridge ç°¡ä»‹\u003c/h2\u003e\n\u003cp\u003eEventBridge Scheduler æ˜¯ \u003ca href=\"https://aws.amazon.com/blogs/compute/introducing-amazon-eventbridge-scheduler/\"\u003eAWS åœ¨ 2022/11 æ¨å‡ºçš„æ–°æœå‹™\u003c/a\u003eï¼Œç›¸è¼ƒæ–¼å‚³çµ±äº‹ä»¶é©…å‹•çš„ EventBridgeï¼Œæ–°æ¨å‡ºçš„ Scheduler æ˜¯æ™‚é–“é©…å‹•çš„ä¸€å€‹æœå‹™ï¼Œä½ å¯ä»¥å¾ˆè¼•æ˜“çš„åœ¨ä¸Šé¢è¨­ç½®ä¸€äº›æ’ç¨‹ä»»å‹™å»èª¿ç”¨ AWS çš„å…¶ä»–æœå‹™ï¼Œæˆªè‡³ 2024/04/06ï¼Œå®˜æ–¹æ–‡ä»¶æ˜¯é¡¯ç¤ºå¯ä»¥èª¿ç”¨ AWS è¶…é 270 ç¨®æœå‹™ï¼Œå°±æˆ‘ç›®å‰ä½¿ç”¨ä¸‹ä¾†çš„å¿ƒå¾—ï¼ŒçœŸçš„æ˜¯ç›¸ç•¶æ˜“ç”¨ï¼\u003c/p\u003e\n\u003cp\u003eå¸¸è¦‹çš„ä½¿ç”¨å ´æ™¯:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eè‡ªå‹•èª¿æ•´æœå‹™å®¹é‡: å¦‚ Amazon ECS ä»»å‹™çš„æ•¸é‡æˆ–ä»Šå¤©è¦ä»‹ç´¹çš„ Aurora Serverless V2 ACU (ä»Šå¤©è¦ç¤ºç¯„çš„)\u003c/li\u003e\n\u003cli\u003eè‡ªå‹•åŒ–ç¶­è­·ä»»å‹™: å®šæ™‚å•Ÿå‹•æˆ–åœæ­¢ EC2 Instanceï¼Œä»¥ç¯€çœæˆæœ¬æˆ–é€²è¡Œç³»çµ±ç¶­è­·ã€‚\u003c/li\u003e\n\u003cli\u003eSasS è¨‚é–±å³å°‡åˆ°æœŸé€šçŸ¥: è »å¤š SaaS ç³»çµ±å¯èƒ½æœƒéœ€è¦åœ¨ç”¨æˆ¶å¿«åˆ°æœŸæ™‚ç™¼é€ä¿¡ä»¶é€šçŸ¥å®¢æˆ¶çºŒè¨‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"æ¶æ§‹èªªæ˜\"\u003eæ¶æ§‹èªªæ˜\u003c/h2\u003e\n\u003cp\u003eé—œæ–¼æœ¬æ–‡ï¼Œæˆ‘æœƒé è¨­è®€è€…å€‘å°æ–¼ AWS æœ‰åŸºæœ¬çš„æ“ä½œèƒ½åŠ›å’Œèªè­˜ï¼Œå°æ–¼ä¸€äº›è¼ƒç‘£ç¢çš„å‹•ä½œæœƒçœç•¥ä¸è¬›è§£\u003c/p\u003e\n\u003cp\u003eæœ¬æ–‡è¦æ•™å­¸çš„æ˜¯æ’ç¨‹æ¯å¤©å›ºå®šæ™‚é–“ï¼Œæœƒé€é EventBridge Scheduler èª¿ç”¨ Lambda Function ç„¶å¾Œå°‡ Aurora Serverless V2 çš„ ACU é™ä½ã€‚\u003c/p\u003e\n\u003cp\u003eé—œæ–¼é€™å€‹å‹•ä½œï¼Œæˆ‘å€‘å…¶å¯¦è¦æ‹†è§£æˆå…©å€‹éƒ¨åˆ†:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eç”¨ Lambda å»èª¿æ•´ Aurora Serverless v2 ACU\u003c/li\u003e\n\u003cli\u003eç”¨ EventBridge å» Trigger Lambda\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eä¸‹åœ–æ˜¯å¾ \u003ca href=\"https://aws.amazon.com/blogs/compute/introducing-amazon-eventbridge-scheduler/\"\u003eAWS å®˜æ–¹ Blog\u003c/a\u003e ä¸‹è¼‰ä¸‹ä¾†çš„æ¶æ§‹åœ–ï¼Œç´”ç¤ºæ„åœ–å¤§æ¦‚è®“å„ä½èªè­˜ EventBridge å’Œ Lambda çš„é…åˆ\n\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/fbf058d1-4754-4bbb-8e44-9b0f7d8ed3e5\" alt=\"image\"  /\u003e\n\u003c/p\u003e","title":"å¦‚ä½•ä½¿ç”¨ AWS EventBridge Scheduler åŠ Lambda è‡ªå‹•æ’ç¨‹èª¿æ•´ AWS Aurora Serverless V2 ACU"},{"content":"å‰è¨€ å¾ˆå¤šäººåœ¨åˆå­¸ Docker æ™‚ï¼Œé€šå¸¸éƒ½æœƒçŸ¥é“ CMD å’Œ ENTRYPOINT åŸºæœ¬ä¸Šå¯ä»¥äº’æ›ï¼Œä½†åˆè¦ºå¾—å¾ˆç–‘æƒ‘æ—¢ç„¶å…©å€‹æŒ‡ä»¤èƒ½äº’æ›ç‚ºä»€éº¼è¦æä¾›å…©å€‹æŒ‡ä»¤çµ¦æˆ‘å€‘ç”¨? ä½†å…¶å¯¦é€™å…©è€…æ˜¯æœ‰ä¸€äº›å·®ç•°çš„ï¼Œä»Šå¤©é€™ç¯‡æ–‡ç« å°±æ˜¯ä¾†å¸¶ä½ äº†è§£ Dockerfile ä¸­çš„ CMD å’Œ ENTRYPOINT\nCMD vs ENTRYPOINT æˆ‘é€™é‚Šæº–å‚™äº†å…©å€‹ Dockerfileï¼Œåˆ†åˆ¥ä½¿ç”¨äº† CMD å’Œ ENTRYPOINT\nFROM ubuntu:22.04 CMD [ \u0026#34;echo\u0026#34;, \u0026#34;Hello from CMD\u0026#34; ] FROM ubuntu:22.04 ENTRYPOINT [ \u0026#34;echo\u0026#34;, \u0026#34;Hello from ENTRYPOINT\u0026#34; ] æ¥è‘— build äº†å…©å€‹ docker imageï¼Œåˆ†åˆ¥å–åç‚º docker-cmd, docker-entrypoint\n$ docker images REPOSITORY TAG IMAGE ID CREATED SIZE docker-entrypoint latest fa8ea026cc54 12 days ago 77.9MB docker-cmd latest bd73abaca1f4 12 days ago 77.9MB CMD æœƒè¢«è¦†å¯«ã€ENTRYPOINT å‰‡ä¸æœƒ ç†æ‡‰ä¾†èªªæˆ‘ç”¨ docker-cmd é€™å€‹ image å•Ÿå‹•ä¸€å€‹å®¹å™¨ï¼Œæœƒæ‰“å°å‡º Hello from CMDï¼ŒåŸ·è¡Œçµæœç¢ºå¯¦ä¹Ÿæ˜¯å¦‚æ­¤:\n$ docker run docker-cmd Hello from CMD ä½†æˆ‘ç¾åœ¨åœ¨ docker run å¾Œé¢åŠ ä¸Šé¡å¤–çš„å‘½ä»¤\nä¾‹å¦‚æˆ‘é¡å¤–åŠ ä¸Š: echo \u0026ldquo;I am shiun\u0026rdquo; å¾Œé¢é¡å¤–å¤šåŠ çš„æŒ‡ä»¤æœƒç›´æ¥è¦†è“‹æ‰åŸæœ¬çš„ CMD æŒ‡ä»¤ï¼ŒCMD ä¸­çš„å‘½ä»¤å°±ä¸æœƒè¢«åŸ·è¡Œ: $ docker run docker-cmd echo \u0026#34;I am shiun\u0026#34; I am shiun åŒæ¨£åœ¨ docker run å¾Œé¢é™„åŠ é¡å¤–å‘½ä»¤ï¼Œå¦‚æœæ˜¯ ENTRYPOINTï¼Œå‰‡ä¸æœƒè¢«è¦†å¯«ï¼Œä½†æ˜¯æœƒå‚³éçµ¦ ENTRYPOINT ä½œç‚ºé¡å¤–åƒæ•¸\nä¾‹å¦‚æˆ‘é¡å¤–åŠ ä¸Š: echo \u0026ldquo;I am shiun\u0026rdquo; é€™é‚Šé¡å¤–åŠ ä¸Šçš„å‘½ä»¤ï¼Œæœƒè¢«ä½œç‚ºåƒæ•¸å‚³éçµ¦ ENTRYPOINT å‘½ä»¤ æ³¨æ„ä¸€ä¸‹ï¼åœ¨é€™é‚Šçš„ä¸Šä¸‹æ–‡ï¼Œæˆ‘æ‰€æŒ‡çš„ã€Œåƒæ•¸ã€æ˜¯å‚³é”çµ¦å‘½ä»¤çš„é¡å¤–è³‡è¨Šï¼Œç”¨æ–¼å½±éŸ¿è©²å‘½ä»¤çš„è¡Œç‚ºã€‚ åƒæ•¸ä¸ä¸€å®šæ˜¯é¸é … ï¼ˆåƒæ˜¯ -f æˆ– -pï¼‰ï¼Œå®ƒå€‘ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å‘½ä»¤æˆ–æ–‡æœ¬å€¼\n$ docker run docker-entrypoint echo \u0026#34;I am shiun\u0026#34; Hello from ENTRYPOINT echo I am shiun è£œå……èªªæ˜: æœ‰æ³¨æ„åˆ°å¼•è™Ÿ(\u0026quot;) ä¸è¦‹äº†å—? å¼•è™Ÿçš„ç›®çš„æ˜¯ç¢ºä¿è¢«åŒ…å«çš„å­—ç¬¦ä¸²ä½œç‚ºä¸€å€‹æ•´é«”è¢«å‚³éï¼Œè€Œä¸æ˜¯è¢«çœ‹ä½œå¤šå€‹ç”±ç©ºæ ¼åˆ†éš”çš„ç¨ç«‹åƒæ•¸ï¼Œå°±åƒæˆ‘å€‘åœ¨ Python print(\u0026quot;I am shiun\u0026quot;) ï¼Œ \u0026ldquo;I am shiun\u0026rdquo; æ•´å¥è¢«é›™å¼•è™ŸåŒ…è£¹ä½ï¼Œæ•´å¥æœƒè¢«è¦–ç‚ºã€Œä¸€å€‹ã€å­—ä¸²\nç”±ä¸Šé¢çš„åŸ·è¡Œçµæœæœƒçœ‹åˆ°ï¼Œæˆ‘å€‘å‚³å…¥äº†å…©å€‹åƒæ•¸åˆ° ENTRYPOINT\necho I am shiun å› æ­¤ ENTRYPOINT æœ€å¾ŒåŸ·è¡Œçš„æŒ‡ä»¤å…¶å¯¦æ˜¯:\n$ echo Hello from ENTRYPOINT echo I am shiun å¦‚æœå…©å€‹åŒæ™‚ä½¿ç”¨ï¼Œ CMD æœƒè¢«ä½œç‚º ENTRYPOINT çš„é»˜èªåƒæ•¸ é€™æ¬¡æˆ‘å†å‰µå»ºä¸€å€‹æ–°çš„ Dockerfileï¼Œæˆ‘æœƒåœ¨è©² Dockerfile å…§åŒæ™‚ä½¿ç”¨ CMD å’Œ ENTRYPOINT\nFROM ubuntu:22.04 CMD [ \u0026#34;echo\u0026#34;, \u0026#34;Hello from CMD\u0026#34; ] # CMD å’Œ ENTRYPOINT èª°å‰èª°å¾Œä¸å½±éŸ¿ç­‰ä¸‹çš„çµæœ ENTRYPOINT [ \u0026#34;echo\u0026#34;, \u0026#34;Hello from ENTRYPOINT\u0026#34; ] # CMD å’Œ ENTRYPOINT èª°å‰èª°å¾Œä¸å½±éŸ¿ç­‰ä¸‹çš„çµæœ ç„¶å¾Œæˆ‘ build äº† Imageï¼Œå–åç‚º docker-cmd-entrypoint\né¦¬ä¸Šä¾† run ä¸€å€‹å®¹å™¨çœ‹çœ‹çµæœ:\n$ docker run docker-cmd-entrypoint Hello from ENTRYPOINT echo Hello from CMD æœƒç™¼ç¾ CMD åŸæœ¬è¦åŸ·è¡Œçš„æŒ‡ä»¤è¢«ç•¶ä½œåƒæ•¸å‚³éçµ¦ ENTRYPOINT\nè¦æ³¨æ„çš„æ˜¯ï¼ï¼ï¼ CMD æ˜¯è¢«ç•¶æˆé»˜èªåƒæ•¸å‚³éçµ¦ ENTRYPOINT æ³¨æ„ï¼ï¼ï¼æ˜¯é»˜èª(é è¨­)ï¼Œä¹Ÿå°±æ˜¯å¦‚æœä½ æ²’ç‰¹åˆ¥æŒ‡å®šï¼Œé‚£æˆ‘å°±é»˜èªä½¿ç”¨é€™å€‹å€¼çš„æ¦‚å¿µ\nè®“æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡ä»¶çš„èªªæ˜:\nCommand line arguments to docker run will be appended after all elements in an exec form ENTRYPOINT, and will override all elements specified using CMD.\nå®˜æ–¹æ–‡ä»¶: https://docs.docker.com/engine/reference/builder/#entrypoint\nå› æ­¤ ENTRYPOINT é‚£é‚Šæœ€å¾Œå¯¦éš›åŸ·è¡Œçš„æŒ‡ä»¤æ˜¯:\n$ echo Hello from ENTRYPOINT echo Hello from CMD åŒæ™‚ä½¿ç”¨ CMD å’Œ ENTRYPOINTï¼Œåœ¨ docker run æŒ‡ä»¤åˆåŠ ä¸Šé¡å¤–çš„å‘½ä»¤ é€™é‚Šçš„æƒ…å¢ƒä¸€æ¨£ä½¿ç”¨åˆ° docker-cmd-entrypoint é€™å€‹ Image ä½†æˆ‘é€™æ¬¡åŸ·è¡Œ docker run æœƒåœ¨å¾Œæ–¹é™„ä¸Šé¡å¤–çš„å‘½ä»¤\nå®Œæ•´çš„æŒ‡ä»¤æœƒé•·é€™æ¨£: docker run docker-cmd-entrypoint echo \u0026quot;I am shiun\u0026quot;\né€™é‚Šå¯ä»¥å…ˆåœä¸‹ä¾†æ€è€ƒä¸€ä¸‹ï¼Œå›é¡§å‰é¢ï¼Œç‰¹åˆ¥æ˜¯å®˜æ–¹èªªæ˜çš„éƒ¨åˆ†ï¼ŒçŒœçŒœçœ‹ä¸Šé¢çš„æŒ‡ä»¤åŸ·è¡Œçµæœæœƒæ˜¯å¦‚ä½•\nCommand line arguments to docker run will be appended after all elements in an exec form ENTRYPOINT, and will override all elements specified using CMD.\nå®˜æ–¹æ–‡ä»¶: https://docs.docker.com/engine/reference/builder/#entrypoint\nåŸ·è¡Œçµæœå¦‚ä¸‹:\n$ docker run docker-cmd-entrypoint echo \u0026#34;I am shiun\u0026#34; Hello from ENTRYPOINT echo I am shiun ç”±æ­¤å¯çŸ¥ï¼Œdocker run å¾Œé¢æ‰€é™„åŠ çš„é¡å¤–å‘½ä»¤ï¼Œæœƒè¦†è“‹æ‰ CMD çš„å…§å®¹ï¼Œè€Œä¸”æœƒä½œç‚ºåƒæ•¸å‚³éè‡³ ENTRYPOINT\nç¸½çµ ENTRYPOINT å®¹å™¨å•Ÿå‹•æ™‚å¿…é ˆåŸ·è¡Œçš„å‘½ä»¤ CMD å®¹å™¨å•Ÿå‹•æ™‚é»˜èª(é è¨­)åŸ·è¡Œçš„å‘½ä»¤ ENTRYPOINT, CMD åŒæ™‚ä½¿ç”¨ CMD çš„å…§å®¹è®Šæˆ ENTRYPOINT é»˜èªåƒæ•¸ docker run å¾Œé¢è‹¥æœ‰é™„åŠ å‘½ä»¤ æœƒè¦†è“‹æ‰ CMD çš„å…§å®¹ï¼Œè€Œä¸”æœƒä½œç‚ºåƒæ•¸å‚³éè‡³ ENTRYPOINT ","permalink":"https://shiun.me/blog/dockerfile-cmd-vs-entrypoint/","summary":"\u003ch2 id=\"å‰è¨€\"\u003eå‰è¨€\u003c/h2\u003e\n\u003cp\u003eå¾ˆå¤šäººåœ¨åˆå­¸ Docker æ™‚ï¼Œé€šå¸¸éƒ½æœƒçŸ¥é“ CMD å’Œ ENTRYPOINT åŸºæœ¬ä¸Šå¯ä»¥äº’æ›ï¼Œä½†åˆè¦ºå¾—å¾ˆç–‘æƒ‘æ—¢ç„¶å…©å€‹æŒ‡ä»¤èƒ½äº’æ›ç‚ºä»€éº¼è¦æä¾›å…©å€‹æŒ‡ä»¤çµ¦æˆ‘å€‘ç”¨?\nä½†å…¶å¯¦é€™å…©è€…æ˜¯æœ‰ä¸€äº›å·®ç•°çš„ï¼Œä»Šå¤©é€™ç¯‡æ–‡ç« å°±æ˜¯ä¾†å¸¶ä½ äº†è§£ Dockerfile ä¸­çš„ CMD å’Œ ENTRYPOINT\u003c/p\u003e\n\u003ch2 id=\"cmd-vs-entrypoint\"\u003eCMD vs ENTRYPOINT\u003c/h2\u003e\n\u003cp\u003eæˆ‘é€™é‚Šæº–å‚™äº†å…©å€‹ Dockerfileï¼Œåˆ†åˆ¥ä½¿ç”¨äº† \u003ccode\u003eCMD\u003c/code\u003e å’Œ \u003ccode\u003eENTRYPOINT\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Dockerfile\" data-lang=\"Dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e ubuntu:22.04\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eCMD\u003c/span\u003e [ \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;echo\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Hello from CMD\u0026#34;\u003c/span\u003e ]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Dockerfile\" data-lang=\"Dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e ubuntu:22.04\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eENTRYPOINT\u003c/span\u003e [ \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;echo\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Hello from ENTRYPOINT\u0026#34;\u003c/span\u003e ]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ¥è‘— build äº†å…©å€‹ docker imageï¼Œåˆ†åˆ¥å–åç‚º \u003ccode\u003edocker-cmd\u003c/code\u003e, \u003ccode\u003edocker-entrypoint\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$ docker images\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eREPOSITORY                                   TAG               IMAGE ID       CREATED        SIZE\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker-entrypoint                            latest            fa8ea026cc54   \u003cspan style=\"color:#ae81ff\"\u003e12\u003c/span\u003e days ago    77.9MB\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker-cmd                                   latest            bd73abaca1f4   \u003cspan style=\"color:#ae81ff\"\u003e12\u003c/span\u003e days ago    77.9MB\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch3 id=\"cmd-æœƒè¢«è¦†å¯«entrypoint-å‰‡ä¸æœƒ\"\u003eCMD æœƒè¢«è¦†å¯«ã€ENTRYPOINT å‰‡ä¸æœƒ\u003c/h3\u003e\n\u003cp\u003eç†æ‡‰ä¾†èªªæˆ‘ç”¨ \u003ccode\u003edocker-cmd\u003c/code\u003e é€™å€‹ image å•Ÿå‹•ä¸€å€‹å®¹å™¨ï¼Œæœƒæ‰“å°å‡º Hello from CMDï¼ŒåŸ·è¡Œçµæœç¢ºå¯¦ä¹Ÿæ˜¯å¦‚æ­¤:\u003c/p\u003e","title":"Docker åˆå­¸å¸¸è¦‹å•é¡Œ - CMD vs ENTRYPOINT å…©è€…çš„å·®ç•°èˆ‡ç¯„ä¾‹"},{"content":"æˆ‘è¸©åˆ°äº†ä»€éº¼å‘ æœ¬æ–‡çš„èƒŒæ™¯å»¶çºŒè‡ªæˆ‘ä¹‹å‰çš„æ–‡ç« ã€Šä¸€å€‹å°ˆæ¡ˆéœ€è¦å¤šå€‹ Dockerfile - æ·ºè«‡å»ºæ§‹ä¸Šä¸‹æ–‡ (build context)ã€‹\nå› ç‚ºæˆ‘å€‘ç›®å‰ç¶“æ‰‹çš„å°ˆæ¡ˆæœƒéœ€è¦é‡å°ä¸åŒç’°å¢ƒæˆ–æ˜¯æ¸¬è©¦ Build ä¸åŒçš„ Imageï¼Œç‚ºäº†è®“ç›®éŒ„æ¶æ§‹æ›´å…·çµ„ç¹”æ€§ä¸”å®¹æ˜“ç†è§£ï¼Œæˆ‘å€‘æ ¹æ“šä¸åŒçš„ç’°å¢ƒæŠŠå„å€‹ç’°å¢ƒçš„ Dockerfile, docker-compose.yaml, .sh ç­‰ç­‰æ”¾åœ¨å„å€‹ç’°å¢ƒçš„ç›®éŒ„ä¸‹ï¼Œç¾åœ¨çš„ç›®éŒ„æ¶æ§‹å¤§æ¦‚åƒé€™æ¨£ â†“ï¼š\nE2Eproject/ â”œâ”€â”€ testenvironment1/ â”‚ â””â”€â”€ Dockerfile â”œâ”€â”€ testenvironment2/ â”‚ â”œâ”€â”€ docker-compose.yaml â”‚ â””â”€â”€ Dockerfile â”œâ”€â”€ start-headless-tests.sh â””â”€â”€ requirements.txt ç”±æ–¼æˆ‘æ­£åœ¨æœ¬åœ° Debug é€™å€‹å°ˆæ¡ˆï¼Œéœ€è¦åœ¨æœ¬åœ°é‹è¡Œ Docker-composeï¼Œæˆ‘ä¾¿å¾ˆè‡ªç„¶çš„åŸ·è¡Œ docker-compose -f ./cicd/headless/docker-compose.yaml upï¼Œçµæœ Docker å®¹å™¨é‹è¡Œèµ·ä¾†æ™‚ï¼Œé‡äº†ä¸€å€‹éŒ¯èª¤ï¼š/bin/bash: /usr/src/app/cicd/headless/start-headless-tests.sh: No such file or directoryã€‚\né€™å€‹éŒ¯èª¤è®“æˆ‘æƒ³ä¹Ÿæƒ³ä¸é€å“ªé‚Šå‡ºéŒ¯ï¼Œæˆ‘ä¸€é–‹å§‹éƒ½æ˜¯é‡å° Dockerfile å»åšå‹•ä½œï¼Œä½†å®Œå…¨æ²’æœ‰ç”¨\né€™é‚Šå°±é™„ä¸Šç•¶æ™‚éŒ¯èª¤ç™¼ç”Ÿæ™‚çš„ Dockerfile å’Œ docker-compose.yamlï¼Œå¤§å®¶å¯ä»¥è©¦è‘—çŒœçŒœçœ‹æ˜¯å“ªå€‹ç’°ç¯€å°è‡´éŒ¯èª¤ï¼\nE2Eproject/cicd/headless/Dockerfile â†“\n# Dockerfile # Use the official Python base image from the DockerHub. FROM python:3.12 # Set the working directory within the container. WORKDIR /usr/src/app # ç•¥..... # ç•¥..... # ç•¥..... # Copy all files from the current directory on the host to the working directory in the container. # This includes the application source code and any additional required files. COPY . /usr/src/app/ # Copy the start-tests.sh script into the container\u0026#39;s work directory. RUN chmod +x /usr/src/app/start-headless-tests.sh # The command to run the application. CMD [\u0026#34;/bin/bash\u0026#34;, \u0026#34;/usr/src/app/cicd/headless/start-headless-tests.sh\u0026#34;] E2Eproject/cicd/headless/docker-compose.yaml â†“\n# docker-compose.yaml version: \u0026#39;3\u0026#39; services: selenium-hub: # ç•¥ ... chrome-node: # ç•¥ ... E2Eproject: container_name: E2Eproject build: context: ../../ dockerfile: ./cicd/headless/Dockerfile args: NO_CACHE: ${NO_CACHE:-false} depends_on: - selenium-hub networks: - network-grid volumes: - .:/usr/src/app networks: network-grid: Docker Volume ä»‹ç´¹ (Bind Mount vs Volume) åœ–ç‰‡å–è‡ªï¼šhttps://docs.docker.com/storage/volumes/\nè¦è§£æ‰é€™å€‹å‘ï¼Œæœƒç‰½æ‰¯åˆ° Docker Volume çš„æ¦‚å¿µï¼Œä½†æœ¬ç¯‡è¸©å‘ç´€éŒ„ä¸æœƒåšå¤ªæ·±å…¥çš„è¬›è§£ï¼Œå°±ç°¡å–®ä»‹ç´¹ä¸€ä¸‹\nåœ¨ Docker ä¸­ï¼ŒVolume æ˜¯ç”¨ä¾†æŒä¹…åŒ–å’Œå…±äº«æ•¸æ“šçš„é‡è¦æ©Ÿåˆ¶ã€‚å¤§è‡´ä¸Šï¼Œæˆ‘å€‘å¯ä»¥å°‡å…¶åˆ†ç‚ºå…©é¡ï¼šBind Mount å’Œ Volumeã€‚ä»Šå¤©ï¼Œæˆ‘å€‘ä¸æ‰“ç®—è¨è«–ç¬¬ä¸‰ç¨®é¡å‹ï¼Œtmpfs mountï¼Œå› ç‚ºå®ƒèˆ‡ä»Šå¤©çš„è©±é¡Œä¸å¤ªç›¸é—œã€‚\nBind Mount ä½¿ç”¨æ™‚æ©Ÿ Bind Mount æ˜¯ä¸€ç¨®å°‡å®¿ä¸»æ©Ÿ(Host)çš„æ–‡ä»¶æˆ–ç›®éŒ„æ›è¼‰åˆ°å®¹å™¨ä¸­çš„æ–¹æ³•ã€‚é©åˆä»¥ä¸‹æƒ…æ³ï¼š\né–‹ç™¼éšæ®µï¼šç•¶ä½ éœ€è¦å°ç¨‹å¼ç¢¼é€²è¡Œå¿«é€Ÿè¿­ä»£æ™‚ï¼Œä½¿ç”¨ Bind Mount å¯ä»¥å³æ™‚åæ˜ å®¿ä¸»æ©Ÿä¸Šçš„æ›´æ”¹ã€‚ é€™ä¹Ÿæ˜¯ç‚ºä½•æˆ‘ Debug æ™‚ï¼Œä½¿ç”¨ Bind Mount çš„åŸå› ï¼Œå› ç‚ºæˆ‘åœ¨ Host ä¸Šçš„æ”¹å‹•å¯ä»¥ç«‹å³é¡¯ç¾å‡ºä¾† ä½†é€™ä¸æ„å‘³è‘— Bind Mount ä¸é©åˆç”¨åœ¨ Production ç’°å¢ƒï¼Œåªæ˜¯ Bind Mount æœƒä¾è³´å®¿ä¸»æ©Ÿ(Host)ç›®éŒ„ç³»çµ±çš„çµæ§‹ï¼Œåœ¨å®‰å…¨å’Œä¸€è‡´æ€§ä¸Šè®“ä½ æ›´é›£è™•ç† æ—¥èªŒæ–‡ä»¶çš„è™•ç†ï¼šå°‡æ—¥èªŒæ–‡ä»¶ç›´æ¥æ›è¼‰åˆ°å®¿ä¸»æ©Ÿï¼Œæ–¹ä¾¿é€²è¡Œæ—¥èªŒçš„æ”¶é›†å’Œåˆ†æã€‚ Volume ä½¿ç”¨æ™‚æ©Ÿ Volume å‰‡æ˜¯ç”± Docker ç®¡ç†çš„ä¸€ç¨®æ›´åŠ éš”é›¢å’Œå®‰å…¨çš„æ•¸æ“šæŒä¹…åŒ–æ–¹æ³•ï¼Œå®˜æ–¹ä¹Ÿæ¨è–¦ä½¿ç”¨ Volumesï¼Œæˆ‘é€™é‚Šå°±ç¯€éŒ„ä¸€å°æ®µ Docker å®˜æ–¹åˆ—èˆ‰çš„å„ªé»ï¼Œè©³ç´°å¯ä»¥å»çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡ä»¶(é€£çµ)ï¼š\nVolumes are the preferred mechanism for persisting data generated by and used by Docker containers. While bind mounts are dependent on the directory structure and OS of the host machine, volumes are completely managed by Docker. Volumes have several advantages over bind mounts:\nVolumes are easier to back up or migrate than bind mounts. Volumes work on both Linux and Windows containers. You can manage volumes using Docker CLI commands or the Docker API. Volumes can be more safely shared among multiple containers. Volume drivers let you store volumes on remote hosts or cloud p -roviders, encrypt the contents of volumes, or add other functionality. New volumes can have their content pre-populated by a container. Volumes on Docker Desktop have much higher performance than bind mounts from Mac and Windows hosts. ç„¶å¾Œæˆ‘ä¹Ÿåˆ—èˆ‰ä¸€äº› Volume é©åˆçš„æƒ…å¢ƒï¼š\nç”Ÿç”¢ç’°å¢ƒï¼šåœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ï¼Œæˆ‘å€‘æ›´é—œæ³¨æ•¸æ“šçš„æŒä¹…åŒ–å’Œå®‰å…¨ï¼ŒVolume æä¾›äº†æ›´å¥½çš„éš”é›¢ã€‚ ä¸å¸Œæœ›èˆ‡å®¿ä¸»æ©Ÿçš„æ–‡ä»¶ç³»çµ±ç›´æ¥äº¤äº’ï¼šç•¶éœ€è¦å°æ•¸æ“šé€²è¡ŒæŒä¹…åŒ–å­˜å„²ï¼Œä¸¦ä¸”ä¸å¸Œæœ›èˆ‡å®¿ä¸»æ©Ÿçš„æ–‡ä»¶ç³»çµ±ç›´æ¥äº¤äº’æ™‚ã€‚ ç›¸æ¯” Bind Mountï¼ŒVolume å°±ä¸ç”¨æ“”å¿ƒå®¿ä¸»æ©Ÿå› ç‚ºä¸åŒä½œæ¥­ç³»çµ±è¡¨ç¤ºè·¯å¾‘çš„æ–¹å¼ä¸å¤ªä¸€æ¨£ï¼Œå› ç‚º Volume ç”± Docker å®Œå…¨ç®¡ç†ï¼Œä¾‹å¦‚ï¼š Windows: C:/Users/shiun/Documents/my_folder Mac: C:/Users/shiun/Documents/my_folder Linux: /home/shiun/my_folder ç‚ºä»€éº¼æœƒç™¼ç”ŸéŒ¯èª¤ é¦–å…ˆä¸€å®šè¦äº†è§£åœ¨ docker-compose.yaml ä¸­ï¼ŒBind Mount åœ¨æŒ‡å®šå®¿ä¸»æ©Ÿçš„ç›®éŒ„è·¯å¾‘æ™‚ï¼Œè·¯å¾‘çš„ç›¸å°è·¯å¾‘æ˜¯åŸºæ–¼ docker-compose.yaml çš„æ‰€åœ¨ç›®éŒ„:\n# ç•¥... volumes: - .:/usr/src/app # \u0026lt;docker-compose.yaml æ‰€è™•ç•¶å‰ç›®éŒ„è·¯å¾‘\u0026gt;: \u0026lt;å®¹å™¨ç›®æ¨™ç›®éŒ„è·¯å¾‘\u0026gt; å†å›åˆ°æˆ‘é‡åˆ°çš„å•é¡Œï¼ŒåŸå› å…¶å¯¦å¾ˆç°¡å–®ï¼š\nåœ¨æˆ‘ä½¿ç”¨çš„ Dockerfile ä¸­ï¼Œæˆ‘ä½¿ç”¨äº† COPY . /usr/src/app/ æŒ‡ä»¤å°‡æ–‡ä»¶å¾å»ºæ§‹ä¸Šä¸‹æ–‡ä¸­è¤‡è£½åˆ°å®¹å™¨å…§ã€‚ ä½†æ˜¯ï¼Œç•¶å®¹å™¨å•Ÿå‹•æ™‚ï¼Œdocker-compose.yaml ä¸­å®šç¾©çš„ volume åˆå°‡æˆ‘æœ¬åœ°çš„ E2Eproject/cicd/headless ç›®éŒ„æ›è¼‰åˆ°äº†åŒä¸€ä½ç½®ã€‚ é€™å°è‡´äº†å®¹å™¨ä¸­çš„ /usr/src/app ç›®éŒ„å…§å®¹è¢«è¦†è“‹ï¼Œè€Œä¸” start-headless-tests.sh è…³æœ¬ä¸¦ä¸å­˜åœ¨æ–¼ E2Eproject/cicd/headless ä¸­ï¼Œå› æ­¤å®¹å™¨æ‰¾ä¸åˆ°é€™å€‹æ–‡ä»¶ï¼Œé€²è€Œå‡ºç¾ /bin/bash: /usr/src/app/cicd/headless/start-headless-tests.sh: No such file or directory è§£æ±ºæ–¹æ³• è§£æ±ºé€™å€‹å•é¡Œå…¶å¯¦å¾ˆç°¡å–®ï¼š\nè¨»è§£æ‰æˆ–ç§»é™¤ docker-compose.yaml çš„ volume æŒ‡ä»¤ï¼Œæ¯ä¸€æ¬¡æœ‰ code æ”¹å‹•éƒ½é‡æ–° Build Image é€™æ¨£å°±ä¸æœƒæœ‰æ›è¼‰è¦†è“‹çš„å•é¡Œï¼Œç•¢ç«Ÿæˆ‘å† Dockerfile è£¡é¢å°±æœ‰æŠŠæ•´å€‹å°ˆæ¡ˆç›®éŒ„ COPY åˆ° WORKDIR ä¿®æ”¹ volumes è¨­å®šï¼šå°‡å®ƒæ”¹ç‚º ../../ï¼Œé€™æ¨£å°±æœƒæ›è¼‰ E2Eproject ç›®éŒ„ï¼Œè€Œä¸æ˜¯åƒ…åƒ…æ›è¼‰ E2Eproject/cicd/headlessã€‚ å†æ¬¡æé†’ï¼Œé€™é‚Šçš„ç›¸å°è·¯å¾‘æ˜¯åŸºæ–¼ docker-compose.yaml çš„æ‰€åœ¨ç›®éŒ„ æ”¹å¥½çš„æ¨£å­æœƒåƒé€™æ¨£ï¼š\nE2Eproject/cicd/headless/docker-compose.yaml â†“\n# docker-compose.yaml version: \u0026#39;3\u0026#39; services: # ç•¥... # ç•¥... # ç•¥... E2Eproject: container_name: E2Eproject build: context: ../../ dockerfile: ./cicd/headless/Dockerfile args: NO_CACHE: ${NO_CACHE:-false} depends_on: - selenium-hub networks: - network-grid volumes: - ../../:/usr/src/app # é—œéµä¿®æ”¹çš„åœ°æ–¹ networks: network-grid: ç•¶ç„¶å¾ŒçºŒæˆ‘é‚„æœ‰åšä¸€äº›ç°¡å–®çš„ç´°ç¯€èª¿æ•´ï¼Œä½†å°±ä¸å¤šåŠ è´…è¿°ï¼Œä¹Ÿä¸å½±éŸ¿æœ¬ç¯‡è¸©å‘ç´€éŒ„çš„å…§å®¹\nè‹¥æ–‡ç« å…§å®¹æœ‰èª¤ï¼Œæ­¡è¿éš¨æ™‚é€£çµ¡æˆ‘ï¼ä½ å€‘çš„å›é¥‹å°æˆ‘ä¾†èªªç›¸ç•¶é‡è¦ï¼\nä¹Ÿæ­¡è¿è·Ÿæˆ‘äº¤æµæˆ–æ˜¯åˆ†äº«ä½ çš„æƒ³æ³•\n","permalink":"https://shiun.me/blog/docker-overwriting-workdir-contents-with-bind-mounts-at-run-time/","summary":"\u003ch2 id=\"æˆ‘è¸©åˆ°äº†ä»€éº¼å‘\"\u003eæˆ‘è¸©åˆ°äº†ä»€éº¼å‘\u003c/h2\u003e\n\u003cp\u003eæœ¬æ–‡çš„èƒŒæ™¯å»¶çºŒè‡ªæˆ‘ä¹‹å‰çš„æ–‡ç« ã€Š\u003ca href=\"https://shiun.me/blog/a-project-with-multiple-dockerfiles---an-introduction-to-build-context/\"\u003eä¸€å€‹å°ˆæ¡ˆéœ€è¦å¤šå€‹ Dockerfile - æ·ºè«‡å»ºæ§‹ä¸Šä¸‹æ–‡ (build context)\u003c/a\u003eã€‹\u003c/p\u003e\n\u003cp\u003eå› ç‚ºæˆ‘å€‘ç›®å‰ç¶“æ‰‹çš„å°ˆæ¡ˆæœƒéœ€è¦é‡å°ä¸åŒç’°å¢ƒæˆ–æ˜¯æ¸¬è©¦ Build ä¸åŒçš„ Imageï¼Œç‚ºäº†è®“ç›®éŒ„æ¶æ§‹æ›´å…·çµ„ç¹”æ€§ä¸”å®¹æ˜“ç†è§£ï¼Œæˆ‘å€‘æ ¹æ“šä¸åŒçš„ç’°å¢ƒæŠŠå„å€‹ç’°å¢ƒçš„ \u003ccode\u003eDockerfile\u003c/code\u003e, \u003ccode\u003edocker-compose.yaml\u003c/code\u003e, \u003ccode\u003e.sh\u003c/code\u003e ç­‰ç­‰æ”¾åœ¨å„å€‹ç’°å¢ƒçš„ç›®éŒ„ä¸‹ï¼Œç¾åœ¨çš„ç›®éŒ„æ¶æ§‹å¤§æ¦‚åƒé€™æ¨£ â†“ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eE2Eproject/\nâ”œâ”€â”€ testenvironment1/\nâ”‚   â””â”€â”€ Dockerfile\nâ”œâ”€â”€ testenvironment2/\nâ”‚   â”œâ”€â”€ docker-compose.yaml\nâ”‚   â””â”€â”€ Dockerfile\nâ”œâ”€â”€ start-headless-tests.sh\nâ””â”€â”€ requirements.txt\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eç”±æ–¼æˆ‘æ­£åœ¨æœ¬åœ° Debug é€™å€‹å°ˆæ¡ˆï¼Œéœ€è¦åœ¨æœ¬åœ°é‹è¡Œ Docker-composeï¼Œæˆ‘ä¾¿å¾ˆè‡ªç„¶çš„åŸ·è¡Œ \u003ccode\u003edocker-compose -f ./cicd/headless/docker-compose.yaml up\u003c/code\u003eï¼Œçµæœ Docker å®¹å™¨é‹è¡Œèµ·ä¾†æ™‚ï¼Œé‡äº†ä¸€å€‹éŒ¯èª¤ï¼š\u003ccode\u003e/bin/bash: /usr/src/app/cicd/headless/start-headless-tests.sh: No such file or directory\u003c/code\u003eã€‚\u003c/p\u003e\n\u003c!-- raw HTML omitted --\u003e\n\u003cp\u003eé€™å€‹éŒ¯èª¤è®“æˆ‘æƒ³ä¹Ÿæƒ³ä¸é€å“ªé‚Šå‡ºéŒ¯ï¼Œæˆ‘ä¸€é–‹å§‹éƒ½æ˜¯é‡å° Dockerfile å»åšå‹•ä½œï¼Œä½†å®Œå…¨æ²’æœ‰ç”¨\u003c/p\u003e\n\u003cp\u003eé€™é‚Šå°±é™„ä¸Šç•¶æ™‚éŒ¯èª¤ç™¼ç”Ÿæ™‚çš„ \u003ccode\u003eDockerfile\u003c/code\u003e å’Œ \u003ccode\u003edocker-compose.yaml\u003c/code\u003eï¼Œå¤§å®¶å¯ä»¥è©¦è‘—çŒœçŒœçœ‹æ˜¯å“ªå€‹ç’°ç¯€å°è‡´éŒ¯èª¤ï¼\u003c/p\u003e\n\u003cp\u003eE2Eproject/cicd/headless/Dockerfile â†“\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Dockerfile\" data-lang=\"Dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Dockerfile\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Use the official Python base image from the DockerHub.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e python:3.12\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Set the working directory within the container.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eWORKDIR\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e /usr/src/app\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# ç•¥.....\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# ç•¥.....\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# ç•¥.....\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Copy all files from the current directory on the host to the working directory in the container.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# This includes the application source code and any additional required files.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eCOPY\u003c/span\u003e . /usr/src/app/\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Copy the start-tests.sh script into the container\u0026#39;s work directory.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eRUN\u003c/span\u003e chmod +x /usr/src/app/start-headless-tests.sh\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# The command to run the application.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eCMD\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/bin/bash\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/usr/src/app/cicd/headless/start-headless-tests.sh\u0026#34;\u003c/span\u003e]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eE2Eproject/cicd/headless/docker-compose.yaml â†“\u003c/p\u003e","title":"Docker è¸©å‘ç´€éŒ„ - é‹è¡Œéšæ®µ Bind Mount è¦†è“‹ WORKDIR çš„å…§å®¹"},{"content":"å ±åæµç¨‹ å±¥æ­·åŠç”³è«‹å‹•æ©Ÿ æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»¥ã€ŒæŠ€è¡“æ”¯æ´ã€é€™å€‹è§’åº¦ä¾†æ¢è¨å±¥æ­·æº–å‚™çš„æ–¹å‘ï¼Œç•¶ç„¶ï¼é€™ç•¶ä¸­è‚¯å®šæœ‰å¾ˆå¤šæ–¹å‘ä¹Ÿæ˜¯å…¶ä»–è·èƒ½ä¹Ÿå¯ä»¥æ‹¿ä¾†åƒè€ƒç”¨çš„ã€‚å³ä¾¿æ‚¨ç¬¬ä¸€å¿—é¡˜ä¸æ˜¯ã€ŒæŠ€è¡“æ”¯æ´ã€è·èƒ½ï¼Œæˆ‘ä»ç„¶å»ºè­°ä½ ç¹¼çºŒè®€å®Œï¼\nå…ˆä¾†äº†è§£ Technical Support (æŠ€è¡“æ”¯æ´)é€™å€‹è§’è‰²æœƒåšå“ªäº›äº‹ æŠ€è¡“å·¥ä½œåŠä¸Šå°æ¼”è¬›ä¸¦æ•™å­¸é›²ç«¯æŠ€è¡“ æä¾›çµ„å…§é›²ç«¯æŠ€è¡“çš„è«®è©¢å’Œå»ºè­° æ’°å¯«å·¥ä½œåŠæ‰€éœ€çš„æŠ€è¡“æ•™å­¸æ–‡ä»¶åŠæ‡‰ç”¨ å±¥æ­·æº–å‚™æ–¹å‘ äº†è§£æŠ€è¡“æ”¯æ´é€™å€‹è§’è‰²æœƒåšå“ªäº›äº‹ï¼Œç›¡å¯èƒ½åœ°åœ¨æ’°å¯«å±¥æ­·æ™‚ï¼Œä½¿å…§å®¹å¯ä»¥è®“é¢è©¦å®˜è¦ºå¾—ä½ å¾ˆé©åˆé€™å€‹è§’è‰²\næ•™å­¸æŠ€è¡“çš„ç¶“é©— ä¸Šå°æ¼”è¬›çš„ç¶“é©— æŠ€è¡“å°ˆæ¡ˆçš„ç¶“é©— æœ‰ä½¿ç”¨åˆ° AWS å°¤ä½³ å…§å®¹å¯ä»¥å’Œ Amazon é ˜å°åŠ›æº–å‰‡æ›å‹¾ å±•ç¾ä½ åœ¨æŠ€è¡“ä¸Šçš„æ‰€å°ˆç²¾çš„å°ˆæ¥­é ˜åŸŸï¼Œä¾‹å¦‚ï¼š\nAI Data Analysis DevOps \u0026hellip; å±•ç¾ä½ çš„ Leadership å’Œ Ownership\né‡åŒ–ä½ çš„æˆæœ\né›²ç«¯æŠ€è¡“è­‰ç…§\nå±¥æ­·å¸¸è¦‹éŒ¯èª¤ âŒ å±¥æ­·çš„å¤§é ­ç…§å¯æ”¾å¯ä¸æ”¾ï¼Œä½†ä»å»ºè­°ä¸è¦æ”¾ï¼Œéƒ¨åˆ†è·ä½ã€å‚³çµ±å°å•†æˆ–ç‰¹åˆ¥è¦æ±‚å‰‡ä¾‹å¤–ï¼ŒåŸå› å¦‚ä¸‹ï¼š é¿å…å› ç¨®æ—ã€è†šè‰²ã€äººç¨®\u0026hellip; ç”¢ç”Ÿä»»ä½• Bias ç¯‡å¹…éé•·ï¼Œè¶…éå…©é  æŠ€è¡“æ–¹é¢å¯«çš„éå¤šéé›œã€è¨±å¤šä¸å¿…è¦çš„é›œè¨Šï¼Œä¾‹å¦‚ï¼š æ‚¨æœ‰æåˆ°æ‚¨æœƒ Flask, Djangoï¼Œé‚£å°±ä¸å¿…åˆ—å‡ºä½ æœƒ Python æŠŠæœ‰ç¢°éçš„æŠ€è¡“éƒ½å¯«ä¸Šå»ï¼Œä¾‹å¦‚ï¼š åƒ…ç”¨é Java å°å‡ºé \u0026ldquo;Hello World\u0026rdquo; å°±åœ¨ã€ŒæŠ€èƒ½ã€å€å¡Šå¯« Java æŠŠå°ˆç²¾çš„æŠ€è¡“å¯«ä¸Šå»å°±å¥½ï¼Œæ€æ¨£ç®—æ˜¯å°ˆç²¾å‘¢ï¼Ÿåªè¦æ‚¨å°æ–¼é€™å€‹æŠ€è¡“æœ‰ä¿¡å¿ƒçµ¦é¢è©¦å®˜éš¨ä¾¿å• 5 å€‹ Why ä½ éƒ½æœ‰ä¿¡å¿ƒå¯ä»¥å›ç­”å°±å¯«ä¸Šä¾† æœªé‡åŒ–ä½ çš„å„ç¶“æ­·çš„æˆæœï¼Œä¾‹å¦‚ï¼š ä½ æ›¾èˆ‰è¾¦éæŠ€è¡“å·¥ä½œåŠï¼Œä½†ä½ åƒ…åƒ…å¯«äº†ä½ ä»»æœŸå…§èˆ‰è¾¦äº†å·¥ä½œåŠ æ›´å¥½çš„å¯«æ³•æ˜¯ï¼Œä½ å¯ä»¥å‘Šè¨´æˆ‘å€‘ä½ èˆ‰è¾¦äº†å¹¾äººçš„ XXX æŠ€è¡“å·¥ä½œåŠï¼Œè§€çœ¾å°æ–¼æ‚¨çš„è¬›è©•è©•åƒ¹é«˜é” 4.8/5 åˆ† æŠŠè‡ªå·±æè¿°æˆè·¨é ˜åŸŸé€šæ‰äº†ï¼Œä½ æ‡‰è¦æŠŠè‡ªå·±æè¿°æˆä¸€å€‹å°ˆç²¾ XX æŠ€è¡“é ˜åŸŸçš„è·¨é ˜åŸŸäººæ‰ï¼Œä¾‹å¦‚ï¼š å› å±¥æ­·æŠ•éçš„è·èƒ½æ˜¯ã€ŒæŠ€è¡“æ”¯æ´ã€ï¼Œä½ æ‡‰è©²è¦è®“è‡ªå·±æˆç‚ºä¸€å€‹ã€Œå°ˆç²¾ XX æŠ€è¡“é ˜åŸŸçš„é›²ç«¯äººæ‰ï¼ŒåŒæ™‚é™„å¸¶äº†æ´»å‹•è¦åŠƒçš„è·¨é ˜åŸŸå„ªå‹¢ã€ è€ŒéæŠŠè‡ªå·±å¯«çš„ä»€éº¼éƒ½å¾ˆæœƒï¼Œè®“äººæ‘¸ä¸æ¸…ä½ åˆ°åº•æ˜¯ä¾†æŠ•æŠ€è¡“è·èƒ½é‚„æ˜¯ä¾†æŠ•æ´»å‹•è¦ç•«è·èƒ½ï¼Œåˆæˆ–è€…è®“äººè¦ºå¾—ä½ æ˜¯ä¸€å€‹é€šæ‰ æŠŠå…¶ä»–äººçš„è²¢ç»å¯«åœ¨è‡ªå·±çš„å±¥æ­·ï¼Œä¾‹å¦‚ï¼š ä½ åƒèˆ‡äº†æŸå°ˆæ¡ˆä½ åƒ…è² è²¬å¾Œç«¯é–‹ç™¼ï¼Œå‰ç«¯é–‹ç™¼éƒ¨åˆ†ä¸¦éä½ åšçš„ï¼Œç„¶è€Œä½ å»åœ¨å°ˆæ¡ˆä¸­çš„ç¶“æ­·å¯«åˆ°ä½ ä½¿ç”¨äº†å‰ç«¯çš„ XXX æŠ€è¡“åšäº† XXX åŠŸèƒ½ ç”³è«‹å‹•æ©Ÿæº–å‚™æ–¹å‘ ç”³è«‹å‹•æ©Ÿé€™ä¸€å¡Šå°±æœ‰æ¯”è¼ƒå¤šè‡ªç”±ç™¼æ®çš„ç©ºé–“ ä»¥ä¸‹å°±çµ¦å‡ºå…©é»ç°¡å–®çš„å°å»ºè­°ï¼š\nå±•ç¾æ‚¨å°æ–¼é›²ç«¯æŠ€è¡“çš„å­¸ç¿’æ„é¡˜ æœ‰å»ºè¨­æ€§çš„ä»»æœŸè¦åŠƒ å±¥æ­·å¯©éŒ„å–ï¼Œé€²åˆ°é¢è©¦ å±¥æ­·å¯©æŸ¥éŒ„å–å¾Œï¼Œå°±æœƒé€²å»é¢è©¦é€™ä¸€å¤§é—œï¼Œé¢è©¦é€™ä¸€å¤§é—œåˆåˆ†æˆå…©å°é—œ\nåœ˜é«”é¢è©¦ å€‹äººé¢è©¦ é¢è©¦ä¸é–‹æ”¾ç·šä¸Šé¢è©¦ï¼\nç•¶æ™‚æˆ‘é€šéå±¥æ­·å¯©ï¼Œæ”¶åˆ°çš„é¢è©¦é€šçŸ¥ä¿¡ä»¶ â†“ é¢è©¦æœè£ é¢è©¦æœè£æ²’æœ‰å¼·åˆ¶è¦å®šï¼Œå»ºè­°ä¸Šç¶²æœå°‹ Smart Casual ç©¿æ­ï¼\n(ç•¶ç„¶ä¸¦ä¸æ˜¯èªªæ²’æœ‰å¼·åˆ¶è¦å®šå°±å¯ä»¥ç©¿å¤¾è…³æ‹–çŸ­è¤²èƒŒå¿ƒä¾†)\nåœ˜é«”é¢è©¦ ä»¥ä¸‹é¡Œç›®éƒ¨åˆ†åƒ…ä¾›åƒè€ƒï¼Œä¸¦éæ¯å±†çš„å½¢å¼ã€é¡Œç›®éƒ½æœƒä¸€æ¨¡ä¸€æ¨£ï¼\n10 äººä¸€çµ„ï¼Œä¸€çµ„è£¡é¢ä¸€å®šæœƒæœ‰ã€Œæ´»å‹•è¦åŠƒã€ã€ã€Œè¡ŒéŠ·è¦å»£ã€ã€ã€ŒæŠ€è¡“æ”¯æ´ã€çš„äºº ä¸€é–‹å§‹å…ˆè¼ªæµæ¯äºº 1 åˆ†é˜çš„è‡ªæˆ‘ä»‹ç´¹ æœƒæœ‰ä¸€å€‹é¢è©¦å®˜åœ¨å‰é¢èªªé¡Œç›®ï¼Œé¡Œç›®é€šå¸¸éƒ½æ˜¯è¦æº–å‚™ä¸€å ´æ´»å‹•ï¼Œç„¶å¾Œè¦æˆ‘å€‘é€™ä¸€çµ„åˆä½œï¼Œåœ¨æ™‚é™å…§å¾ä¸€é–‹å§‹çš„æ´»å‹•è¦åŠƒï¼Œä¸€ç›´åˆ°æœ€å¾Œå®£å‚³åœ–æ–‡ç”¢å‡ºï¼Œæœ€å¾ŒæŠŠæ´»å‹•æ•´é«”çš„å…§å®¹å’Œåœ–æ–‡å ±å‘Šçµ¦é¢è©¦å®˜è½ éç¨‹ä¸­ï¼Œå ´é‚Šæœƒæœ‰å¤šä½é¢è©¦å®˜ï¼Œå¯©è¦–å¤§å®¶åœ¨åœ˜éšŠä¸­çš„è¡¨ç¾ åœ¨å°¾è²ï¼Œæœƒå†è®“æ¯å€‹äººè¼ªæµç™¼è¨€ä¸€æ¬¡ï¼Œè¦å‘Šè¨´é¢è©¦å®˜åœ¨å‰›å‰›çš„éç¨‹ä¸­è‡ªå·±æ‰®æ¼”ä»€éº¼è§’è‰²ï¼Œåœ¨åœ˜éšŠä¸­æœ‰åšå‡ºä»€éº¼è²¢ç»ï¼Œä¸€æ¨£é™æ™‚ 1 åˆ†é˜ åœ˜é«”é¢è©¦çš„ä¸€äº›å»ºè­° åœ¨ä¸€é–‹å§‹æ™‚ï¼Œå¤§å®¶ä¸€å®šéƒ½ä¸èªè­˜å½¼æ­¤ï¼Œè¦é–‹å§‹åœ˜éšŠè¨è«–æ™‚ï¼Œå¾€å¾€éœ€è¦æœ‰ä¸€å€‹äººä¾†ç ´å†°ï¼Œç¬¬ä¸€å€‹èªªè©±çš„äººç¢ºå¯¦æœƒæ¯”è¼ƒå®¹æ˜“ä»¤äººå°è±¡æ·±åˆ» é¿å…ä¸€ç›´æ¶ Spotlightï¼Œæƒ³åˆ»æ„è®“å¤§å®¶é—œæ³¨åˆ°ä½ ï¼Œä¸¦éåœ¨åœ˜éšŠä¸­è¬›è¶Šå¤šè©±å°±è¶Šèƒ½å—åˆ°è³è­˜ï¼Œè©±éå¤šä½†å»æ²’å¸¶ä¾†å¯¦è³ªæ•ˆæ‡‰å¯èƒ½æœƒå¸¶ä¾†åæ•ˆæœ äº‹å‰è¨“ç·´è‡ªå·±çš„è¡¨é”èƒ½åŠ›èˆ‡æºé€šèƒ½åŠ›ï¼Œå› ç‚ºèº«ç‚ºæŠ€è¡“çš„ä½ æœƒç™¼ç¾ç•¶ä½ è¦è·¨åœ˜éšŠèˆ‡ã€Œæ´»å‹•è¦åŠƒã€ã€ã€Œè¡ŒéŠ·æ¨å»£ã€çš„çµ„å“¡æºé€šæ™‚ï¼Œä½ ç”¨å¤ªå°ˆæ¥­çš„è¡“èªå°æ–¹æœƒè½ä¸æ‡‚ å€‹äººé¢è©¦ ä»¥ä¸‹é¡Œç›®éƒ¨åˆ†åƒ…ä¾›åƒè€ƒï¼Œä¸¦éæ¯å±†çš„å½¢å¼ã€é¡Œç›®éƒ½æœƒä¸€æ¨¡ä¸€æ¨£ï¼\nåœ¨å±¥æ­·å¯©é€šéå¾Œï¼Œæœƒæ”¶åˆ°ä¸€å°éŒ„å–ä¿¡ï¼Œé€šå¸¸æœƒåœ¨éŒ„å–ä¿¡è£¡é¢æåŠå€‹äººé¢è©¦çš„é¡Œç›® é¡Œç›®æœƒçµ¦ä½  AWS çš„å¹¾å€‹æœå‹™ï¼Œä½ æŒ‘ä¸€å€‹æœå‹™ï¼Œä¸¦ä¸”åœ¨ç•¶å¤©çµ¦ä½  8 åˆ†é˜ä»‹ç´¹ æ¼”è¬›å½¢å¼ä¸æ‹˜ï¼Œæ‰€ä»¥ä½ è¦è‡ªå‚™ç´™æœ¬è¬›ç¾©ä¹Ÿæ²’å•é¡Œï¼Œä½†æˆ‘çœ‹å¤§å¤šæ•¸äººéƒ½æ˜¯åš PPT ä¾†ä»‹ç´¹ æœƒè¢«å®‰æ’åˆ°ä¸€å€‹æœƒè­°å®¤ï¼Œè£¡é¢æœ‰é›»è¦–å¯ä»¥æ¥ä½ çš„é›»è…¦ (æœƒè­°å®¤å…§æœ‰ HDMI ç·š) é¢è©¦å®˜æœƒæœ‰å…©ä½ï¼Œä»¥æˆ‘ç•¶æ™‚å ±å 5th ç‚ºä¾‹ï¼šä¸€å€‹æ˜¯ AWS çš„æ­£è·ã€ä¸€å€‹æ˜¯ AWS é›²ç«¯å¤§ä½¿ Team Lead 8 åˆ†é˜æ™‚é–“æŠŠæœå‹™è¬›è§£å®Œå¾Œï¼Œé¢è©¦å®˜æœƒå°ä½ åšä¸€äº› Q\u0026amp;Aï¼Œé€šå¸¸æœƒé‡å°ä½ çš„å±¥æ­·å’Œå‰›å‰›æ¼”è¬›çš„å…§å®¹ä¾†ç™¼å• å€‹äººé¢è©¦çš„ä¸€äº›å»ºè­° (é‡è¦) èº«ç‚ºæŠ€è¡“è·èƒ½çš„é›²ç«¯å¤§ä½¿ï¼Œå› ç‚ºæˆ‘å€‘åœ¨èˆ‰è¾¦å¾ˆå¤šæ´»å‹•æ™‚ï¼Œé¢å°çš„è½çœ¾å¾ˆå¤šéƒ½æ²’æœ‰å°ˆæ¥­é›²ç«¯çŸ¥è­˜èƒŒæ™¯ï¼Œæˆ–æ˜¯é›²ç«¯å°ç™½ï¼Œå¦‚ä½•æŠŠä¸€å€‹æŠ€è¡“å…§å®¹è¬›çš„è®“é›²ç«¯å°ç™½éƒ½è½å¾—æ‡‚çš„èƒ½åŠ›ç›¸ç•¶é‡è¦ï¼ ä½ å¯ä»¥èˆ‰ä¸€äº›ç”Ÿæ´»ä¸­çš„çœŸå¯¦æƒ…å¢ƒï¼Œä¾‹å¦‚ï¼š æˆ‘ç•¶æ™‚è¬›è§£ DynamoDB ï¼Œæˆ‘ç”¨ã€Œç™»å…¥é©—è­‰ã€çš„é€™å€‹çœŸå¯¦æƒ…å¢ƒï¼Œè¬›è§£ DynamoDB åœ¨é€™éç¨‹ä¸­ç™¼æ®çš„ä½œç”¨ æ‰¾ä¸€äº›èº«é‚Šçš„æœ‹å‹ï¼Œæœ€å¥½æ‰¾æ²’æœ‰é›²ç«¯æŠ€è¡“èƒŒæ™¯çš„äººï¼Œè¬›è§£ä¸€æ¬¡çµ¦ä»–è½ï¼Œä¸¦æ±²å–å°æ–¹çš„å›é¥‹ä¾†æ”¹é€² ä¸è¦å¼•ç”¨åˆ°ä¸€äº›å¤ªé›£çš„è§€å¿µæˆ–æ˜¯å…§å®¹ å±¥æ­·çœŸçš„ä¸è¦äº‚å¯«ï¼Œè¢«å•åˆ°ä¸€å•ä¸‰ä¸çŸ¥å°±å°·å°¬äº† äº†è§£ Amazon é ˜å°åŠ›æº–å‰‡ï¼Œåœ¨ Q\u0026amp;A æ™‚ï¼Œè®“è‡ªå·±çš„æ•…äº‹å¯ä»¥è·Ÿé ˜å°åŠ›æº–å‰‡åˆ‡åˆ æè¿°è‡ªå·±çš„æ•…äº‹æ™‚å–„ç”¨ STAR åŸå‰‡ å¸¸è¦‹å•é¡Œ æˆ‘å·²ç¶“æŠŠå±¥æ­·æŠ•å‡ºå»äº†ï¼Œç¾åœ¨æ‰çœ‹åˆ°é€™ç¯‡æ–‡ç« æƒ³è¦é‡æ–°ä¿®æ”¹å±¥æ­·æ€éº¼è¾¦? ç›´æ¥é‡æ–°æŠ•éä¸€æ¬¡å°±å¥½å–”ï¼å†æ¬¡æé†’ï¼Œè¨˜å¾—å±¥æ­·é€£çµè¦è¨­å®šæˆã€Œå…¬é–‹ã€ å ±åé€£çµ: https://www.surveycake.com/s/DZk3O é¢è©¦ç•¶å¤©æœ‰äº‹ï¼Œæœ‰è¾¦æ³•ç·šä¸Šé¢è©¦å—? ä¸è¡Œï¼Œåƒ…é–‹æ”¾å¯¦é«”é¢è©¦ é¢è©¦æ˜¯å…¨è‹±æ–‡å—? éœ€è¦æº–å‚™è‹±æ–‡è‡ªæˆ‘ä»‹ç´¹å—? é¢è©¦å…¨ç¨‹çš†ä»¥ä¸­æ–‡ç‚ºä¸» å±¥æ­·æœ‰è¦å®šè¦ç”¨è‹±æ–‡å—? ä¸­æ–‡è‹±æ–‡çš†å¯ï¼ çµèª å¸Œæœ›é€™ç¯‡æ–‡ç« å¯ä»¥å¹«åŠ©åˆ°æ¯ä½æƒ³ä¾†åƒåŠ  AWS Educate é›²ç«¯å¤§ä½¿çš„äººï¼Œåœ¨é€™éç¨‹ä¸­å¯ä»¥ç©ç´¯äººè„ˆï¼Œé«”é©—å¤–å•†æ–‡åŒ–ï¼ŒåŒæ™‚åœ¨é›²ç«¯å¤§ä½¿ä»»å…§ä¹Ÿæœƒæœ‰å…¶ä»–åˆä½œå°ˆæ¡ˆåƒæ˜¯ DGR, MKTï¼Œè®“ä½ çœŸçš„åƒèˆ‡ AWS æ­£è·çš„çœŸå¯¦å·¥ä½œç’°å¢ƒä¸­ï¼\n6th é›²ç«¯å¤§ä½¿å ±åé€£çµ: https://www.surveycake.com/s/DZk3O Instagram: https://www.instagram.com/awseducatestdambtw/ Facebook: https://www.facebook.com/awseducatestudentambassadortaiwan/ ","permalink":"https://shiun.me/blog/aws-educate-6th-cloud-ambassador-resume-and-interview-preparation/","summary":"\u003ch2 id=\"å ±åæµç¨‹\"\u003eå ±åæµç¨‹\u003c/h2\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/34bfd4af-114c-4916-8b54-21dff6e53a61\" alt=\"image\"  /\u003e\n\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"å±¥æ­·åŠç”³è«‹å‹•æ©Ÿ\"\u003eå±¥æ­·åŠç”³è«‹å‹•æ©Ÿ\u003c/h2\u003e\n\u003cp\u003eæœ¬ç¯‡æ–‡ç« ä¸»è¦ä»¥ã€ŒæŠ€è¡“æ”¯æ´ã€é€™å€‹è§’åº¦ä¾†æ¢è¨å±¥æ­·æº–å‚™çš„æ–¹å‘ï¼Œç•¶ç„¶ï¼é€™ç•¶ä¸­è‚¯å®šæœ‰å¾ˆå¤šæ–¹å‘ä¹Ÿæ˜¯å…¶ä»–è·èƒ½ä¹Ÿå¯ä»¥æ‹¿ä¾†åƒè€ƒç”¨çš„ã€‚å³ä¾¿æ‚¨ç¬¬ä¸€å¿—é¡˜ä¸æ˜¯ã€ŒæŠ€è¡“æ”¯æ´ã€è·èƒ½ï¼Œæˆ‘ä»ç„¶å»ºè­°ä½ ç¹¼çºŒè®€å®Œï¼\u003c/p\u003e\n\u003ch3 id=\"å…ˆä¾†äº†è§£-technical-support-æŠ€è¡“æ”¯æ´é€™å€‹è§’è‰²æœƒåšå“ªäº›äº‹\"\u003eå…ˆä¾†äº†è§£ Technical Support (æŠ€è¡“æ”¯æ´)é€™å€‹è§’è‰²æœƒåšå“ªäº›äº‹\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæŠ€è¡“å·¥ä½œåŠä¸Šå°æ¼”è¬›ä¸¦æ•™å­¸é›²ç«¯æŠ€è¡“\u003c/li\u003e\n\u003cli\u003eæä¾›çµ„å…§é›²ç«¯æŠ€è¡“çš„è«®è©¢å’Œå»ºè­°\u003c/li\u003e\n\u003cli\u003eæ’°å¯«å·¥ä½œåŠæ‰€éœ€çš„æŠ€è¡“æ•™å­¸æ–‡ä»¶åŠæ‡‰ç”¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"å±¥æ­·æº–å‚™æ–¹å‘\"\u003eå±¥æ­·æº–å‚™æ–¹å‘\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eäº†è§£æŠ€è¡“æ”¯æ´é€™å€‹è§’è‰²æœƒåšå“ªäº›äº‹ï¼Œç›¡å¯èƒ½åœ°åœ¨æ’°å¯«å±¥æ­·æ™‚ï¼Œä½¿å…§å®¹å¯ä»¥è®“é¢è©¦å®˜è¦ºå¾—ä½ å¾ˆé©åˆé€™å€‹è§’è‰²\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ•™å­¸æŠ€è¡“çš„ç¶“é©—\u003c/li\u003e\n\u003cli\u003eä¸Šå°æ¼”è¬›çš„ç¶“é©—\u003c/li\u003e\n\u003cli\u003eæŠ€è¡“å°ˆæ¡ˆçš„ç¶“é©—\n\u003cul\u003e\n\u003cli\u003eæœ‰ä½¿ç”¨åˆ° AWS å°¤ä½³\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå…§å®¹å¯ä»¥å’Œ \u003ca href=\"https://aws.amazon.com/tw/executive-insights/content/leading-and-innovating-with-leadership-principles/\"\u003eAmazon é ˜å°åŠ›æº–å‰‡\u003c/a\u003eæ›å‹¾\n\u003cimg loading=\"lazy\" src=\"https://github.com/sh1un/sh1un.github.io/assets/85695943/0c79d3f8-aa87-473d-aabd-42f30056d913\" alt=\"Amazoné ˜å°åŠ›æº–å‰‡\"  /\u003e\n\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå±•ç¾ä½ åœ¨æŠ€è¡“ä¸Šçš„æ‰€\u003cstrong\u003eå°ˆç²¾\u003c/strong\u003eçš„å°ˆæ¥­é ˜åŸŸï¼Œä¾‹å¦‚ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAI\u003c/li\u003e\n\u003cli\u003eData Analysis\u003c/li\u003e\n\u003cli\u003eDevOps\u003c/li\u003e\n\u003cli\u003e\u0026hellip;\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå±•ç¾ä½ çš„ Leadership å’Œ Ownership\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eé‡åŒ–ä½ çš„æˆæœ\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eé›²ç«¯æŠ€è¡“è­‰ç…§\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"å±¥æ­·å¸¸è¦‹éŒ¯èª¤-\"\u003eå±¥æ­·å¸¸è¦‹éŒ¯èª¤ âŒ\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eå±¥æ­·çš„å¤§é ­ç…§å¯æ”¾å¯ä¸æ”¾ï¼Œä½†ä»å»ºè­°ä¸è¦æ”¾ï¼Œéƒ¨åˆ†è·ä½ã€å‚³çµ±å°å•†æˆ–ç‰¹åˆ¥è¦æ±‚å‰‡ä¾‹å¤–ï¼ŒåŸå› å¦‚ä¸‹ï¼š\n\u003cul\u003e\n\u003cli\u003eé¿å…å› ç¨®æ—ã€è†šè‰²ã€äººç¨®\u0026hellip; ç”¢ç”Ÿä»»ä½• Bias\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eç¯‡å¹…éé•·ï¼Œè¶…éå…©é \u003c/li\u003e\n\u003cli\u003eæŠ€è¡“æ–¹é¢å¯«çš„éå¤šéé›œã€è¨±å¤šä¸å¿…è¦çš„é›œè¨Šï¼Œä¾‹å¦‚ï¼š\n\u003cul\u003e\n\u003cli\u003eæ‚¨æœ‰æåˆ°æ‚¨æœƒ Flask, Djangoï¼Œé‚£å°±ä¸å¿…åˆ—å‡ºä½ æœƒ Python\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eæŠŠæœ‰ç¢°éçš„æŠ€è¡“éƒ½å¯«ä¸Šå»ï¼Œä¾‹å¦‚ï¼š\n\u003cul\u003e\n\u003cli\u003eåƒ…ç”¨é Java å°å‡ºé \u0026ldquo;Hello World\u0026rdquo; å°±åœ¨ã€ŒæŠ€èƒ½ã€å€å¡Šå¯« Java\n\u003cul\u003e\n\u003cli\u003eæŠŠå°ˆç²¾çš„æŠ€è¡“å¯«ä¸Šå»å°±å¥½ï¼Œæ€æ¨£ç®—æ˜¯å°ˆç²¾å‘¢ï¼Ÿåªè¦æ‚¨å°æ–¼é€™å€‹æŠ€è¡“æœ‰ä¿¡å¿ƒçµ¦é¢è©¦å®˜éš¨ä¾¿å• 5 å€‹ Why ä½ éƒ½æœ‰ä¿¡å¿ƒå¯ä»¥å›ç­”å°±å¯«ä¸Šä¾†\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eæœªé‡åŒ–ä½ çš„å„ç¶“æ­·çš„æˆæœï¼Œä¾‹å¦‚ï¼š\n\u003cul\u003e\n\u003cli\u003eä½ æ›¾èˆ‰è¾¦éæŠ€è¡“å·¥ä½œåŠï¼Œä½†ä½ åƒ…åƒ…å¯«äº†ä½ ä»»æœŸå…§èˆ‰è¾¦äº†å·¥ä½œåŠ\u003c/li\u003e\n\u003cli\u003eæ›´å¥½çš„å¯«æ³•æ˜¯ï¼Œä½ å¯ä»¥å‘Šè¨´æˆ‘å€‘ä½ èˆ‰è¾¦äº†å¹¾äººçš„ XXX æŠ€è¡“å·¥ä½œåŠï¼Œè§€çœ¾å°æ–¼æ‚¨çš„è¬›è©•è©•åƒ¹é«˜é” 4.8/5 åˆ†\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eæŠŠè‡ªå·±æè¿°æˆè·¨é ˜åŸŸé€šæ‰äº†ï¼Œä½ æ‡‰è¦æŠŠè‡ªå·±æè¿°æˆä¸€å€‹å°ˆç²¾ XX æŠ€è¡“é ˜åŸŸçš„è·¨é ˜åŸŸäººæ‰ï¼Œä¾‹å¦‚ï¼š\n\u003cul\u003e\n\u003cli\u003eå› å±¥æ­·æŠ•éçš„è·èƒ½æ˜¯ã€ŒæŠ€è¡“æ”¯æ´ã€ï¼Œä½ æ‡‰è©²è¦è®“è‡ªå·±æˆç‚ºä¸€å€‹ã€Œå°ˆç²¾ XX æŠ€è¡“é ˜åŸŸçš„é›²ç«¯äººæ‰ï¼ŒåŒæ™‚é™„å¸¶äº†æ´»å‹•è¦åŠƒçš„è·¨é ˜åŸŸå„ªå‹¢ã€\u003c/li\u003e\n\u003cli\u003eè€ŒéæŠŠè‡ªå·±å¯«çš„ä»€éº¼éƒ½å¾ˆæœƒï¼Œè®“äººæ‘¸ä¸æ¸…ä½ åˆ°åº•æ˜¯ä¾†æŠ•æŠ€è¡“è·èƒ½é‚„æ˜¯ä¾†æŠ•æ´»å‹•è¦ç•«è·èƒ½ï¼Œåˆæˆ–è€…è®“äººè¦ºå¾—ä½ æ˜¯ä¸€å€‹é€šæ‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eæŠŠå…¶ä»–äººçš„è²¢ç»å¯«åœ¨è‡ªå·±çš„å±¥æ­·ï¼Œä¾‹å¦‚ï¼š\n\u003cul\u003e\n\u003cli\u003eä½ åƒèˆ‡äº†æŸå°ˆæ¡ˆä½ åƒ…è² è²¬å¾Œç«¯é–‹ç™¼ï¼Œå‰ç«¯é–‹ç™¼éƒ¨åˆ†ä¸¦éä½ åšçš„ï¼Œç„¶è€Œä½ å»åœ¨å°ˆæ¡ˆä¸­çš„ç¶“æ­·å¯«åˆ°ä½ ä½¿ç”¨äº†å‰ç«¯çš„ XXX æŠ€è¡“åšäº† XXX åŠŸèƒ½\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"ç”³è«‹å‹•æ©Ÿæº–å‚™æ–¹å‘\"\u003eç”³è«‹å‹•æ©Ÿæº–å‚™æ–¹å‘\u003c/h3\u003e\n\u003cp\u003eç”³è«‹å‹•æ©Ÿé€™ä¸€å¡Šå°±æœ‰æ¯”è¼ƒå¤šè‡ªç”±ç™¼æ®çš„ç©ºé–“\nä»¥ä¸‹å°±çµ¦å‡ºå…©é»ç°¡å–®çš„å°å»ºè­°ï¼š\u003c/p\u003e","title":"å¦‚ä½•æˆç‚º AWS Educate é›²ç«¯å¤§ä½¿ï¼Ÿå±¥æ­·æº–å‚™ã€é¢è©¦æŠ€å·§å¤§å…¬é–‹"},{"content":"æœ€è¿‘åœ¨å¯« E2E æ¸¬è©¦é‡åˆ°ä¸€å€‹å•é¡Œï¼Œå›  E2E å°ˆæ¡ˆä¸­ï¼Œé™¤äº†å°ˆæ¡ˆæœ¬èº«çš„ Docker Image éœ€è¦ Build ä¹‹å¤–ï¼Œé‚„æœ‰å¤šå€‹æ¸¬è©¦ç’°å¢ƒçš„ Image ä¹Ÿè¦ Buildï¼Œé€™é€ æˆäº†æˆ‘åœ¨é€™å€‹å°ˆæ¡ˆä¸Šéœ€è¦å‰µå»ºå¤šå€‹ Dockerfile\nç™¼ç”Ÿäº†ä»€éº¼å•é¡Œ? æˆ‘ä¸€é–‹å§‹çš„éŒ¯èª¤è™•ç†æ–¹å¼ èœé³¥æ™‚æœŸçš„æˆ‘ï¼Œä»¥ç‚º Dockerfile å°±æ˜¯ä¸€å®šå¾—å‘½åç‚º\u0026quot;Dockerfile\u0026quot;ï¼Œé€™å°è‡´äº†æˆ‘æ²’è¾¦æ³•åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹å‰µå»ºä¸‰å€‹ Dockerfileï¼Œå› ç‚ºæœƒå°è‡´å‘½åè¡çª\né‚£æˆ‘æƒ³å‡ºäº†ä»€éº¼è™•ç†æ–¹å¼ï¼Ÿç›¸ç•¶ç°¡å–®ï¼Œå¾ˆèœçš„æˆ‘ï¼Œä¸€é–‹å§‹ä¾¿è‡ªç„¶åœ°æ ¹æ“šä¸åŒç’°å¢ƒåœ¨å°ˆæ¡ˆä¸‹å‰µå»ºäº†ä¸åŒçš„ç›®éŒ„ï¼Œç„¶å¾Œåœ¨ç›®éŒ„åº•ä¸‹å­˜æ”¾å„è‡ªçš„ Dockerfile å°±å¾ˆé¡ä¼¼é€™ç¨®æ„Ÿè¦ºï¼š\nE2Eproject/ â”œâ”€â”€ testenvironment1/ â”‚ â””â”€â”€ Dockerfile â”œâ”€â”€ testenvironment2/ â”‚ â””â”€â”€ Dockerfile â”œâ”€â”€ requirements.txt â””â”€â”€ Dockerfile æ¥è‘—ä¾¿æ¥è‘—ç™¼ç”Ÿä¸‹ä¸€å€‹å•é¡Œ â€” éŒ¯èª¤çš„å»ºæ§‹ä¸Šä¸‹æ–‡ ä»¥å…¶ä¸­ä¸€å€‹æ¸¬è©¦ç’°å¢ƒå…§çš„ Dockerfile ç‚ºç¯„ä¾‹ï¼Œç•¶æ™‚æˆ‘çš„å¯«æ³•å¦‚ä¸‹ï¼Œè«‹ç‰¹åˆ¥æ³¨æ„ COPY ../ /usr/src/app/ é€™è¡Œ\n# Use the official Python base image from the DockerHub. FROM python:3.12 # Set the working directory within the container. WORKDIR /usr/src/app # Set the PYTHONPATH environment variable. This is where Python looks for modules. # It\u0026#39;s set to the work directory to allow local modules to be found. ENV PYTHONPATH /usr/src/app # Copy the contents of the current host directory into the container\u0026#39;s work directory. COPY ../ /usr/src/app/ # Install the project dependencies specified in the requirements.txt file. # The --no-cache-dir option is used to disable the cache and reduce the layer size. RUN pip install --no-cache-dir -r ../requirements.txt # ç•¥ ... RUN chmod +x /usr/src/app/start-tests.sh # The command to run the application. CMD [\u0026#34;sh\u0026#34;, \u0026#34;/usr/src/app/start-headless-tests.sh\u0026#34;] æ³¨æ„ï¼šæœ¬æ–‡çš„ Dockerfile ä¾‹å­ä¸»è¦ç”¨æ–¼å±•ç¤ºå»ºæ§‹ä¸Šä¸‹æ–‡çš„æ¦‚å¿µã€‚åœ¨å¯¦éš›é–‹ç™¼ä¸­ï¼Œå»ºè­°æ¡ç”¨å±¤ç´šå¿«å–ï¼ˆlayer cachingï¼‰çš„æœ€ä½³å¯¦è¸ï¼Œä¹Ÿå°±æ˜¯å…ˆè¤‡è£½ä¸¦å®‰è£ requirements.txtï¼Œå†è¤‡è£½å…¶ä»–æª”æ¡ˆã€‚æœ‰é—œ Build cache çš„è³‡è¨Šè«‹æŸ¥é–± Docker å®˜æ–¹æ–‡æª”ã€‚\næœƒæ³¨æ„åˆ°ï¼Œæˆ‘ä½¿ç”¨äº† ../ï¼Œæœƒé€™éº¼å¯«æ˜¯å› ç‚ºå°ˆæ¡ˆæ ¹ç›®éŒ„(æˆ–æ˜¯èªªæ‰“åŒ…æ‰€éœ€çš„æª”æ¡ˆ)éƒ½åœ¨æ­¤ Dockerfile æ‰€è™•ç›®éŒ„çš„ä¸Šä¸€å±¤ æ¥è‘—å°±æ˜¯å¾ˆè‡ªç„¶çš„è¼¸å…¥ä¸‹æ–¹æŒ‡ä»¤ï¼Œç„¶å¾Œå°±å‡ºç¾ ERROR äº†ï¼š\n$ cd testenvironment1 $ docker build -t e2e-project-testenv:v1 . Dockerfile:16 -------------------- 14 | # Install the project dependencies specified in the requirements.txt file. 15 | # The --no-cache-dir option is used to disable the cache and reduce the layer size. 16 | \u0026gt;\u0026gt;\u0026gt; RUN pip install --no-cache-dir -r ../requirements.txt 17 | 18 | # Install additional dependencies for HTML report generation -------------------- ERROR: failed to solve: process \u0026#34;/bin/sh -c pip install --no-cache-dir -r ../requirements.txt\u0026#34; did not complete successfully: exit code: 1 Service \u0026#39;E2E-project\u0026#39; failed to build : Build failed TL;DR Docker å»ºæ§‹ä¸Šä¸‹æ–‡å°±æ˜¯å‘Šè¨´ Docker å¾å“ªå€‹ç›®éŒ„é–‹å§‹æ‰“åŒ…æª”æ¡ˆï¼Œä¾‹å¦‚ï¼šä½ åœ¨åŸ·è¡ŒæŒ‡ä»¤ docker build . é€™å€‹ \u0026ldquo;.\u0026rdquo; å°±æ˜¯å»ºæ§‹ä¸Šä¸‹æ–‡ï¼ŒDocker æœƒå°‡é€™å€‹ç›®éŒ„åŠå…¶å­ç›®éŒ„ä¸‹çš„æ‰€æœ‰æª”æ¡ˆä½œç‚ºå»ºæ§‹ä¸Šä¸‹æ–‡æ‰“åŒ…æˆ tar æª”æ¡ˆ\nDockerfile èˆ‡ build image çš„ä¸Šä¸‹æ–‡ç›®éŒ„ä¸å¿…å¼·é—œè¯åœ¨ä¸€èµ·\næˆ‘å€‘åœ¨æŒ‡ä»¤ä¸­æŒ‡å®šä¸€å€‹ç›®éŒ„ä½œç‚ºä¸Šä¸‹æ–‡ï¼Œç„¶å¾Œä¹Ÿé€é -f åƒæ•¸æŒ‡å®šä½¿ç”¨å“ªå€‹å»ºæ§‹æª”æ¡ˆï¼Œä¸¦ä¸”åç¨±å¯ä»¥è‡ªå·±ä»»æ„å‘½å\ndocker build -t e2e-project-testenv:v1 -f testenvironment1/Dockerfile /myapp å…ˆä¾†äº†è§£ä»€éº¼æ˜¯ Docker å»ºæ§‹ä¸Šä¸‹æ–‡ æ¨è–¦æ–‡ç« ï¼šæ·±å…¥ç†è§£ docker build ä¸­çš„å»ºæ§‹ä¸Šä¸‹æ–‡\nä»€éº¼æ˜¯ Docker å»ºæ§‹ä¸Šä¸‹æ–‡(build context) é¦–å…ˆï¼Œè®“æˆ‘å€‘ç°¡å–®å›é¡§ä¸€ä¸‹ Docker çš„åŸºæœ¬æ¦‚å¿µã€‚Docker å…è¨±æ‚¨æ‰“åŒ…æ‡‰ç”¨ç¨‹å¼å’Œæ‰€éœ€ç’°å¢ƒåˆ°ä¸€å€‹ç¨±ç‚º \u0026ldquo;é¡åƒ\u0026rdquo;(image) çš„å®¹å™¨ä¸­ã€‚é€™å€‹é¡åƒå¯ä»¥åœ¨ä»»ä½•å®‰è£äº† Docker çš„ç³»çµ±ä¸Šé‹è¡Œã€‚\nDocker å»ºæ§‹ä¸Šä¸‹æ–‡çš„æ¦‚å¿µï¼š\nç•¶æ‚¨ä½¿ç”¨ docker build å‘½ä»¤å»ºç«‹ Docker é¡åƒæ™‚ï¼ŒDocker æœƒå°‡æŒ‡å®šè·¯å¾‘ä¸‹çš„æª”æ¡ˆå’Œç›®éŒ„æ‰“åŒ…æˆä¸€å€‹ tar æª”æ¡ˆã€‚ é€™å€‹ tar æª”æ¡ˆè¢«ç¨±ç‚º \u0026ldquo;å»ºæ§‹ä¸Šä¸‹æ–‡\u0026rdquo;(build context)ã€‚ ç‚ºä»€éº¼éœ€è¦å»ºæ§‹ä¸Šä¸‹æ–‡ï¼š\nDocker çš„é¡åƒæ˜¯åœ¨ Docker ä¼ºæœå™¨ï¼ˆé€šå¸¸æ˜¯é ç«¯ä¼ºæœå™¨ï¼‰ä¸Šå»ºæ§‹çš„ã€‚ ç‚ºäº†å»ºæ§‹é¡åƒï¼ŒDocker ä¼ºæœå™¨éœ€è¦è¨ªå•åˆ°æ‰€æœ‰å¿…è¦çš„æª”æ¡ˆï¼Œæ¯”å¦‚åŸå§‹ç¢¼ã€é…ç½®æª”æ¡ˆç­‰ã€‚ å› æ­¤ï¼Œå®¢æˆ¶ç«¯ï¼ˆæ‚¨çš„é›»è…¦ï¼‰æœƒæŠŠé€™äº›æª”æ¡ˆæ‰“åŒ…æˆ tar æª”æ¡ˆï¼Œç„¶å¾Œä¸Šå‚³çµ¦ä¼ºæœå™¨ã€‚ Dockerfile å’Œå»ºæ§‹ä¸Šä¸‹æ–‡ï¼š\nDockerfile æ˜¯ä¸€å€‹åŒ…å«äº†å»ºæ§‹é¡åƒæ‰€éœ€æ­¥é©Ÿçš„æ–‡æœ¬æª”æ¡ˆã€‚ åœ¨ Dockerfile ä¸­ï¼Œæ‚¨å¯ä»¥å¼•ç”¨å»ºæ§‹ä¸Šä¸‹æ–‡ä¸­çš„æª”æ¡ˆã€‚æ¯”å¦‚ï¼Œæ‚¨å¯ä»¥è¤‡è£½å»ºæ§‹ä¸Šä¸‹æ–‡ä¸­çš„æª”æ¡ˆåˆ°é¡åƒè£¡ï¼Œæˆ–è€…åŸ·è¡Œå»ºæ§‹ä¸Šä¸‹æ–‡ä¸­çš„è…³æœ¬ã€‚ ç¸½çµä¾†èªªï¼ŒDocker å»ºæ§‹ä¸Šä¸‹æ–‡æ˜¯ Docker å®¢æˆ¶ç«¯å°‡å»ºæ§‹é¡åƒæ‰€éœ€çš„æª”æ¡ˆæ‰“åŒ…ä¸¦å‚³è¼¸çµ¦ Docker ä¼ºæœå™¨çš„éç¨‹ã€‚é€™ç¢ºä¿äº† Docker ä¼ºæœå™¨æœ‰æ‰€æœ‰å¿…è¦çš„æª”æ¡ˆä¾†å»ºæ§‹é¡åƒã€‚\nç‚ºä½•æˆ‘ä¸€é–‹å§‹çš„è™•ç†æ–¹å¼æœƒå‡ºç¾ ERROR? é—œéµå°±å‡ºåœ¨ï¼š\nç•¶æˆ‘å€‘åŸ·è¡Œ docker build -t e2e-project-testenv:v1 .ï¼ŒDocker å®¢æˆ¶ç«¯æœƒå…ˆå°‡å¾Œé¢çš„æŒ‡å®šè·¯å¾‘(.) æ‰“åŒ…æˆä¸€å€‹ tar æª”æ¡ˆï¼Œå‚³é€çµ¦ Docker ä¼ºæœå™¨ç«¯ï¼Œæ¥è‘—æ‰æœƒæ ¹æ“š Dockerfile ä¸­æ‰€å®šç¾©çš„è…³æœ¬é€²è¡Œæ§‹å»º ä»€éº¼æ„æ€å‘¢ï¼Ÿ\næˆ‘ç•¶æ™‚åŸ·è¡ŒæŒ‡ä»¤ cd testenvironment1 æ¥è‘—åŸ·è¡Œ docker build -t e2e-project-testenv:v1 . äº‹å¯¦ä¸Šå°±æ˜¯æŠŠ testenvironment1 é€™å€‹ç›®éŒ„ä»¥åŠå…¶å­ç›®éŒ„ä¸‹çš„æ‰€æœ‰æª”æ¡ˆæ‰“åŒ…å¥½ï¼Œå‚³é€è‡³ Docker Daemon Docker åœ¨ Build çš„æ™‚å€™åªèƒ½å–ç”¨ä¸Šä¸‹æ–‡çš„æª”æ¡ˆï¼Œrequirements.txt ä½æ–¼é€™å€‹ç›®éŒ„çš„ä¸Šå±¤(å³ E2Eproject ç›®éŒ„ä¸­)ï¼Œå› æ­¤å®ƒä¸æœƒè¢«åŒ…å«åœ¨å»ºæ§‹ä¸Šä¸‹æ–‡ä¸­ï¼Œä¹Ÿå°±ç„¡æ³•åœ¨ Dockerfile ä¸­è¢«è¨ªå•ã€‚ æ›´å„ªé›…çš„è™•ç†æ–¹å¼ å¦‚æœå»ºæ§‹é¡åƒæ™‚æ²’æœ‰æ˜ç¢ºæŒ‡å®š Dockerfileï¼Œé‚£éº¼ Docker Client é»˜èªåœ¨å»ºæ§‹é¡åƒæ™‚æŒ‡å®šçš„ä¸Šä¸‹æ–‡è·¯å¾‘ä¸‹æ‰¾åå­—ç‚º Dockerfile çš„å»ºæ§‹æª”æ¡ˆ\nä½†äº‹å¯¦ä¸Šï¼ŒDockerfile èˆ‡ build image çš„ä¸Šä¸‹æ–‡ç›®éŒ„ä¸å¿…å¼·é—œè¯åœ¨ä¸€èµ· æˆ‘å€‘åœ¨æŒ‡ä»¤ä¸­æŒ‡å®šä¸€å€‹ç›®éŒ„ä½œç‚ºä¸Šä¸‹æ–‡ ç„¶å¾Œä¹Ÿé€é -f åƒæ•¸æŒ‡å®šä½¿ç”¨å“ªå€‹å»ºæ§‹æª”æ¡ˆ ä¸¦ä¸”åç¨±å¯ä»¥è‡ªå·±ä»»æ„å‘½åï¼ ä¸¦ä¸”åç¨±å¯ä»¥è‡ªå·±ä»»æ„å‘½åï¼ï¼ ä¸¦ä¸”åç¨±å¯ä»¥è‡ªå·±ä»»æ„å‘½åï¼ï¼ï¼ é€™å®Œå®Œå…¨å…¨è§£æƒ‘äº†æˆ‘ç•¶åˆèœé³¥æ‰€ä»¥ç‚ºçš„ã€Œ Dockerfile å°±æ˜¯ä¸€å®šå¾—å‘½åç‚º\u0026quot;Dockerfile\u0026quot;ã€\nä¾‹å¦‚ï¼š\n$ cd E2Eproject $ docker build -t e2e-project-testenv:v1 -f testenvironment1/Dockerfile . åƒè€ƒè³‡æ–™ Docker-å­¦ä¹ ç³»åˆ—25-Dockerfile-ä¸­çš„-COPY-ä¸-ADD-å‘½ä»¤.html\næ·±å…¥ç†è§£ docker build ä¸­çš„å»ºæ§‹ä¸Šä¸‹æ–‡\n","permalink":"https://shiun.me/blog/a-project-with-multiple-dockerfiles-an-introduction-to-build-context/","summary":"\u003cp\u003eæœ€è¿‘åœ¨å¯« E2E æ¸¬è©¦é‡åˆ°ä¸€å€‹å•é¡Œï¼Œå›  E2E å°ˆæ¡ˆä¸­ï¼Œé™¤äº†å°ˆæ¡ˆæœ¬èº«çš„ Docker Image éœ€è¦ Build ä¹‹å¤–ï¼Œé‚„æœ‰å¤šå€‹æ¸¬è©¦ç’°å¢ƒçš„ Image ä¹Ÿè¦ Buildï¼Œé€™é€ æˆäº†æˆ‘åœ¨é€™å€‹å°ˆæ¡ˆä¸Šéœ€è¦å‰µå»ºå¤šå€‹ Dockerfile\u003c/p\u003e\n\u003ch2 id=\"ç™¼ç”Ÿäº†ä»€éº¼å•é¡Œ-æˆ‘ä¸€é–‹å§‹çš„éŒ¯èª¤è™•ç†æ–¹å¼\"\u003eç™¼ç”Ÿäº†ä»€éº¼å•é¡Œ? æˆ‘ä¸€é–‹å§‹çš„éŒ¯èª¤è™•ç†æ–¹å¼\u003c/h2\u003e\n\u003cp\u003eèœé³¥æ™‚æœŸçš„æˆ‘ï¼Œä»¥ç‚º Dockerfile å°±æ˜¯ä¸€å®šå¾—å‘½åç‚º\u0026quot;Dockerfile\u0026quot;ï¼Œé€™å°è‡´äº†æˆ‘æ²’è¾¦æ³•åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹å‰µå»ºä¸‰å€‹ Dockerfileï¼Œå› ç‚ºæœƒå°è‡´å‘½åè¡çª\u003c/p\u003e\n\u003cp\u003eé‚£æˆ‘æƒ³å‡ºäº†ä»€éº¼è™•ç†æ–¹å¼ï¼Ÿç›¸ç•¶ç°¡å–®ï¼Œå¾ˆèœçš„æˆ‘ï¼Œä¸€é–‹å§‹ä¾¿è‡ªç„¶åœ°æ ¹æ“šä¸åŒç’°å¢ƒåœ¨å°ˆæ¡ˆä¸‹å‰µå»ºäº†ä¸åŒçš„ç›®éŒ„ï¼Œç„¶å¾Œåœ¨ç›®éŒ„åº•ä¸‹å­˜æ”¾å„è‡ªçš„ Dockerfile\nå°±å¾ˆé¡ä¼¼é€™ç¨®æ„Ÿè¦ºï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-plaintext\" data-lang=\"plaintext\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eE2Eproject/\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eâ”œâ”€â”€ testenvironment1/\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eâ”‚   â””â”€â”€ Dockerfile\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eâ”œâ”€â”€ testenvironment2/\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eâ”‚   â””â”€â”€ Dockerfile\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eâ”œâ”€â”€ requirements.txt\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eâ””â”€â”€ Dockerfile\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ¥è‘—ä¾¿æ¥è‘—ç™¼ç”Ÿä¸‹ä¸€å€‹å•é¡Œ â€” éŒ¯èª¤çš„å»ºæ§‹ä¸Šä¸‹æ–‡\nä»¥å…¶ä¸­ä¸€å€‹æ¸¬è©¦ç’°å¢ƒå…§çš„ Dockerfile ç‚ºç¯„ä¾‹ï¼Œç•¶æ™‚æˆ‘çš„å¯«æ³•å¦‚ä¸‹ï¼Œè«‹ç‰¹åˆ¥æ³¨æ„ \u003ccode\u003eCOPY ../ /usr/src/app/\u003c/code\u003e é€™è¡Œ\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Dockerfile\" data-lang=\"Dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Use the official Python base image from the DockerHub.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e python:3.12\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Set the working directory within the container.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eWORKDIR\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e /usr/src/app\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Set the PYTHONPATH environment variable. This is where Python looks for modules.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# It\u0026#39;s set to the work directory to allow local modules to be found.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eENV\u003c/span\u003e PYTHONPATH /usr/src/app\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Copy the contents of the current host directory into the container\u0026#39;s work directory.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eCOPY\u003c/span\u003e ../ /usr/src/app/\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Install the project dependencies specified in the requirements.txt file.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# The --no-cache-dir option is used to disable the cache and reduce the layer size.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eRUN\u003c/span\u003e pip install --no-cache-dir -r ../requirements.txt\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# ç•¥ ...\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eRUN\u003c/span\u003e chmod +x /usr/src/app/start-tests.sh\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# The command to run the application.\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eCMD\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;sh\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/usr/src/app/start-headless-tests.sh\u0026#34;\u003c/span\u003e]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cblockquote\u003e\n\u003cp\u003eæ³¨æ„ï¼šæœ¬æ–‡çš„ Dockerfile ä¾‹å­ä¸»è¦ç”¨æ–¼å±•ç¤ºå»ºæ§‹ä¸Šä¸‹æ–‡çš„æ¦‚å¿µã€‚åœ¨å¯¦éš›é–‹ç™¼ä¸­ï¼Œå»ºè­°æ¡ç”¨å±¤ç´šå¿«å–ï¼ˆlayer cachingï¼‰çš„æœ€ä½³å¯¦è¸ï¼Œä¹Ÿå°±æ˜¯å…ˆè¤‡è£½ä¸¦å®‰è£ requirements.txtï¼Œå†è¤‡è£½å…¶ä»–æª”æ¡ˆã€‚æœ‰é—œ Build cache çš„è³‡è¨Šè«‹æŸ¥é–± \u003ca href=\"https://docs.docker.com/build/building/best-practices/#leverage-build-cache\"\u003eDocker å®˜æ–¹æ–‡æª”\u003c/a\u003eã€‚\u003c/p\u003e","title":"ä¸€å€‹å°ˆæ¡ˆéœ€è¦å¤šå€‹ Dockerfile - æ·ºè«‡å»ºæ§‹ä¸Šä¸‹æ–‡ (build context)"},{"content":"å¤§å®¶å¥½æˆ‘æ˜¯ Shiunï¼Œé€™ç¯‡æ˜¯æˆ‘çš„å€‹äººç¶²ç«™çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæœƒè¨˜éŒ„æˆ‘çš„å‹•æ©Ÿä»¥åŠç¾åœ¨çš„æ™‚ç©ºèƒŒæ™¯ï¼Œä»¥æ­¤ä¾†è¨˜éŒ„ä¸€ä¸‹è‡ªå·±çš„å€‹äººæˆé•·ï¼Œæœªä¾†å›é ­ä¾†çœ‹çœ‹è‡ªå·±æˆé•·å¤šå°‘\næ¶è¨­ç¶²ç«™çš„å‹•æ©Ÿ å‹•æ©Ÿèˆ‡åŸå›  æœƒæƒ³è¦æ¶è¨­å€‹äººç¶²ç«™ä¸»è¦æœ‰ä»¥ä¸‹åŸå› ï¼š\næƒ³è¦è¨˜éŒ„è‡ªå·±çš„å€‹äººæˆé•·ï¼Œä»¥åŠéš¨æ‰‹ç­†è¨˜ å—åˆ° Nic çš„å•Ÿç™¼ (Youtubeé€£çµ)ï¼Œè¦ºå¾—å°æ–¼æœªä¾†è·æ¶¯çš„é“è·¯ä¸Šæœƒæœ‰æ‰€å¹«åŠ©ï¼Œèƒ½å¤ å»ºç«‹å€‹äººå“ç‰Œï¼Œå½°é¡¯å°ˆæ¥­ è‡ªå·±æœ¬èº«å°±å¾ˆç†±æ„›åˆ†äº«çŸ¥è­˜ã€æŠ€è¡“ï¼Œè€Œä¸”å¾ˆäº«å—ä¸Šå°æ¼”è¬›çš„æ°›åœ çœ‹èµ·ä¾†å¾ˆå¸¥ 2024 å¹´ 1 æœˆï¼Œä¸‹å®šæ±ºå¿ƒ ä¸€ç›´ä»¥ä¾†éƒ½æƒ³æ¶ä¸€å€‹è‡ªå·±çš„å€‹äººç¶²ç«™ï¼Œä½†é²é²ä¸€ç›´æ²’æœ‰ä¸‹æ‰‹ï¼Œçµ•å¤§éƒ¨åˆ†æ˜¯å› ç‚ºæ‡¶ XDï¼Œè€Œæˆ‘ä¸€ç›´ä»¥ä¾†éƒ½æœƒæŠŠè‡ªå·±çš„æƒ³æ³•ç´€éŒ„åœ¨ Google Keep æˆ–æ˜¯ Dropbox Paper\nç›´åˆ° 2024/01 ä¸‹å®šæ±ºå¿ƒä»Šå¹´çš„æ–°å¸Œæœ›(ç›®æ¨™)ä¸€å®šè¦æ¶å¥½å€‹äººç¶²ç«™ï¼Œé–‹å§‹å¯«æ–‡ç« ï¼Œè€Œä¸”æˆ‘ä»Šå¹´(2024)ä¹Ÿæº–å‚™è¦ç•¢æ¥­äº†ï¼Œå³å°‡é¢å°è·å ´ï¼Œé€™æ™‚å€™å†ä¸è¶•å¿«ç”¢å‡ºæœ‰è³ªé‡çš„å…§å®¹å°±å¤ªè™§äº†\né—œæ–¼æˆ‘ Hi æˆ‘æ˜¯ Shiunï¼Œå®¶è£¡æœ‰å…©éš»è²“(å¨œå¨œ \u0026amp; å¦®å¦®ğŸ˜ºğŸ˜º) æˆ‘ç›®å‰å°±è®€æ–¼æŸç§ç«‹å¤§å­¸çš„è³‡ç®¡ç³»(2024 ç•¢æ¥­)ï¼ŒåŒæ™‚ä¹Ÿå°±è·æ–¼ï¼š\nAWS Educate 5th Cloud Ambassador - Technical Support @AWS Backend Engineer Intern @eGroupAI åœ¨ 2024 å¹´ 3 æœˆè¦æ¥ä»»ï¼š\nAWS Educate 6th Cloud Ambassador Team Lead (æŠ€è¡“) @AWS Cloud Engineer Intern @eCloudValley ä¸»è¦å°ˆç²¾æ–¼å¾Œç«¯èˆ‡é›²ç«¯åŠ DevOps æ–¹é¢çš„æŠ€è¡“ï¼š\nSpring boot Jenkins AWS Docker Selenium Pytest é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä¹Ÿå¾ˆæ“…é•·æ“”ä»»é ˜å°è€…çš„è§’è‰²ï¼Œåœ¨æ±‚å­¸è·æ¶¯ä¸­ï¼Œæˆ‘å¹¾ä¹éƒ½æ˜¯æ“”ä»»é ˜å°è€…çš„è·ä½ï¼Œåƒæ˜¯åœ¨å¤§å­¸ç•¢æ¥­å°ˆé¡Œä¸­æˆ‘ä¹Ÿæ“”ä»»äº†çµ„é•·ã€PMã€Product Ownerã€Backend Developmentï¼Œåœ¨ç•¢æ¥­å°ˆé¡Œ(ä½œå“é€£çµ)ä¸­ä¸Šå¯¦è¸äº†æ•æ·å¼é–‹ç™¼(Scrum, Kanban)\n","permalink":"https://shiun.me/blog/my-first/","summary":"\u003cp\u003eå¤§å®¶å¥½æˆ‘æ˜¯ Shiunï¼Œé€™ç¯‡æ˜¯æˆ‘çš„å€‹äººç¶²ç«™çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæœƒè¨˜éŒ„æˆ‘çš„å‹•æ©Ÿä»¥åŠç¾åœ¨çš„æ™‚ç©ºèƒŒæ™¯ï¼Œä»¥æ­¤ä¾†è¨˜éŒ„ä¸€ä¸‹è‡ªå·±çš„å€‹äººæˆé•·ï¼Œæœªä¾†å›é ­ä¾†çœ‹çœ‹è‡ªå·±æˆé•·å¤šå°‘\u003c/p\u003e\n\u003ch2 id=\"æ¶è¨­ç¶²ç«™çš„å‹•æ©Ÿ\"\u003eæ¶è¨­ç¶²ç«™çš„å‹•æ©Ÿ\u003c/h2\u003e\n\u003ch3 id=\"å‹•æ©Ÿèˆ‡åŸå› \"\u003eå‹•æ©Ÿèˆ‡åŸå› \u003c/h3\u003e\n\u003cp\u003eæœƒæƒ³è¦æ¶è¨­å€‹äººç¶²ç«™ä¸»è¦æœ‰ä»¥ä¸‹åŸå› ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eæƒ³è¦è¨˜éŒ„è‡ªå·±çš„å€‹äººæˆé•·ï¼Œä»¥åŠéš¨æ‰‹ç­†è¨˜\u003c/li\u003e\n\u003cli\u003eå—åˆ° Nic çš„å•Ÿç™¼ (\u003ca href=\"https://www.youtube.com/watch?v=yL0PyI7xsDY\u0026amp;ab_channel=%E5%9C%A8%E5%9C%B0%E4%B8%8A%E6%BB%BE%E7%9A%84%E5%B7%A5%E7%A8%8B%E5%B8%ABNic\"\u003eYoutubeé€£çµ\u003c/a\u003e)ï¼Œè¦ºå¾—å°æ–¼æœªä¾†è·æ¶¯çš„é“è·¯ä¸Šæœƒæœ‰æ‰€å¹«åŠ©ï¼Œèƒ½å¤ å»ºç«‹å€‹äººå“ç‰Œï¼Œå½°é¡¯å°ˆæ¥­\u003c/li\u003e\n\u003cli\u003eè‡ªå·±æœ¬èº«å°±å¾ˆç†±æ„›åˆ†äº«çŸ¥è­˜ã€æŠ€è¡“ï¼Œè€Œä¸”å¾ˆäº«å—ä¸Šå°æ¼”è¬›çš„æ°›åœ\u003c/li\u003e\n\u003cli\u003eçœ‹èµ·ä¾†å¾ˆå¸¥\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"2024-å¹´-1-æœˆä¸‹å®šæ±ºå¿ƒ\"\u003e2024 å¹´ 1 æœˆï¼Œä¸‹å®šæ±ºå¿ƒ\u003c/h3\u003e\n\u003cp\u003eä¸€ç›´ä»¥ä¾†éƒ½æƒ³æ¶ä¸€å€‹è‡ªå·±çš„å€‹äººç¶²ç«™ï¼Œä½†é²é²ä¸€ç›´æ²’æœ‰ä¸‹æ‰‹ï¼Œçµ•å¤§éƒ¨åˆ†æ˜¯å› ç‚ºæ‡¶ XDï¼Œè€Œæˆ‘ä¸€ç›´ä»¥ä¾†éƒ½æœƒæŠŠè‡ªå·±çš„æƒ³æ³•ç´€éŒ„åœ¨ Google Keep æˆ–æ˜¯ Dropbox Paper\u003c/p\u003e\n\u003cp\u003eç›´åˆ° 2024/01 ä¸‹å®šæ±ºå¿ƒä»Šå¹´çš„æ–°å¸Œæœ›(ç›®æ¨™)ä¸€å®šè¦æ¶å¥½å€‹äººç¶²ç«™ï¼Œé–‹å§‹å¯«æ–‡ç« ï¼Œè€Œä¸”æˆ‘ä»Šå¹´(2024)ä¹Ÿæº–å‚™è¦ç•¢æ¥­äº†ï¼Œå³å°‡é¢å°è·å ´ï¼Œé€™æ™‚å€™å†ä¸è¶•å¿«ç”¢å‡ºæœ‰è³ªé‡çš„å…§å®¹å°±å¤ªè™§äº†\u003c/p\u003e\n\u003ch2 id=\"é—œæ–¼æˆ‘\"\u003eé—œæ–¼æˆ‘\u003c/h2\u003e\n\u003cp\u003eHi æˆ‘æ˜¯ Shiunï¼Œå®¶è£¡æœ‰å…©éš»è²“(å¨œå¨œ \u0026amp; å¦®å¦®ğŸ˜ºğŸ˜º)\næˆ‘ç›®å‰å°±è®€æ–¼æŸç§ç«‹å¤§å­¸çš„è³‡ç®¡ç³»(2024 ç•¢æ¥­)ï¼ŒåŒæ™‚ä¹Ÿå°±è·æ–¼ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAWS Educate 5th Cloud Ambassador - Technical Support @AWS\u003c/li\u003e\n\u003cli\u003eBackend Engineer Intern @eGroupAI\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eåœ¨ 2024 å¹´ 3 æœˆè¦æ¥ä»»ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAWS Educate 6th Cloud Ambassador Team Lead (æŠ€è¡“) @AWS\u003c/li\u003e\n\u003cli\u003eCloud Engineer Intern @eCloudValley\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä¸»è¦å°ˆç²¾æ–¼å¾Œç«¯èˆ‡é›²ç«¯åŠ DevOps æ–¹é¢çš„æŠ€è¡“ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSpring boot\u003c/li\u003e\n\u003cli\u003eJenkins\u003c/li\u003e\n\u003cli\u003eAWS\u003c/li\u003e\n\u003cli\u003eDocker\u003c/li\u003e\n\u003cli\u003eSelenium\u003c/li\u003e\n\u003cli\u003ePytest\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä¹Ÿå¾ˆæ“…é•·æ“”ä»»é ˜å°è€…çš„è§’è‰²ï¼Œåœ¨æ±‚å­¸è·æ¶¯ä¸­ï¼Œæˆ‘å¹¾ä¹éƒ½æ˜¯æ“”ä»»é ˜å°è€…çš„è·ä½ï¼Œåƒæ˜¯åœ¨å¤§å­¸ç•¢æ¥­å°ˆé¡Œä¸­æˆ‘ä¹Ÿæ“”ä»»äº†çµ„é•·ã€PMã€Product Ownerã€Backend Developmentï¼Œåœ¨ç•¢æ¥­å°ˆé¡Œ(\u003ca href=\"https://pago-app.me/\"\u003eä½œå“é€£çµ\u003c/a\u003e)ä¸­ä¸Šå¯¦è¸äº†æ•æ·å¼é–‹ç™¼(Scrum, Kanban)\u003c/p\u003e","title":"é€™å€‹ç¶²ç«™çš„ç¬¬ä¸€ç¯‡æ–‡ç«  - é—œæ–¼æˆ‘ ä»¥åŠæ¶ç«™çš„å‹•æ©Ÿ"}]